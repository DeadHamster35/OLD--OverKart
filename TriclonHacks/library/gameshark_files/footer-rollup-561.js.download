// ***************************
// js.compressed/jquery/jquery-migrate-1.2.1.min.js
// ***************************
/*! jQuery Migrate v1.2.1 | (c) 2005, 2013 jQuery Foundation, Inc. and other contributors | jquery.org/license */
jQuery.migrateMute===void 0&&(jQuery.migrateMute=!0),function(e,t,n){function r(n){var r=t.console;i[n]||(i[n]=!0,e.migrateWarnings.push(n),r&&r.warn&&!e.migrateMute&&(r.warn("JQMIGRATE: "+n),e.migrateTrace&&r.trace&&r.trace()))}function a(t,a,i,o){if(Object.defineProperty)try{return Object.defineProperty(t,a,{configurable:!0,enumerable:!0,get:function(){return r(o),i},set:function(e){r(o),i=e}}),n}catch(s){}e._definePropertyBroken=!0,t[a]=i}var i={};e.migrateWarnings=[],!e.migrateMute&&t.console&&t.console.log&&t.console.log("JQMIGRATE: Logging is active"),e.migrateTrace===n&&(e.migrateTrace=!0),e.migrateReset=function(){i={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&r("jQuery is not compatible with Quirks Mode");var o=e("<input/>",{size:1}).attr("size")&&e.attrFn,s=e.attr,u=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},c=e.attrHooks.value&&e.attrHooks.value.set||function(){return n},l=/^(?:input|button)$/i,d=/^[238]$/,p=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:checked|selected)$/i;a(e,"attrFn",o||{},"jQuery.attrFn is deprecated"),e.attr=function(t,a,i,u){var c=a.toLowerCase(),g=t&&t.nodeType;return u&&(4>s.length&&r("jQuery.fn.attr( props, pass ) is deprecated"),t&&!d.test(g)&&(o?a in o:e.isFunction(e.fn[a])))?e(t)[a](i):("type"===a&&i!==n&&l.test(t.nodeName)&&t.parentNode&&r("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[c]&&p.test(c)&&(e.attrHooks[c]={get:function(t,r){var a,i=e.prop(t,r);return i===!0||"boolean"!=typeof i&&(a=t.getAttributeNode(r))&&a.nodeValue!==!1?r.toLowerCase():n},set:function(t,n,r){var a;return n===!1?e.removeAttr(t,r):(a=e.propFix[r]||r,a in t&&(t[a]=!0),t.setAttribute(r,r.toLowerCase())),r}},f.test(c)&&r("jQuery.fn.attr('"+c+"') may use property instead of attribute")),s.call(e,t,a,i))},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?u.apply(this,arguments):("input"!==n&&"option"!==n&&r("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var a=(e.nodeName||"").toLowerCase();return"button"===a?c.apply(this,arguments):("input"!==a&&"option"!==a&&r("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t,n)}};var g,h,v=e.fn.init,m=e.parseJSON,y=/^([^<]*)(<[\w\W]+>)([^>]*)$/;e.fn.init=function(t,n,a){var i;return t&&"string"==typeof t&&!e.isPlainObject(n)&&(i=y.exec(e.trim(t)))&&i[0]&&("<"!==t.charAt(0)&&r("$(html) HTML strings must start with '<' character"),i[3]&&r("$(html) HTML text after last tag is ignored"),"#"===i[0].charAt(0)&&(r("HTML string cannot start with a '#' character"),e.error("JQMIGRATE: Invalid selector string (XSS)")),n&&n.context&&(n=n.context),e.parseHTML)?v.call(this,e.parseHTML(i[2],n,!0),n,a):v.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?m.apply(this,arguments):(r("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0>e.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(g=e.uaMatch(navigator.userAgent),h={},g.browser&&(h[g.browser]=!0,h.version=g.version),h.chrome?h.webkit=!0:h.webkit&&(h.safari=!0),e.browser=h),a(e,"browser",e.browser,"jQuery.browser is deprecated"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(r,a){return a&&a instanceof e&&!(a instanceof t)&&(a=t(a)),e.fn.init.call(this,r,a,n)},t.fn.init.prototype=t.fn;var n=t(document);return r("jQuery.sub() is deprecated"),t},e.ajaxSetup({converters:{"text json":e.parseJSON}});var b=e.fn.data;e.fn.data=function(t){var a,i,o=this[0];return!o||"events"!==t||1!==arguments.length||(a=e.data(o,t),i=e._data(o,t),a!==n&&a!==i||i===n)?b.apply(this,arguments):(r("Use of jQuery.fn.data('events') is deprecated"),i)};var j=/\/(java|ecma)script/i,w=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return r("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),w.apply(this,arguments)},e.clean||(e.clean=function(t,a,i,o){a=a||document,a=!a.nodeType&&a[0]||a,a=a.ownerDocument||a,r("jQuery.clean() is deprecated");var s,u,c,l,d=[];if(e.merge(d,e.buildFragment(t,a).childNodes),i)for(c=function(e){return!e.type||j.test(e.type)?o?o.push(e.parentNode?e.parentNode.removeChild(e):e):i.appendChild(e):n},s=0;null!=(u=d[s]);s++)e.nodeName(u,"script")&&c(u)||(i.appendChild(u),u.getElementsByTagName!==n&&(l=e.grep(e.merge([],u.getElementsByTagName("script")),c),d.splice.apply(d,[s+1,0].concat(l)),s+=l.length));return d});var Q=e.event.add,x=e.event.remove,k=e.event.trigger,N=e.fn.toggle,T=e.fn.live,M=e.fn.die,S="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",C=RegExp("\\b(?:"+S+")\\b"),H=/(?:^|\s)hover(\.\S+|)\b/,A=function(t){return"string"!=typeof t||e.event.special.hover?t:(H.test(t)&&r("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(H,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&a(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,n,a,i){e!==document&&C.test(t)&&r("AJAX events should be attached to document: "+t),Q.call(this,e,A(t||""),n,a,i)},e.event.remove=function(e,t,n,r,a){x.call(this,e,A(t)||"",n,r,a)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return r("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n))return N.apply(this,arguments);r("jQuery.fn.toggle(handler, handler...) is deprecated");var a=arguments,i=t.guid||e.guid++,o=0,s=function(n){var r=(e._data(this,"lastToggle"+t.guid)||0)%o;return e._data(this,"lastToggle"+t.guid,r+1),n.preventDefault(),a[r].apply(this,arguments)||!1};for(s.guid=i;a.length>o;)a[o++].guid=i;return this.click(s)},e.fn.live=function(t,n,a){return r("jQuery.fn.live() is deprecated"),T?T.apply(this,arguments):(e(this.context).on(t,this.selector,n,a),this)},e.fn.die=function(t,n){return r("jQuery.fn.die() is deprecated"),M?M.apply(this,arguments):(e(this.context).off(t,this.selector||"**",n),this)},e.event.trigger=function(e,t,n,a){return n||C.test(e)||r("Global events are undocumented and deprecated"),k.call(this,e,t,n||document,a)},e.each(S.split("|"),function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+"."+e.guid,function(){e.event.trigger(n,null,t,!0)}),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+"."+e._data(this,n)),!1}}})}(jQuery,window);;

// ***************************
// js.compressed/jquery/jquery-ui-1.11.4.custom.min.js
// ***************************
/* jQuery UI - v1.11.4 - 2016-01-06
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, position.js, draggable.js, droppable.js, resizable.js, sortable.js, accordion.js, autocomplete.js, button.js, datepicker.js, dialog.js, menu.js, slider.js, tabs.js, effect.js, effect-highlight.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */
(function(A){if(typeof define==="function"&&define.amd){define(["jquery"],A)}else{A(jQuery)}}(function($){
/*
 * jQuery UI Core 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
$.ui=$.ui||{};if($.ui.version){return }$.extend($.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});$.fn.extend({scrollParent:function(includeHidden){var position=this.css("position"),excludeStaticParent=position==="absolute",overflowRegex=includeHidden?/(auto|scroll|hidden)/:/(auto|scroll)/,scrollParent=this.parents().filter(function(){var parent=$(this);if(excludeStaticParent&&parent.css("position")==="static"){return false}return overflowRegex.test(parent.css("overflow")+parent.css("overflow-y")+parent.css("overflow-x"))}).eq(0);return position==="fixed"||!scrollParent.length?$(this[0].ownerDocument||document):scrollParent},uniqueId:(function(){var uuid=0;return function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++uuid)}})}})(),removeUniqueId:function(){return this.each(function(){if(/^ui-id-\d+$/.test(this.id)){$(this).removeAttr("id")}})}});function focusable(element,isTabIndexNotNaN){var map,mapName,img,nodeName=element.nodeName.toLowerCase();if("area"===nodeName){map=element.parentNode;mapName=map.name;if(!element.href||!mapName||map.nodeName.toLowerCase()!=="map"){return false}img=$("img[usemap='#"+mapName+"']")[0];return !!img&&visible(img)}return(/^(input|select|textarea|button|object)$/.test(nodeName)?!element.disabled:"a"===nodeName?element.href||isTabIndexNotNaN:isTabIndexNotNaN)&&visible(element)}function visible(element){return $.expr.filters.visible(element)&&!$(element).parents().addBack().filter(function(){return $.css(this,"visibility")==="hidden"}).length}$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(dataName){return function(elem){return !!$.data(elem,dataName)}}):function(elem,i,match){return !!$.data(elem,match[3])},focusable:function(element){return focusable(element,!isNaN($.attr(element,"tabindex")))},tabbable:function(element){var tabIndex=$.attr(element,"tabindex"),isTabIndexNaN=isNaN(tabIndex);return(isTabIndexNaN||tabIndex>=0)&&focusable(element,!isTabIndexNaN)}});if(!$("<a>").outerWidth(1).jquery){$.each(["Width","Height"],function(i,name){var side=name==="Width"?["Left","Right"]:["Top","Bottom"],type=name.toLowerCase(),orig={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};function reduce(elem,size,border,margin){$.each(side,function(){size-=parseFloat($.css(elem,"padding"+this))||0;if(border){size-=parseFloat($.css(elem,"border"+this+"Width"))||0}if(margin){size-=parseFloat($.css(elem,"margin"+this))||0}});return size}$.fn["inner"+name]=function(size){if(size===undefined){return orig["inner"+name].call(this)}return this.each(function(){$(this).css(type,reduce(this,size)+"px")})};$.fn["outer"+name]=function(size,margin){if(typeof size!=="number"){return orig["outer"+name].call(this,size)}return this.each(function(){$(this).css(type,reduce(this,size,true,margin)+"px")})}})}if(!$.fn.addBack){$.fn.addBack=function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector))}}if($("<a>").data("a-b","a").removeData("a-b").data("a-b")){$.fn.removeData=(function(removeData){return function(key){if(arguments.length){return removeData.call(this,$.camelCase(key))}else{return removeData.call(this)}}})($.fn.removeData)}$.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());$.fn.extend({focus:(function(orig){return function(delay,fn){return typeof delay==="number"?this.each(function(){var elem=this;setTimeout(function(){$(elem).focus();if(fn){fn.call(elem)}},delay)}):orig.apply(this,arguments)}})($.fn.focus),disableSelection:(function(){var eventType="onselectstart" in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(eventType+".ui-disableSelection",function(event){event.preventDefault()})}})(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(zIndex){if(zIndex!==undefined){return this.css("zIndex",zIndex)}if(this.length){var elem=$(this[0]),position,value;while(elem.length&&elem[0]!==document){position=elem.css("position");if(position==="absolute"||position==="relative"||position==="fixed"){value=parseInt(elem.css("zIndex"),10);if(!isNaN(value)&&value!==0){return value}}elem=elem.parent()}}return 0}});$.ui.plugin={add:function(module,option,set){var i,proto=$.ui[module].prototype;for(i in set){proto.plugins[i]=proto.plugins[i]||[];proto.plugins[i].push([option,set[i]])}},call:function(instance,name,args,allowDisconnected){var i,set=instance.plugins[name];if(!set){return }if(!allowDisconnected&&(!instance.element[0].parentNode||instance.element[0].parentNode.nodeType===11)){return }for(i=0;i<set.length;i++){if(instance.options[set[i][0]]){set[i][1].apply(instance.element,args)}}}};
/*
 * jQuery UI Widget 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
var widget_uuid=0,widget_slice=Array.prototype.slice;$.cleanData=(function(orig){return function(elems){var events,elem,i;for(i=0;(elem=elems[i])!=null;i++){try{events=$._data(elem,"events");if(events&&events.remove){$(elem).triggerHandler("remove")}}catch(e){}}orig(elems)}})($.cleanData);$.widget=function(name,base,prototype){var fullName,existingConstructor,constructor,basePrototype,proxiedPrototype={},namespace=name.split(".")[0];name=name.split(".")[1];fullName=namespace+"-"+name;if(!prototype){prototype=base;base=$.Widget}$.expr[":"][fullName.toLowerCase()]=function(elem){return !!$.data(elem,fullName)};$[namespace]=$[namespace]||{};existingConstructor=$[namespace][name];constructor=$[namespace][name]=function(options,element){if(!this._createWidget){return new constructor(options,element)}if(arguments.length){this._createWidget(options,element)}};$.extend(constructor,existingConstructor,{version:prototype.version,_proto:$.extend({},prototype),_childConstructors:[]});basePrototype=new base();basePrototype.options=$.widget.extend({},basePrototype.options);$.each(prototype,function(prop,value){if(!$.isFunction(value)){proxiedPrototype[prop]=value;return }proxiedPrototype[prop]=(function(){var _super=function(){return base.prototype[prop].apply(this,arguments)},_superApply=function(args){return base.prototype[prop].apply(this,args)};return function(){var __super=this._super,__superApply=this._superApply,returnValue;this._super=_super;this._superApply=_superApply;returnValue=value.apply(this,arguments);this._super=__super;this._superApply=__superApply;return returnValue}})()});constructor.prototype=$.widget.extend(basePrototype,{widgetEventPrefix:existingConstructor?(basePrototype.widgetEventPrefix||name):name},proxiedPrototype,{constructor:constructor,namespace:namespace,widgetName:name,widgetFullName:fullName});if(existingConstructor){$.each(existingConstructor._childConstructors,function(i,child){var childPrototype=child.prototype;$.widget(childPrototype.namespace+"."+childPrototype.widgetName,constructor,child._proto)});delete existingConstructor._childConstructors}else{base._childConstructors.push(constructor)}$.widget.bridge(name,constructor);return constructor};$.widget.extend=function(target){var input=widget_slice.call(arguments,1),inputIndex=0,inputLength=input.length,key,value;for(;inputIndex<inputLength;inputIndex++){for(key in input[inputIndex]){value=input[inputIndex][key];if(input[inputIndex].hasOwnProperty(key)&&value!==undefined){if($.isPlainObject(value)){target[key]=$.isPlainObject(target[key])?$.widget.extend({},target[key],value):$.widget.extend({},value)}else{target[key]=value}}}}return target};$.widget.bridge=function(name,object){var fullName=object.prototype.widgetFullName||name;$.fn[name]=function(options){var isMethodCall=typeof options==="string",args=widget_slice.call(arguments,1),returnValue=this;if(isMethodCall){this.each(function(){var methodValue,instance=$.data(this,fullName);if(options==="instance"){returnValue=instance;return false}if(!instance){return $.error("cannot call methods on "+name+" prior to initialization; attempted to call method '"+options+"'")}if(!$.isFunction(instance[options])||options.charAt(0)==="_"){return $.error("no such method '"+options+"' for "+name+" widget instance")}methodValue=instance[options].apply(instance,args);if(methodValue!==instance&&methodValue!==undefined){returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue;return false}})}else{if(args.length){options=$.widget.extend.apply(null,[options].concat(args))}this.each(function(){var instance=$.data(this,fullName);if(instance){instance.option(options||{});if(instance._init){instance._init()}}else{$.data(this,fullName,new object(options,this))}})}return returnValue}};$.Widget=function(){};$.Widget._childConstructors=[];$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(options,element){element=$(element||this.defaultElement||this)[0];this.element=$(element);this.uuid=widget_uuid++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=$();this.hoverable=$();this.focusable=$();if(element!==this){$.data(element,this.widgetFullName,this);this._on(true,this.element,{remove:function(event){if(event.target===element){this.destroy()}}});this.document=$(element.style?element.ownerDocument:element.document||element);this.window=$(this.document[0].defaultView||this.document[0].parentWindow)}this.options=$.widget.extend({},this.options,this._getCreateOptions(),options);this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:$.noop,widget:function(){return this.element},option:function(key,value){var options=key,parts,curOption,i;if(arguments.length===0){return $.widget.extend({},this.options)}if(typeof key==="string"){options={};parts=key.split(".");key=parts.shift();if(parts.length){curOption=options[key]=$.widget.extend({},this.options[key]);for(i=0;i<parts.length-1;i++){curOption[parts[i]]=curOption[parts[i]]||{};curOption=curOption[parts[i]]}key=parts.pop();if(arguments.length===1){return curOption[key]===undefined?null:curOption[key]}curOption[key]=value}else{if(arguments.length===1){return this.options[key]===undefined?null:this.options[key]}options[key]=value}}this._setOptions(options);return this},_setOptions:function(options){var key;for(key in options){this._setOption(key,options[key])}return this},_setOption:function(key,value){this.options[key]=value;if(key==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled",!!value);if(value){this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}}return this},enable:function(){return this._setOptions({disabled:false})},disable:function(){return this._setOptions({disabled:true})},_on:function(suppressDisabledCheck,element,handlers){var delegateElement,instance=this;if(typeof suppressDisabledCheck!=="boolean"){handlers=element;element=suppressDisabledCheck;suppressDisabledCheck=false}if(!handlers){handlers=element;element=this.element;delegateElement=this.widget()}else{element=delegateElement=$(element);this.bindings=this.bindings.add(element)}$.each(handlers,function(event,handler){function handlerProxy(){if(!suppressDisabledCheck&&(instance.options.disabled===true||$(this).hasClass("ui-state-disabled"))){return }return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments)}if(typeof handler!=="string"){handlerProxy.guid=handler.guid=handler.guid||handlerProxy.guid||$.guid++}var match=event.match(/^([\w:-]*)\s*(.*)$/),eventName=match[1]+instance.eventNamespace,selector=match[2];if(selector){delegateElement.delegate(selector,eventName,handlerProxy)}else{element.bind(eventName,handlerProxy)}})},_off:function(element,eventName){eventName=(eventName||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;element.unbind(eventName).undelegate(eventName);this.bindings=$(this.bindings.not(element).get());this.focusable=$(this.focusable.not(element).get());this.hoverable=$(this.hoverable.not(element).get())},_delay:function(handler,delay){function handlerProxy(){return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments)}var instance=this;return setTimeout(handlerProxy,delay||0)},_hoverable:function(element){this.hoverable=this.hoverable.add(element);this._on(element,{mouseenter:function(event){$(event.currentTarget).addClass("ui-state-hover")},mouseleave:function(event){$(event.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(element){this.focusable=this.focusable.add(element);this._on(element,{focusin:function(event){$(event.currentTarget).addClass("ui-state-focus")},focusout:function(event){$(event.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(type,event,data){var prop,orig,callback=this.options[type];data=data||{};event=$.Event(event);event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase();event.target=this.element[0];orig=event.originalEvent;if(orig){for(prop in orig){if(!(prop in event)){event[prop]=orig[prop]}}}this.element.trigger(event,data);return !($.isFunction(callback)&&callback.apply(this.element[0],[event].concat(data))===false||event.isDefaultPrevented())}};$.each({show:"fadeIn",hide:"fadeOut"},function(method,defaultEffect){$.Widget.prototype["_"+method]=function(element,options,callback){if(typeof options==="string"){options={effect:options}}var hasOptions,effectName=!options?method:options===true||typeof options==="number"?defaultEffect:options.effect||defaultEffect;options=options||{};if(typeof options==="number"){options={duration:options}}hasOptions=!$.isEmptyObject(options);options.complete=callback;if(options.delay){element.delay(options.delay)}if(hasOptions&&$.effects&&$.effects.effect[effectName]){element[method](options)}else{if(effectName!==method&&element[effectName]){element[effectName](options.duration,options.easing,callback)}else{element.queue(function(next){$(this)[method]();if(callback){callback.call(element[0])}next()})}}}});var widget=$.widget;
/*
 * jQuery UI Mouse 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 */
var mouseHandled=false;$(document).mouseup(function(){mouseHandled=false});var mouse=$.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var that=this;this.element.bind("mousedown."+this.widgetName,function(event){return that._mouseDown(event)}).bind("click."+this.widgetName,function(event){if(true===$.data(event.target,that.widgetName+".preventClickEvent")){$.removeData(event.target,that.widgetName+".preventClickEvent");event.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate){this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)}},_mouseDown:function(event){if(mouseHandled){return }this._mouseMoved=false;(this._mouseStarted&&this._mouseUp(event));this._mouseDownEvent=event;var that=this,btnIsLeft=(event.which===1),elIsCancel=(typeof this.options.cancel==="string"&&event.target.nodeName?$(event.target).closest(this.options.cancel).length:false);if(!btnIsLeft||elIsCancel||!this._mouseCapture(event)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){that.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=(this._mouseStart(event)!==false);if(!this._mouseStarted){event.preventDefault();return true}}if(true===$.data(event.target,this.widgetName+".preventClickEvent")){$.removeData(event.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(event){return that._mouseMove(event)};this._mouseUpDelegate=function(event){return that._mouseUp(event)};this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);event.preventDefault();mouseHandled=true;return true},_mouseMove:function(event){if(this._mouseMoved){if($.ui.ie&&(!document.documentMode||document.documentMode<9)&&!event.button){return this._mouseUp(event)}else{if(!event.which){return this._mouseUp(event)}}}if(event.which||event.button){this._mouseMoved=true}if(this._mouseStarted){this._mouseDrag(event);return event.preventDefault()}if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,event)!==false);(this._mouseStarted?this._mouseDrag(event):this._mouseUp(event))}return !this._mouseStarted},_mouseUp:function(event){this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(event.target===this._mouseDownEvent.target){$.data(event.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(event)}mouseHandled=false;return false},_mouseDistanceMet:function(event){return(Math.max(Math.abs(this._mouseDownEvent.pageX-event.pageX),Math.abs(this._mouseDownEvent.pageY-event.pageY))>=this.options.distance)},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}});
/*
 * jQuery UI Position 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
(function(){$.ui=$.ui||{};var cachedScrollbarWidth,supportsOffsetFractions,max=Math.max,abs=Math.abs,round=Math.round,rhorizontal=/left|center|right/,rvertical=/top|center|bottom/,roffset=/[\+\-]\d+(\.[\d]+)?%?/,rposition=/^\w+/,rpercent=/%$/,_position=$.fn.position;function getOffsets(offsets,width,height){return[parseFloat(offsets[0])*(rpercent.test(offsets[0])?width/100:1),parseFloat(offsets[1])*(rpercent.test(offsets[1])?height/100:1)]}function parseCss(element,property){return parseInt($.css(element,property),10)||0}function getDimensions(elem){var raw=elem[0];if(raw.nodeType===9){return{width:elem.width(),height:elem.height(),offset:{top:0,left:0}}}if($.isWindow(raw)){return{width:elem.width(),height:elem.height(),offset:{top:elem.scrollTop(),left:elem.scrollLeft()}}}if(raw.preventDefault){return{width:0,height:0,offset:{top:raw.pageY,left:raw.pageX}}}return{width:elem.outerWidth(),height:elem.outerHeight(),offset:elem.offset()}}$.position={scrollbarWidth:function(){if(cachedScrollbarWidth!==undefined){return cachedScrollbarWidth}var w1,w2,div=$("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),innerDiv=div.children()[0];$("body").append(div);w1=innerDiv.offsetWidth;div.css("overflow","scroll");w2=innerDiv.offsetWidth;if(w1===w2){w2=div[0].clientWidth}div.remove();return(cachedScrollbarWidth=w1-w2)},getScrollInfo:function(within){var overflowX=within.isWindow||within.isDocument?"":within.element.css("overflow-x"),overflowY=within.isWindow||within.isDocument?"":within.element.css("overflow-y"),hasOverflowX=overflowX==="scroll"||(overflowX==="auto"&&within.width<within.element[0].scrollWidth),hasOverflowY=overflowY==="scroll"||(overflowY==="auto"&&within.height<within.element[0].scrollHeight);return{width:hasOverflowY?$.position.scrollbarWidth():0,height:hasOverflowX?$.position.scrollbarWidth():0}},getWithinInfo:function(element){var withinElement=$(element||window),isWindow=$.isWindow(withinElement[0]),isDocument=!!withinElement[0]&&withinElement[0].nodeType===9;return{element:withinElement,isWindow:isWindow,isDocument:isDocument,offset:withinElement.offset()||{left:0,top:0},scrollLeft:withinElement.scrollLeft(),scrollTop:withinElement.scrollTop(),width:isWindow||isDocument?withinElement.width():withinElement.outerWidth(),height:isWindow||isDocument?withinElement.height():withinElement.outerHeight()}}};$.fn.position=function(options){if(!options||!options.of){return _position.apply(this,arguments)}options=$.extend({},options);var atOffset,targetWidth,targetHeight,targetOffset,basePosition,dimensions,target=$(options.of),within=$.position.getWithinInfo(options.within),scrollInfo=$.position.getScrollInfo(within),collision=(options.collision||"flip").split(" "),offsets={};dimensions=getDimensions(target);if(target[0].preventDefault){options.at="left top"}targetWidth=dimensions.width;targetHeight=dimensions.height;targetOffset=dimensions.offset;basePosition=$.extend({},targetOffset);$.each(["my","at"],function(){var pos=(options[this]||"").split(" "),horizontalOffset,verticalOffset;if(pos.length===1){pos=rhorizontal.test(pos[0])?pos.concat(["center"]):rvertical.test(pos[0])?["center"].concat(pos):["center","center"]}pos[0]=rhorizontal.test(pos[0])?pos[0]:"center";pos[1]=rvertical.test(pos[1])?pos[1]:"center";horizontalOffset=roffset.exec(pos[0]);verticalOffset=roffset.exec(pos[1]);offsets[this]=[horizontalOffset?horizontalOffset[0]:0,verticalOffset?verticalOffset[0]:0];options[this]=[rposition.exec(pos[0])[0],rposition.exec(pos[1])[0]]});if(collision.length===1){collision[1]=collision[0]}if(options.at[0]==="right"){basePosition.left+=targetWidth}else{if(options.at[0]==="center"){basePosition.left+=targetWidth/2}}if(options.at[1]==="bottom"){basePosition.top+=targetHeight}else{if(options.at[1]==="center"){basePosition.top+=targetHeight/2}}atOffset=getOffsets(offsets.at,targetWidth,targetHeight);basePosition.left+=atOffset[0];basePosition.top+=atOffset[1];return this.each(function(){var collisionPosition,using,elem=$(this),elemWidth=elem.outerWidth(),elemHeight=elem.outerHeight(),marginLeft=parseCss(this,"marginLeft"),marginTop=parseCss(this,"marginTop"),collisionWidth=elemWidth+marginLeft+parseCss(this,"marginRight")+scrollInfo.width,collisionHeight=elemHeight+marginTop+parseCss(this,"marginBottom")+scrollInfo.height,position=$.extend({},basePosition),myOffset=getOffsets(offsets.my,elem.outerWidth(),elem.outerHeight());if(options.my[0]==="right"){position.left-=elemWidth}else{if(options.my[0]==="center"){position.left-=elemWidth/2}}if(options.my[1]==="bottom"){position.top-=elemHeight}else{if(options.my[1]==="center"){position.top-=elemHeight/2}}position.left+=myOffset[0];position.top+=myOffset[1];if(!supportsOffsetFractions){position.left=round(position.left);position.top=round(position.top)}collisionPosition={marginLeft:marginLeft,marginTop:marginTop};$.each(["left","top"],function(i,dir){if($.ui.position[collision[i]]){$.ui.position[collision[i]][dir](position,{targetWidth:targetWidth,targetHeight:targetHeight,elemWidth:elemWidth,elemHeight:elemHeight,collisionPosition:collisionPosition,collisionWidth:collisionWidth,collisionHeight:collisionHeight,offset:[atOffset[0]+myOffset[0],atOffset[1]+myOffset[1]],my:options.my,at:options.at,within:within,elem:elem})}});if(options.using){using=function(props){var left=targetOffset.left-position.left,right=left+targetWidth-elemWidth,top=targetOffset.top-position.top,bottom=top+targetHeight-elemHeight,feedback={target:{element:target,left:targetOffset.left,top:targetOffset.top,width:targetWidth,height:targetHeight},element:{element:elem,left:position.left,top:position.top,width:elemWidth,height:elemHeight},horizontal:right<0?"left":left>0?"right":"center",vertical:bottom<0?"top":top>0?"bottom":"middle"};if(targetWidth<elemWidth&&abs(left+right)<targetWidth){feedback.horizontal="center"}if(targetHeight<elemHeight&&abs(top+bottom)<targetHeight){feedback.vertical="middle"}if(max(abs(left),abs(right))>max(abs(top),abs(bottom))){feedback.important="horizontal"}else{feedback.important="vertical"}options.using.call(this,props,feedback)}}elem.offset($.extend(position,{using:using}))})};$.ui.position={fit:{left:function(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollLeft:within.offset.left,outerWidth=within.width,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=withinOffset-collisionPosLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-withinOffset,newOverRight;if(data.collisionWidth>outerWidth){if(overLeft>0&&overRight<=0){newOverRight=position.left+overLeft+data.collisionWidth-outerWidth-withinOffset;position.left+=overLeft-newOverRight}else{if(overRight>0&&overLeft<=0){position.left=withinOffset}else{if(overLeft>overRight){position.left=withinOffset+outerWidth-data.collisionWidth}else{position.left=withinOffset}}}}else{if(overLeft>0){position.left+=overLeft}else{if(overRight>0){position.left-=overRight}else{position.left=max(position.left-collisionPosLeft,position.left)}}}},top:function(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollTop:within.offset.top,outerHeight=data.within.height,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=withinOffset-collisionPosTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-withinOffset,newOverBottom;if(data.collisionHeight>outerHeight){if(overTop>0&&overBottom<=0){newOverBottom=position.top+overTop+data.collisionHeight-outerHeight-withinOffset;position.top+=overTop-newOverBottom}else{if(overBottom>0&&overTop<=0){position.top=withinOffset}else{if(overTop>overBottom){position.top=withinOffset+outerHeight-data.collisionHeight}else{position.top=withinOffset}}}}else{if(overTop>0){position.top+=overTop}else{if(overBottom>0){position.top-=overBottom}else{position.top=max(position.top-collisionPosTop,position.top)}}}}},flip:{left:function(position,data){var within=data.within,withinOffset=within.offset.left+within.scrollLeft,outerWidth=within.width,offsetLeft=within.isWindow?within.scrollLeft:within.offset.left,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=collisionPosLeft-offsetLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-offsetLeft,myOffset=data.my[0]==="left"?-data.elemWidth:data.my[0]==="right"?data.elemWidth:0,atOffset=data.at[0]==="left"?data.targetWidth:data.at[0]==="right"?-data.targetWidth:0,offset=-2*data.offset[0],newOverRight,newOverLeft;if(overLeft<0){newOverRight=position.left+myOffset+atOffset+offset+data.collisionWidth-outerWidth-withinOffset;if(newOverRight<0||newOverRight<abs(overLeft)){position.left+=myOffset+atOffset+offset}}else{if(overRight>0){newOverLeft=position.left-data.collisionPosition.marginLeft+myOffset+atOffset+offset-offsetLeft;if(newOverLeft>0||abs(newOverLeft)<overRight){position.left+=myOffset+atOffset+offset}}}},top:function(position,data){var within=data.within,withinOffset=within.offset.top+within.scrollTop,outerHeight=within.height,offsetTop=within.isWindow?within.scrollTop:within.offset.top,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=collisionPosTop-offsetTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-offsetTop,top=data.my[1]==="top",myOffset=top?-data.elemHeight:data.my[1]==="bottom"?data.elemHeight:0,atOffset=data.at[1]==="top"?data.targetHeight:data.at[1]==="bottom"?-data.targetHeight:0,offset=-2*data.offset[1],newOverTop,newOverBottom;if(overTop<0){newOverBottom=position.top+myOffset+atOffset+offset+data.collisionHeight-outerHeight-withinOffset;if(newOverBottom<0||newOverBottom<abs(overTop)){position.top+=myOffset+atOffset+offset}}else{if(overBottom>0){newOverTop=position.top-data.collisionPosition.marginTop+myOffset+atOffset+offset-offsetTop;if(newOverTop>0||abs(newOverTop)<overBottom){position.top+=myOffset+atOffset+offset}}}}},flipfit:{left:function(){$.ui.position.flip.left.apply(this,arguments);$.ui.position.fit.left.apply(this,arguments)},top:function(){$.ui.position.flip.top.apply(this,arguments);$.ui.position.fit.top.apply(this,arguments)}}};(function(){var testElement,testElementParent,testElementStyle,offsetLeft,i,body=document.getElementsByTagName("body")[0],div=document.createElement("div");testElement=document.createElement(body?"div":"body");testElementStyle={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(body){$.extend(testElementStyle,{position:"absolute",left:"-1000px",top:"-1000px"})}for(i in testElementStyle){testElement.style[i]=testElementStyle[i]}testElement.appendChild(div);testElementParent=body||document.documentElement;testElementParent.insertBefore(testElement,testElementParent.firstChild);div.style.cssText="position: absolute; left: 10.7432222px;";offsetLeft=$(div).offset().left;supportsOffsetFractions=offsetLeft>10&&offsetLeft<11;testElement.innerHTML="";testElementParent.removeChild(testElement)})()})();var position=$.ui.position;
/*
 * jQuery UI Draggable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 */
$.widget("ui.draggable",$.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){if(this.options.helper==="original"){this._setPositionRelative()}if(this.options.addClasses){this.element.addClass("ui-draggable")}if(this.options.disabled){this.element.addClass("ui-draggable-disabled")}this._setHandleClassName();this._mouseInit()},_setOption:function(key,value){this._super(key,value);if(key==="handle"){this._removeHandleClassName();this._setHandleClassName()}},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging")){this.destroyOnClear=true;return }this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._removeHandleClassName();this._mouseDestroy()},_mouseCapture:function(event){var o=this.options;this._blurActiveElement(event);if(this.helper||o.disabled||$(event.target).closest(".ui-resizable-handle").length>0){return false}this.handle=this._getHandle(event);if(!this.handle){return false}this._blockFrames(o.iframeFix===true?"iframe":o.iframeFix);return true},_blockFrames:function(selector){this.iframeBlocks=this.document.find(selector).map(function(){var iframe=$(this);return $("<div>").css("position","absolute").appendTo(iframe.parent()).outerWidth(iframe.outerWidth()).outerHeight(iframe.outerHeight()).offset(iframe.offset())[0]})},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks}},_blurActiveElement:function(event){var document=this.document[0];if(!this.handleElement.is(event.target)){return }try{if(document.activeElement&&document.activeElement.nodeName.toLowerCase()!=="body"){$(document.activeElement).blur()}}catch(error){}},_mouseStart:function(event){var o=this.options;this.helper=this._createHelper(event);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();if($.ui.ddmanager){$.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent(true);this.offsetParent=this.helper.offsetParent();this.hasFixedAncestor=this.helper.parents().filter(function(){return $(this).css("position")==="fixed"}).length>0;this.positionAbs=this.element.offset();this._refreshOffsets(event);this.originalPosition=this.position=this._generatePosition(event,false);this.originalPageX=event.pageX;this.originalPageY=event.pageY;(o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt));this._setContainment();if(this._trigger("start",event)===false){this._clear();return false}this._cacheHelperProportions();if($.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event)}this._normalizeRightBottom();this._mouseDrag(event,true);if($.ui.ddmanager){$.ui.ddmanager.dragStart(this,event)}return true},_refreshOffsets:function(event){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:false,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:event.pageX-this.offset.left,top:event.pageY-this.offset.top}},_mouseDrag:function(event,noPropagation){if(this.hasFixedAncestor){this.offset.parent=this._getParentOffset()}this.position=this._generatePosition(event,true);this.positionAbs=this._convertPositionTo("absolute");if(!noPropagation){var ui=this._uiHash();if(this._trigger("drag",event,ui)===false){this._mouseUp({});return false}this.position=ui.position}this.helper[0].style.left=this.position.left+"px";this.helper[0].style.top=this.position.top+"px";if($.ui.ddmanager){$.ui.ddmanager.drag(this,event)}return false},_mouseStop:function(event){var that=this,dropped=false;if($.ui.ddmanager&&!this.options.dropBehaviour){dropped=$.ui.ddmanager.drop(this,event)}if(this.dropped){dropped=this.dropped;this.dropped=false}if((this.options.revert==="invalid"&&!dropped)||(this.options.revert==="valid"&&dropped)||this.options.revert===true||($.isFunction(this.options.revert)&&this.options.revert.call(this.element,dropped))){$(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(that._trigger("stop",event)!==false){that._clear()}})}else{if(this._trigger("stop",event)!==false){this._clear()}}return false},_mouseUp:function(event){this._unblockFrames();if($.ui.ddmanager){$.ui.ddmanager.dragStop(this,event)}if(this.handleElement.is(event.target)){this.element.focus()}return $.ui.mouse.prototype._mouseUp.call(this,event)},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({})}else{this._clear()}return this},_getHandle:function(event){return this.options.handle?!!$(event.target).closest(this.element.find(this.options.handle)).length:true},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(event){var o=this.options,helperIsFunction=$.isFunction(o.helper),helper=helperIsFunction?$(o.helper.apply(this.element[0],[event])):(o.helper==="clone"?this.element.clone().removeAttr("id"):this.element);if(!helper.parents("body").length){helper.appendTo((o.appendTo==="parent"?this.element[0].parentNode:o.appendTo))}if(helperIsFunction&&helper[0]===this.element[0]){this._setPositionRelative()}if(helper[0]!==this.element[0]&&!(/(fixed|absolute)/).test(helper.css("position"))){helper.css("position","absolute")}return helper},_setPositionRelative:function(){if(!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative"}},_adjustOffsetFromHelper:function(obj){if(typeof obj==="string"){obj=obj.split(" ")}if($.isArray(obj)){obj={left:+obj[0],top:+obj[1]||0}}if("left" in obj){this.offset.click.left=obj.left+this.margins.left}if("right" in obj){this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left}if("top" in obj){this.offset.click.top=obj.top+this.margins.top}if("bottom" in obj){this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top}},_isRootNode:function(element){return(/(html|body)/i).test(element.tagName)||element===this.document[0]},_getParentOffset:function(){var po=this.offsetParent.offset(),document=this.document[0];if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0])){po.left+=this.scrollParent.scrollLeft();po.top+=this.scrollParent.scrollTop()}if(this._isRootNode(this.offsetParent[0])){po={top:0,left:0}}return{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition!=="relative"){return{top:0,left:0}}var p=this.element.position(),scrollIsRootNode=this._isRootNode(this.scrollParent[0]);return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+(!scrollIsRootNode?this.scrollParent.scrollTop():0),left:p.left-(parseInt(this.helper.css("left"),10)||0)+(!scrollIsRootNode?this.scrollParent.scrollLeft():0)}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0),right:(parseInt(this.element.css("marginRight"),10)||0),bottom:(parseInt(this.element.css("marginBottom"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var isUserScrollable,c,ce,o=this.options,document=this.document[0];this.relativeContainer=null;if(!o.containment){this.containment=null;return }if(o.containment==="window"){this.containment=[$(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,$(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,$(window).scrollLeft()+$(window).width()-this.helperProportions.width-this.margins.left,$(window).scrollTop()+($(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return }if(o.containment==="document"){this.containment=[0,0,$(document).width()-this.helperProportions.width-this.margins.left,($(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return }if(o.containment.constructor===Array){this.containment=o.containment;return }if(o.containment==="parent"){o.containment=this.helper[0].parentNode}c=$(o.containment);ce=c[0];if(!ce){return }isUserScrollable=/(scroll|auto)/.test(c.css("overflow"));this.containment=[(parseInt(c.css("borderLeftWidth"),10)||0)+(parseInt(c.css("paddingLeft"),10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("paddingTop"),10)||0),(isUserScrollable?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-(parseInt(c.css("borderRightWidth"),10)||0)-(parseInt(c.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(isUserScrollable?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-(parseInt(c.css("borderBottomWidth"),10)||0)-(parseInt(c.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relativeContainer=c},_convertPositionTo:function(d,pos){if(!pos){pos=this.position}var mod=d==="absolute"?1:-1,scrollIsRootNode=this._isRootNode(this.scrollParent[0]);return{top:(pos.top+this.offset.relative.top*mod+this.offset.parent.top*mod-((this.cssPosition==="fixed"?-this.offset.scroll.top:(scrollIsRootNode?0:this.offset.scroll.top))*mod)),left:(pos.left+this.offset.relative.left*mod+this.offset.parent.left*mod-((this.cssPosition==="fixed"?-this.offset.scroll.left:(scrollIsRootNode?0:this.offset.scroll.left))*mod))}},_generatePosition:function(event,constrainPosition){var containment,co,top,left,o=this.options,scrollIsRootNode=this._isRootNode(this.scrollParent[0]),pageX=event.pageX,pageY=event.pageY;if(!scrollIsRootNode||!this.offset.scroll){this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}}if(constrainPosition){if(this.containment){if(this.relativeContainer){co=this.relativeContainer.offset();containment=[this.containment[0]+co.left,this.containment[1]+co.top,this.containment[2]+co.left,this.containment[3]+co.top]}else{containment=this.containment}if(event.pageX-this.offset.click.left<containment[0]){pageX=containment[0]+this.offset.click.left}if(event.pageY-this.offset.click.top<containment[1]){pageY=containment[1]+this.offset.click.top}if(event.pageX-this.offset.click.left>containment[2]){pageX=containment[2]+this.offset.click.left}if(event.pageY-this.offset.click.top>containment[3]){pageY=containment[3]+this.offset.click.top}}if(o.grid){top=o.grid[1]?this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY;pageY=containment?((top-this.offset.click.top>=containment[1]||top-this.offset.click.top>containment[3])?top:((top-this.offset.click.top>=containment[1])?top-o.grid[1]:top+o.grid[1])):top;left=o.grid[0]?this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX;pageX=containment?((left-this.offset.click.left>=containment[0]||left-this.offset.click.left>containment[2])?left:((left-this.offset.click.left>=containment[0])?left-o.grid[0]:left+o.grid[0])):left}if(o.axis==="y"){pageX=this.originalPageX}if(o.axis==="x"){pageY=this.originalPageY}}return{top:(pageY-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.offset.scroll.top:(scrollIsRootNode?0:this.offset.scroll.top))),left:(pageX-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.offset.scroll.left:(scrollIsRootNode?0:this.offset.scroll.left)))}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false;if(this.destroyOnClear){this.destroy()}},_normalizeRightBottom:function(){if(this.options.axis!=="y"&&this.helper.css("right")!=="auto"){this.helper.width(this.helper.width());this.helper.css("right","auto")}if(this.options.axis!=="x"&&this.helper.css("bottom")!=="auto"){this.helper.height(this.helper.height());this.helper.css("bottom","auto")}},_trigger:function(type,event,ui){ui=ui||this._uiHash();$.ui.plugin.call(this,type,[event,ui,this],true);if(/^(drag|start|stop)/.test(type)){this.positionAbs=this._convertPositionTo("absolute");ui.offset=this.positionAbs}return $.Widget.prototype._trigger.call(this,type,event,ui)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});$.ui.plugin.add("draggable","connectToSortable",{start:function(event,ui,draggable){var uiSortable=$.extend({},ui,{item:draggable.element});draggable.sortables=[];$(draggable.options.connectToSortable).each(function(){var sortable=$(this).sortable("instance");if(sortable&&!sortable.options.disabled){draggable.sortables.push(sortable);sortable.refreshPositions();sortable._trigger("activate",event,uiSortable)}})},stop:function(event,ui,draggable){var uiSortable=$.extend({},ui,{item:draggable.element});draggable.cancelHelperRemoval=false;$.each(draggable.sortables,function(){var sortable=this;if(sortable.isOver){sortable.isOver=0;draggable.cancelHelperRemoval=true;sortable.cancelHelperRemoval=false;sortable._storedCSS={position:sortable.placeholder.css("position"),top:sortable.placeholder.css("top"),left:sortable.placeholder.css("left")};sortable._mouseStop(event);sortable.options.helper=sortable.options._helper}else{sortable.cancelHelperRemoval=true;sortable._trigger("deactivate",event,uiSortable)}})},drag:function(event,ui,draggable){$.each(draggable.sortables,function(){var innermostIntersecting=false,sortable=this;sortable.positionAbs=draggable.positionAbs;sortable.helperProportions=draggable.helperProportions;sortable.offset.click=draggable.offset.click;if(sortable._intersectsWith(sortable.containerCache)){innermostIntersecting=true;$.each(draggable.sortables,function(){this.positionAbs=draggable.positionAbs;this.helperProportions=draggable.helperProportions;this.offset.click=draggable.offset.click;if(this!==sortable&&this._intersectsWith(this.containerCache)&&$.contains(sortable.element[0],this.element[0])){innermostIntersecting=false}return innermostIntersecting})}if(innermostIntersecting){if(!sortable.isOver){sortable.isOver=1;draggable._parent=ui.helper.parent();sortable.currentItem=ui.helper.appendTo(sortable.element).data("ui-sortable-item",true);sortable.options._helper=sortable.options.helper;sortable.options.helper=function(){return ui.helper[0]};event.target=sortable.currentItem[0];sortable._mouseCapture(event,true);sortable._mouseStart(event,true,true);sortable.offset.click.top=draggable.offset.click.top;sortable.offset.click.left=draggable.offset.click.left;sortable.offset.parent.left-=draggable.offset.parent.left-sortable.offset.parent.left;sortable.offset.parent.top-=draggable.offset.parent.top-sortable.offset.parent.top;draggable._trigger("toSortable",event);draggable.dropped=sortable.element;$.each(draggable.sortables,function(){this.refreshPositions()});draggable.currentItem=draggable.element;sortable.fromOutside=draggable}if(sortable.currentItem){sortable._mouseDrag(event);ui.position=sortable.position}}else{if(sortable.isOver){sortable.isOver=0;sortable.cancelHelperRemoval=true;sortable.options._revert=sortable.options.revert;sortable.options.revert=false;sortable._trigger("out",event,sortable._uiHash(sortable));sortable._mouseStop(event,true);sortable.options.revert=sortable.options._revert;sortable.options.helper=sortable.options._helper;if(sortable.placeholder){sortable.placeholder.remove()}ui.helper.appendTo(draggable._parent);draggable._refreshOffsets(event);ui.position=draggable._generatePosition(event,true);draggable._trigger("fromSortable",event);draggable.dropped=false;$.each(draggable.sortables,function(){this.refreshPositions()})}}})}});$.ui.plugin.add("draggable","cursor",{start:function(event,ui,instance){var t=$("body"),o=instance.options;if(t.css("cursor")){o._cursor=t.css("cursor")}t.css("cursor",o.cursor)},stop:function(event,ui,instance){var o=instance.options;if(o._cursor){$("body").css("cursor",o._cursor)}}});$.ui.plugin.add("draggable","opacity",{start:function(event,ui,instance){var t=$(ui.helper),o=instance.options;if(t.css("opacity")){o._opacity=t.css("opacity")}t.css("opacity",o.opacity)},stop:function(event,ui,instance){var o=instance.options;if(o._opacity){$(ui.helper).css("opacity",o._opacity)}}});$.ui.plugin.add("draggable","scroll",{start:function(event,ui,i){if(!i.scrollParentNotHidden){i.scrollParentNotHidden=i.helper.scrollParent(false)}if(i.scrollParentNotHidden[0]!==i.document[0]&&i.scrollParentNotHidden[0].tagName!=="HTML"){i.overflowOffset=i.scrollParentNotHidden.offset()}},drag:function(event,ui,i){var o=i.options,scrolled=false,scrollParent=i.scrollParentNotHidden[0],document=i.document[0];if(scrollParent!==document&&scrollParent.tagName!=="HTML"){if(!o.axis||o.axis!=="x"){if((i.overflowOffset.top+scrollParent.offsetHeight)-event.pageY<o.scrollSensitivity){scrollParent.scrollTop=scrolled=scrollParent.scrollTop+o.scrollSpeed}else{if(event.pageY-i.overflowOffset.top<o.scrollSensitivity){scrollParent.scrollTop=scrolled=scrollParent.scrollTop-o.scrollSpeed}}}if(!o.axis||o.axis!=="y"){if((i.overflowOffset.left+scrollParent.offsetWidth)-event.pageX<o.scrollSensitivity){scrollParent.scrollLeft=scrolled=scrollParent.scrollLeft+o.scrollSpeed}else{if(event.pageX-i.overflowOffset.left<o.scrollSensitivity){scrollParent.scrollLeft=scrolled=scrollParent.scrollLeft-o.scrollSpeed}}}}else{if(!o.axis||o.axis!=="x"){if(event.pageY-$(document).scrollTop()<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed)}else{if($(window).height()-(event.pageY-$(document).scrollTop())<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed)}}}if(!o.axis||o.axis!=="y"){if(event.pageX-$(document).scrollLeft()<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed)}else{if($(window).width()-(event.pageX-$(document).scrollLeft())<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed)}}}}if(scrolled!==false&&$.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(i,event)}}});$.ui.plugin.add("draggable","snap",{start:function(event,ui,i){var o=i.options;i.snapElements=[];$(o.snap.constructor!==String?(o.snap.items||":data(ui-draggable)"):o.snap).each(function(){var $t=$(this),$o=$t.offset();if(this!==i.element[0]){i.snapElements.push({item:this,width:$t.outerWidth(),height:$t.outerHeight(),top:$o.top,left:$o.left})}})},drag:function(event,ui,inst){var ts,bs,ls,rs,l,r,t,b,i,first,o=inst.options,d=o.snapTolerance,x1=ui.offset.left,x2=x1+inst.helperProportions.width,y1=ui.offset.top,y2=y1+inst.helperProportions.height;for(i=inst.snapElements.length-1;i>=0;i--){l=inst.snapElements[i].left-inst.margins.left;r=l+inst.snapElements[i].width;t=inst.snapElements[i].top-inst.margins.top;b=t+inst.snapElements[i].height;if(x2<l-d||x1>r+d||y2<t-d||y1>b+d||!$.contains(inst.snapElements[i].item.ownerDocument,inst.snapElements[i].item)){if(inst.snapElements[i].snapping){(inst.options.snap.release&&inst.options.snap.release.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})))}inst.snapElements[i].snapping=false;continue}if(o.snapMode!=="inner"){ts=Math.abs(t-y2)<=d;bs=Math.abs(b-y1)<=d;ls=Math.abs(l-x2)<=d;rs=Math.abs(r-x1)<=d;if(ts){ui.position.top=inst._convertPositionTo("relative",{top:t-inst.helperProportions.height,left:0}).top}if(bs){ui.position.top=inst._convertPositionTo("relative",{top:b,left:0}).top}if(ls){ui.position.left=inst._convertPositionTo("relative",{top:0,left:l-inst.helperProportions.width}).left}if(rs){ui.position.left=inst._convertPositionTo("relative",{top:0,left:r}).left}}first=(ts||bs||ls||rs);if(o.snapMode!=="outer"){ts=Math.abs(t-y1)<=d;bs=Math.abs(b-y2)<=d;ls=Math.abs(l-x1)<=d;rs=Math.abs(r-x2)<=d;if(ts){ui.position.top=inst._convertPositionTo("relative",{top:t,left:0}).top}if(bs){ui.position.top=inst._convertPositionTo("relative",{top:b-inst.helperProportions.height,left:0}).top}if(ls){ui.position.left=inst._convertPositionTo("relative",{top:0,left:l}).left}if(rs){ui.position.left=inst._convertPositionTo("relative",{top:0,left:r-inst.helperProportions.width}).left}}if(!inst.snapElements[i].snapping&&(ts||bs||ls||rs||first)){(inst.options.snap.snap&&inst.options.snap.snap.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})))}inst.snapElements[i].snapping=(ts||bs||ls||rs||first)}}});$.ui.plugin.add("draggable","stack",{start:function(event,ui,instance){var min,o=instance.options,group=$.makeArray($(o.stack)).sort(function(a,b){return(parseInt($(a).css("zIndex"),10)||0)-(parseInt($(b).css("zIndex"),10)||0)});if(!group.length){return }min=parseInt($(group[0]).css("zIndex"),10)||0;$(group).each(function(i){$(this).css("zIndex",min+i)});this.css("zIndex",(min+group.length))}});$.ui.plugin.add("draggable","zIndex",{start:function(event,ui,instance){var t=$(ui.helper),o=instance.options;if(t.css("zIndex")){o._zIndex=t.css("zIndex")}t.css("zIndex",o.zIndex)},stop:function(event,ui,instance){var o=instance.options;if(o._zIndex){$(ui.helper).css("zIndex",o._zIndex)}}});var draggable=$.ui.draggable;
/*
 * jQuery UI Droppable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/droppable/
 */
$.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var proportions,o=this.options,accept=o.accept;this.isover=false;this.isout=true;this.accept=$.isFunction(accept)?accept:function(d){return d.is(accept)};this.proportions=function(){if(arguments.length){proportions=arguments[0]}else{return proportions?proportions:proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}}};this._addToManager(o.scope);o.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(scope){$.ui.ddmanager.droppables[scope]=$.ui.ddmanager.droppables[scope]||[];$.ui.ddmanager.droppables[scope].push(this)},_splice:function(drop){var i=0;for(;i<drop.length;i++){if(drop[i]===this){drop.splice(i,1)}}},_destroy:function(){var drop=$.ui.ddmanager.droppables[this.options.scope];this._splice(drop);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(key,value){if(key==="accept"){this.accept=$.isFunction(value)?value:function(d){return d.is(value)}}else{if(key==="scope"){var drop=$.ui.ddmanager.droppables[this.options.scope];this._splice(drop);this._addToManager(value)}}this._super(key,value)},_activate:function(event){var draggable=$.ui.ddmanager.current;if(this.options.activeClass){this.element.addClass(this.options.activeClass)}if(draggable){this._trigger("activate",event,this.ui(draggable))}},_deactivate:function(event){var draggable=$.ui.ddmanager.current;if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}if(draggable){this._trigger("deactivate",event,this.ui(draggable))}},_over:function(event){var draggable=$.ui.ddmanager.current;if(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0]){return }if(this.accept.call(this.element[0],(draggable.currentItem||draggable.element))){if(this.options.hoverClass){this.element.addClass(this.options.hoverClass)}this._trigger("over",event,this.ui(draggable))}},_out:function(event){var draggable=$.ui.ddmanager.current;if(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0]){return }if(this.accept.call(this.element[0],(draggable.currentItem||draggable.element))){if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("out",event,this.ui(draggable))}},_drop:function(event,custom){var draggable=custom||$.ui.ddmanager.current,childrenIntersection=false;if(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0]){return false}this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var inst=$(this).droppable("instance");if(inst.options.greedy&&!inst.options.disabled&&inst.options.scope===draggable.options.scope&&inst.accept.call(inst.element[0],(draggable.currentItem||draggable.element))&&$.ui.intersect(draggable,$.extend(inst,{offset:inst.element.offset()}),inst.options.tolerance,event)){childrenIntersection=true;return false}});if(childrenIntersection){return false}if(this.accept.call(this.element[0],(draggable.currentItem||draggable.element))){if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("drop",event,this.ui(draggable));return this.element}return false},ui:function(c){return{draggable:(c.currentItem||c.element),helper:c.helper,position:c.position,offset:c.positionAbs}}});$.ui.intersect=(function(){function isOverAxis(x,reference,size){return(x>=reference)&&(x<(reference+size))}return function(draggable,droppable,toleranceMode,event){if(!droppable.offset){return false}var x1=(draggable.positionAbs||draggable.position.absolute).left+draggable.margins.left,y1=(draggable.positionAbs||draggable.position.absolute).top+draggable.margins.top,x2=x1+draggable.helperProportions.width,y2=y1+draggable.helperProportions.height,l=droppable.offset.left,t=droppable.offset.top,r=l+droppable.proportions().width,b=t+droppable.proportions().height;switch(toleranceMode){case"fit":return(l<=x1&&x2<=r&&t<=y1&&y2<=b);case"intersect":return(l<x1+(draggable.helperProportions.width/2)&&x2-(draggable.helperProportions.width/2)<r&&t<y1+(draggable.helperProportions.height/2)&&y2-(draggable.helperProportions.height/2)<b);case"pointer":return isOverAxis(event.pageY,t,droppable.proportions().height)&&isOverAxis(event.pageX,l,droppable.proportions().width);case"touch":return((y1>=t&&y1<=b)||(y2>=t&&y2<=b)||(y1<t&&y2>b))&&((x1>=l&&x1<=r)||(x2>=l&&x2<=r)||(x1<l&&x2>r));default:return false}}})();$.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,event){var i,j,m=$.ui.ddmanager.droppables[t.options.scope]||[],type=event?event.type:null,list=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();droppablesLoop:for(i=0;i<m.length;i++){if(m[i].options.disabled||(t&&!m[i].accept.call(m[i].element[0],(t.currentItem||t.element)))){continue}for(j=0;j<list.length;j++){if(list[j]===m[i].element[0]){m[i].proportions().height=0;continue droppablesLoop}}m[i].visible=m[i].element.css("display")!=="none";if(!m[i].visible){continue}if(type==="mousedown"){m[i]._activate.call(m[i],event)}m[i].offset=m[i].element.offset();m[i].proportions({width:m[i].element[0].offsetWidth,height:m[i].element[0].offsetHeight})}},drop:function(draggable,event){var dropped=false;$.each(($.ui.ddmanager.droppables[draggable.options.scope]||[]).slice(),function(){if(!this.options){return }if(!this.options.disabled&&this.visible&&$.ui.intersect(draggable,this,this.options.tolerance,event)){dropped=this._drop.call(this,event)||dropped}if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],(draggable.currentItem||draggable.element))){this.isout=true;this.isover=false;this._deactivate.call(this,event)}});return dropped},dragStart:function(draggable,event){draggable.element.parentsUntil("body").bind("scroll.droppable",function(){if(!draggable.options.refreshPositions){$.ui.ddmanager.prepareOffsets(draggable,event)}})},drag:function(draggable,event){if(draggable.options.refreshPositions){$.ui.ddmanager.prepareOffsets(draggable,event)}$.each($.ui.ddmanager.droppables[draggable.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return }var parentInstance,scope,parent,intersects=$.ui.intersect(draggable,this,this.options.tolerance,event),c=!intersects&&this.isover?"isout":(intersects&&!this.isover?"isover":null);if(!c){return }if(this.options.greedy){scope=this.options.scope;parent=this.element.parents(":data(ui-droppable)").filter(function(){return $(this).droppable("instance").options.scope===scope});if(parent.length){parentInstance=$(parent[0]).droppable("instance");parentInstance.greedyChild=(c==="isover")}}if(parentInstance&&c==="isover"){parentInstance.isover=false;parentInstance.isout=true;parentInstance._out.call(parentInstance,event)}this[c]=true;this[c==="isout"?"isover":"isout"]=false;this[c==="isover"?"_over":"_out"].call(this,event);if(parentInstance&&c==="isout"){parentInstance.isout=false;parentInstance.isover=true;parentInstance._over.call(parentInstance,event)}})},dragStop:function(draggable,event){draggable.element.parentsUntil("body").unbind("scroll.droppable");if(!draggable.options.refreshPositions){$.ui.ddmanager.prepareOffsets(draggable,event)}}};var droppable=$.ui.droppable;
/*
 * jQuery UI Resizable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/resizable/
 */
$.widget("ui.resizable",$.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(value){return parseInt(value,10)||0},_isNumber:function(value){return !isNaN(parseInt(value,10))},_hasScroll:function(el,a){if($(el).css("overflow")==="hidden"){return false}var scroll=(a&&a==="left")?"scrollLeft":"scrollTop",has=false;if(el[scroll]>0){return true}el[scroll]=1;has=(el[scroll]>0);el[scroll]=0;return has},_create:function(){var n,i,handle,axis,hname,that=this,o=this.options;this.element.addClass("ui-resizable");$.extend(this,{_aspectRatio:!!(o.aspectRatio),aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)){this.element.wrap($("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=o.handles||(!$(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});this._handles=$();if(this.handles.constructor===String){if(this.handles==="all"){this.handles="n,e,s,w,se,sw,ne,nw"}n=this.handles.split(",");this.handles={};for(i=0;i<n.length;i++){handle=$.trim(n[i]);hname="ui-resizable-"+handle;axis=$("<div class='ui-resizable-handle "+hname+"'></div>");axis.css({zIndex:o.zIndex});if("se"===handle){axis.addClass("ui-icon ui-icon-gripsmall-diagonal-se")}this.handles[handle]=".ui-resizable-"+handle;this.element.append(axis)}}this._renderAxis=function(target){var i,axis,padPos,padWrapper;target=target||this.element;for(i in this.handles){if(this.handles[i].constructor===String){this.handles[i]=this.element.children(this.handles[i]).first().show()}else{if(this.handles[i].jquery||this.handles[i].nodeType){this.handles[i]=$(this.handles[i]);this._on(this.handles[i],{mousedown:that._mouseDown})}}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)){axis=$(this.handles[i],this.element);padWrapper=/sw|ne|nw|se|n|s/.test(i)?axis.outerHeight():axis.outerWidth();padPos=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join("");target.css(padPos,padWrapper);this._proportionallyResize()}this._handles=this._handles.add(this.handles[i])}};this._renderAxis(this.element);this._handles=this._handles.add(this.element.find(".ui-resizable-handle"));this._handles.disableSelection();this._handles.mouseover(function(){if(!that.resizing){if(this.className){axis=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}that.axis=axis&&axis[1]?axis[1]:"se"}});if(o.autoHide){this._handles.hide();$(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(o.disabled){return }$(this).removeClass("ui-resizable-autohide");that._handles.show()}).mouseleave(function(){if(o.disabled){return }if(!that.resizing){$(this).addClass("ui-resizable-autohide");that._handles.hide()}})}this._mouseInit()},_destroy:function(){this._mouseDestroy();var wrapper,_destroy=function(exp){$(exp).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){_destroy(this.element);wrapper=this.element;this.originalElement.css({position:wrapper.css("position"),width:wrapper.outerWidth(),height:wrapper.outerHeight(),top:wrapper.css("top"),left:wrapper.css("left")}).insertAfter(wrapper);wrapper.remove()}this.originalElement.css("resize",this.originalResizeStyle);_destroy(this.originalElement);return this},_mouseCapture:function(event){var i,handle,capture=false;for(i in this.handles){handle=$(this.handles[i])[0];if(handle===event.target||$.contains(handle,event.target)){capture=true}}return !this.options.disabled&&capture},_mouseStart:function(event){var curleft,curtop,cursor,o=this.options,el=this.element;this.resizing=true;this._renderProxy();curleft=this._num(this.helper.css("left"));curtop=this._num(this.helper.css("top"));if(o.containment){curleft+=$(o.containment).scrollLeft()||0;curtop+=$(o.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:curleft,top:curtop};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:el.width(),height:el.height()};this.originalSize=this._helper?{width:el.outerWidth(),height:el.outerHeight()}:{width:el.width(),height:el.height()};this.sizeDiff={width:el.outerWidth()-el.width(),height:el.outerHeight()-el.height()};this.originalPosition={left:curleft,top:curtop};this.originalMousePosition={left:event.pageX,top:event.pageY};this.aspectRatio=(typeof o.aspectRatio==="number")?o.aspectRatio:((this.originalSize.width/this.originalSize.height)||1);cursor=$(".ui-resizable-"+this.axis).css("cursor");$("body").css("cursor",cursor==="auto"?this.axis+"-resize":cursor);el.addClass("ui-resizable-resizing");this._propagate("start",event);return true},_mouseDrag:function(event){var data,props,smp=this.originalMousePosition,a=this.axis,dx=(event.pageX-smp.left)||0,dy=(event.pageY-smp.top)||0,trigger=this._change[a];this._updatePrevProperties();if(!trigger){return false}data=trigger.apply(this,[event,dx,dy]);this._updateVirtualBoundaries(event.shiftKey);if(this._aspectRatio||event.shiftKey){data=this._updateRatio(data,event)}data=this._respectSize(data,event);this._updateCache(data);this._propagate("resize",event);props=this._applyChanges();if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize()}if(!$.isEmptyObject(props)){this._updatePrevProperties();this._trigger("resize",event,this.ui());this._applyChanges()}return false},_mouseStop:function(event){this.resizing=false;var pr,ista,soffseth,soffsetw,s,left,top,o=this.options,that=this;if(this._helper){pr=this._proportionallyResizeElements;ista=pr.length&&(/textarea/i).test(pr[0].nodeName);soffseth=ista&&this._hasScroll(pr[0],"left")?0:that.sizeDiff.height;soffsetw=ista?0:that.sizeDiff.width;s={width:(that.helper.width()-soffsetw),height:(that.helper.height()-soffseth)};left=(parseInt(that.element.css("left"),10)+(that.position.left-that.originalPosition.left))||null;top=(parseInt(that.element.css("top"),10)+(that.position.top-that.originalPosition.top))||null;if(!o.animate){this.element.css($.extend(s,{top:top,left:left}))}that.helper.height(that.size.height);that.helper.width(that.size.width);if(this._helper&&!o.animate){this._proportionallyResize()}}$("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",event);if(this._helper){this.helper.remove()}return false},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var props={};if(this.position.top!==this.prevPosition.top){props.top=this.position.top+"px"}if(this.position.left!==this.prevPosition.left){props.left=this.position.left+"px"}if(this.size.width!==this.prevSize.width){props.width=this.size.width+"px"}if(this.size.height!==this.prevSize.height){props.height=this.size.height+"px"}this.helper.css(props);return props},_updateVirtualBoundaries:function(forceAspectRatio){var pMinWidth,pMaxWidth,pMinHeight,pMaxHeight,b,o=this.options;b={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:Infinity,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:Infinity};if(this._aspectRatio||forceAspectRatio){pMinWidth=b.minHeight*this.aspectRatio;pMinHeight=b.minWidth/this.aspectRatio;pMaxWidth=b.maxHeight*this.aspectRatio;pMaxHeight=b.maxWidth/this.aspectRatio;if(pMinWidth>b.minWidth){b.minWidth=pMinWidth}if(pMinHeight>b.minHeight){b.minHeight=pMinHeight}if(pMaxWidth<b.maxWidth){b.maxWidth=pMaxWidth}if(pMaxHeight<b.maxHeight){b.maxHeight=pMaxHeight}}this._vBoundaries=b},_updateCache:function(data){this.offset=this.helper.offset();if(this._isNumber(data.left)){this.position.left=data.left}if(this._isNumber(data.top)){this.position.top=data.top}if(this._isNumber(data.height)){this.size.height=data.height}if(this._isNumber(data.width)){this.size.width=data.width}},_updateRatio:function(data){var cpos=this.position,csize=this.size,a=this.axis;if(this._isNumber(data.height)){data.width=(data.height*this.aspectRatio)}else{if(this._isNumber(data.width)){data.height=(data.width/this.aspectRatio)}}if(a==="sw"){data.left=cpos.left+(csize.width-data.width);data.top=null}if(a==="nw"){data.top=cpos.top+(csize.height-data.height);data.left=cpos.left+(csize.width-data.width)}return data},_respectSize:function(data){var o=this._vBoundaries,a=this.axis,ismaxw=this._isNumber(data.width)&&o.maxWidth&&(o.maxWidth<data.width),ismaxh=this._isNumber(data.height)&&o.maxHeight&&(o.maxHeight<data.height),isminw=this._isNumber(data.width)&&o.minWidth&&(o.minWidth>data.width),isminh=this._isNumber(data.height)&&o.minHeight&&(o.minHeight>data.height),dw=this.originalPosition.left+this.originalSize.width,dh=this.position.top+this.size.height,cw=/sw|nw|w/.test(a),ch=/nw|ne|n/.test(a);if(isminw){data.width=o.minWidth}if(isminh){data.height=o.minHeight}if(ismaxw){data.width=o.maxWidth}if(ismaxh){data.height=o.maxHeight}if(isminw&&cw){data.left=dw-o.minWidth}if(ismaxw&&cw){data.left=dw-o.maxWidth}if(isminh&&ch){data.top=dh-o.minHeight}if(ismaxh&&ch){data.top=dh-o.maxHeight}if(!data.width&&!data.height&&!data.left&&data.top){data.top=null}else{if(!data.width&&!data.height&&!data.top&&data.left){data.left=null}}return data},_getPaddingPlusBorderDimensions:function(element){var i=0,widths=[],borders=[element.css("borderTopWidth"),element.css("borderRightWidth"),element.css("borderBottomWidth"),element.css("borderLeftWidth")],paddings=[element.css("paddingTop"),element.css("paddingRight"),element.css("paddingBottom"),element.css("paddingLeft")];for(;i<4;i++){widths[i]=(parseInt(borders[i],10)||0);widths[i]+=(parseInt(paddings[i],10)||0)}return{height:widths[0]+widths[2],width:widths[1]+widths[3]}},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length){return }var prel,i=0,element=this.helper||this.element;for(;i<this._proportionallyResizeElements.length;i++){prel=this._proportionallyResizeElements[i];if(!this.outerDimensions){this.outerDimensions=this._getPaddingPlusBorderDimensions(prel)}prel.css({height:(element.height()-this.outerDimensions.height)||0,width:(element.width()-this.outerDimensions.width)||0})}},_renderProxy:function(){var el=this.element,o=this.options;this.elementOffset=el.offset();if(this._helper){this.helper=this.helper||$("<div style='overflow:hidden;'></div>");this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++o.zIndex});this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(event,dx){return{width:this.originalSize.width+dx}},w:function(event,dx){var cs=this.originalSize,sp=this.originalPosition;return{left:sp.left+dx,width:cs.width-dx}},n:function(event,dx,dy){var cs=this.originalSize,sp=this.originalPosition;return{top:sp.top+dy,height:cs.height-dy}},s:function(event,dx,dy){return{height:this.originalSize.height+dy}},se:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]))},sw:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]))},ne:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]))},nw:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]))}},_propagate:function(n,event){$.ui.plugin.call(this,n,[event,this.ui()]);(n!=="resize"&&this._trigger(n,event,this.ui()))},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});$.ui.plugin.add("resizable","animate",{stop:function(event){var that=$(this).resizable("instance"),o=that.options,pr=that._proportionallyResizeElements,ista=pr.length&&(/textarea/i).test(pr[0].nodeName),soffseth=ista&&that._hasScroll(pr[0],"left")?0:that.sizeDiff.height,soffsetw=ista?0:that.sizeDiff.width,style={width:(that.size.width-soffsetw),height:(that.size.height-soffseth)},left=(parseInt(that.element.css("left"),10)+(that.position.left-that.originalPosition.left))||null,top=(parseInt(that.element.css("top"),10)+(that.position.top-that.originalPosition.top))||null;that.element.animate($.extend(style,top&&left?{top:top,left:left}:{}),{duration:o.animateDuration,easing:o.animateEasing,step:function(){var data={width:parseInt(that.element.css("width"),10),height:parseInt(that.element.css("height"),10),top:parseInt(that.element.css("top"),10),left:parseInt(that.element.css("left"),10)};if(pr&&pr.length){$(pr[0]).css({width:data.width,height:data.height})}that._updateCache(data);that._propagate("resize",event)}})}});$.ui.plugin.add("resizable","containment",{start:function(){var element,p,co,ch,cw,width,height,that=$(this).resizable("instance"),o=that.options,el=that.element,oc=o.containment,ce=(oc instanceof $)?oc.get(0):(/parent/.test(oc))?el.parent().get(0):oc;if(!ce){return }that.containerElement=$(ce);if(/document/.test(oc)||oc===document){that.containerOffset={left:0,top:0};that.containerPosition={left:0,top:0};that.parentData={element:$(document),left:0,top:0,width:$(document).width(),height:$(document).height()||document.body.parentNode.scrollHeight}}else{element=$(ce);p=[];$(["Top","Right","Left","Bottom"]).each(function(i,name){p[i]=that._num(element.css("padding"+name))});that.containerOffset=element.offset();that.containerPosition=element.position();that.containerSize={height:(element.innerHeight()-p[3]),width:(element.innerWidth()-p[1])};co=that.containerOffset;ch=that.containerSize.height;cw=that.containerSize.width;width=(that._hasScroll(ce,"left")?ce.scrollWidth:cw);height=(that._hasScroll(ce)?ce.scrollHeight:ch);that.parentData={element:ce,left:co.left,top:co.top,width:width,height:height}}},resize:function(event){var woset,hoset,isParent,isOffsetRelative,that=$(this).resizable("instance"),o=that.options,co=that.containerOffset,cp=that.position,pRatio=that._aspectRatio||event.shiftKey,cop={top:0,left:0},ce=that.containerElement,continueResize=true;if(ce[0]!==document&&(/static/).test(ce.css("position"))){cop=co}if(cp.left<(that._helper?co.left:0)){that.size.width=that.size.width+(that._helper?(that.position.left-co.left):(that.position.left-cop.left));if(pRatio){that.size.height=that.size.width/that.aspectRatio;continueResize=false}that.position.left=o.helper?co.left:0}if(cp.top<(that._helper?co.top:0)){that.size.height=that.size.height+(that._helper?(that.position.top-co.top):that.position.top);if(pRatio){that.size.width=that.size.height*that.aspectRatio;continueResize=false}that.position.top=that._helper?co.top:0}isParent=that.containerElement.get(0)===that.element.parent().get(0);isOffsetRelative=/relative|absolute/.test(that.containerElement.css("position"));if(isParent&&isOffsetRelative){that.offset.left=that.parentData.left+that.position.left;that.offset.top=that.parentData.top+that.position.top}else{that.offset.left=that.element.offset().left;that.offset.top=that.element.offset().top}woset=Math.abs(that.sizeDiff.width+(that._helper?that.offset.left-cop.left:(that.offset.left-co.left)));hoset=Math.abs(that.sizeDiff.height+(that._helper?that.offset.top-cop.top:(that.offset.top-co.top)));if(woset+that.size.width>=that.parentData.width){that.size.width=that.parentData.width-woset;if(pRatio){that.size.height=that.size.width/that.aspectRatio;continueResize=false}}if(hoset+that.size.height>=that.parentData.height){that.size.height=that.parentData.height-hoset;if(pRatio){that.size.width=that.size.height*that.aspectRatio;continueResize=false}}if(!continueResize){that.position.left=that.prevPosition.left;that.position.top=that.prevPosition.top;that.size.width=that.prevSize.width;that.size.height=that.prevSize.height}},stop:function(){var that=$(this).resizable("instance"),o=that.options,co=that.containerOffset,cop=that.containerPosition,ce=that.containerElement,helper=$(that.helper),ho=helper.offset(),w=helper.outerWidth()-that.sizeDiff.width,h=helper.outerHeight()-that.sizeDiff.height;if(that._helper&&!o.animate&&(/relative/).test(ce.css("position"))){$(this).css({left:ho.left-cop.left-co.left,width:w,height:h})}if(that._helper&&!o.animate&&(/static/).test(ce.css("position"))){$(this).css({left:ho.left-cop.left-co.left,width:w,height:h})}}});$.ui.plugin.add("resizable","alsoResize",{start:function(){var that=$(this).resizable("instance"),o=that.options;$(o.alsoResize).each(function(){var el=$(this);el.data("ui-resizable-alsoresize",{width:parseInt(el.width(),10),height:parseInt(el.height(),10),left:parseInt(el.css("left"),10),top:parseInt(el.css("top"),10)})})},resize:function(event,ui){var that=$(this).resizable("instance"),o=that.options,os=that.originalSize,op=that.originalPosition,delta={height:(that.size.height-os.height)||0,width:(that.size.width-os.width)||0,top:(that.position.top-op.top)||0,left:(that.position.left-op.left)||0};$(o.alsoResize).each(function(){var el=$(this),start=$(this).data("ui-resizable-alsoresize"),style={},css=el.parents(ui.originalElement[0]).length?["width","height"]:["width","height","top","left"];$.each(css,function(i,prop){var sum=(start[prop]||0)+(delta[prop]||0);if(sum&&sum>=0){style[prop]=sum||null}});el.css(style)})},stop:function(){$(this).removeData("resizable-alsoresize")}});$.ui.plugin.add("resizable","ghost",{start:function(){var that=$(this).resizable("instance"),o=that.options,cs=that.size;that.ghost=that.originalElement.clone();that.ghost.css({opacity:0.25,display:"block",position:"relative",height:cs.height,width:cs.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof o.ghost==="string"?o.ghost:"");that.ghost.appendTo(that.helper)},resize:function(){var that=$(this).resizable("instance");if(that.ghost){that.ghost.css({position:"relative",height:that.size.height,width:that.size.width})}},stop:function(){var that=$(this).resizable("instance");if(that.ghost&&that.helper){that.helper.get(0).removeChild(that.ghost.get(0))}}});$.ui.plugin.add("resizable","grid",{resize:function(){var outerDimensions,that=$(this).resizable("instance"),o=that.options,cs=that.size,os=that.originalSize,op=that.originalPosition,a=that.axis,grid=typeof o.grid==="number"?[o.grid,o.grid]:o.grid,gridX=(grid[0]||1),gridY=(grid[1]||1),ox=Math.round((cs.width-os.width)/gridX)*gridX,oy=Math.round((cs.height-os.height)/gridY)*gridY,newWidth=os.width+ox,newHeight=os.height+oy,isMaxWidth=o.maxWidth&&(o.maxWidth<newWidth),isMaxHeight=o.maxHeight&&(o.maxHeight<newHeight),isMinWidth=o.minWidth&&(o.minWidth>newWidth),isMinHeight=o.minHeight&&(o.minHeight>newHeight);o.grid=grid;if(isMinWidth){newWidth+=gridX}if(isMinHeight){newHeight+=gridY}if(isMaxWidth){newWidth-=gridX}if(isMaxHeight){newHeight-=gridY}if(/^(se|s|e)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight}else{if(/^(ne)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;that.position.top=op.top-oy}else{if(/^(sw)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;that.position.left=op.left-ox}else{if(newHeight-gridY<=0||newWidth-gridX<=0){outerDimensions=that._getPaddingPlusBorderDimensions(this)}if(newHeight-gridY>0){that.size.height=newHeight;that.position.top=op.top-oy}else{newHeight=gridY-outerDimensions.height;that.size.height=newHeight;that.position.top=op.top+os.height-newHeight}if(newWidth-gridX>0){that.size.width=newWidth;that.position.left=op.left-ox}else{newWidth=gridX-outerDimensions.width;that.size.width=newWidth;that.position.left=op.left+os.width-newWidth}}}}}});var resizable=$.ui.resizable;
/*
 * jQuery UI Sortable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/sortable/
 */
var sortable=$.widget("ui.sortable",$.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(x,reference,size){return(x>=reference)&&(x<(reference+size))},_isFloating:function(item){return(/left|right/).test(item.css("float"))||(/inline|table-cell/).test(item.css("display"))},_create:function(){this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=true},_setOption:function(key,value){this._super(key,value);if(key==="handle"){this._setHandleClassName()}},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle");$.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle");this._mouseDestroy();for(var i=this.items.length-1;i>=0;i--){this.items[i].item.removeData(this.widgetName+"-item")}return this},_mouseCapture:function(event,overrideHandle){var currentItem=null,validHandle=false,that=this;if(this.reverting){return false}if(this.options.disabled||this.options.type==="static"){return false}this._refreshItems(event);$(event.target).parents().each(function(){if($.data(this,that.widgetName+"-item")===that){currentItem=$(this);return false}});if($.data(event.target,that.widgetName+"-item")===that){currentItem=$(event.target)}if(!currentItem){return false}if(this.options.handle&&!overrideHandle){$(this.options.handle,currentItem).find("*").addBack().each(function(){if(this===event.target){validHandle=true}});if(!validHandle){return false}}this.currentItem=currentItem;this._removeCurrentsFromItems();return true},_mouseStart:function(event,overrideHandle,noActivation){var i,body,o=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(event);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};$.extend(this.offset,{click:{left:event.pageX-this.offset.left,top:event.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(event);this.originalPageX=event.pageX;this.originalPageY=event.pageY;(o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt));this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!==this.currentItem[0]){this.currentItem.hide()}this._createPlaceholder();if(o.containment){this._setContainment()}if(o.cursor&&o.cursor!=="auto"){body=this.document.find("body");this.storedCursor=body.css("cursor");body.css("cursor",o.cursor);this.storedStylesheet=$("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(body)}if(o.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",o.opacity)}if(o.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",o.zIndex)}if(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",event,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions()}if(!noActivation){for(i=this.containers.length-1;i>=0;i--){this.containers[i]._trigger("activate",event,this._uiHash(this))}}if($.ui.ddmanager){$.ui.ddmanager.current=this}if($.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event)}this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(event);return true},_mouseDrag:function(event){var i,item,itemElement,intersection,o=this.options,scrolled=false;this.position=this._generatePosition(event);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){if(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-event.pageY<o.scrollSensitivity){this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop+o.scrollSpeed}else{if(event.pageY-this.overflowOffset.top<o.scrollSensitivity){this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop-o.scrollSpeed}}if((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-event.pageX<o.scrollSensitivity){this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft+o.scrollSpeed}else{if(event.pageX-this.overflowOffset.left<o.scrollSensitivity){this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft-o.scrollSpeed}}}else{if(event.pageY-this.document.scrollTop()<o.scrollSensitivity){scrolled=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed)}else{if(this.window.height()-(event.pageY-this.document.scrollTop())<o.scrollSensitivity){scrolled=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)}}if(event.pageX-this.document.scrollLeft()<o.scrollSensitivity){scrolled=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed)}else{if(this.window.width()-(event.pageX-this.document.scrollLeft())<o.scrollSensitivity){scrolled=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed)}}}if(scrolled!==false&&$.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event)}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px"}for(i=this.items.length-1;i>=0;i--){item=this.items[i];itemElement=item.item[0];intersection=this._intersectsWithPointer(item);if(!intersection){continue}if(item.instance!==this.currentContainer){continue}if(itemElement!==this.currentItem[0]&&this.placeholder[intersection===1?"next":"prev"]()[0]!==itemElement&&!$.contains(this.placeholder[0],itemElement)&&(this.options.type==="semi-dynamic"?!$.contains(this.element[0],itemElement):true)){this.direction=intersection===1?"down":"up";if(this.options.tolerance==="pointer"||this._intersectsWithSides(item)){this._rearrange(event,item)}else{break}this._trigger("change",event,this._uiHash());break}}this._contactContainers(event);if($.ui.ddmanager){$.ui.ddmanager.drag(this,event)}this._trigger("sort",event,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(event,noPropagation){if(!event){return }if($.ui.ddmanager&&!this.options.dropBehaviour){$.ui.ddmanager.drop(this,event)}if(this.options.revert){var that=this,cur=this.placeholder.offset(),axis=this.options.axis,animation={};if(!axis||axis==="x"){animation.left=cur.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)}if(!axis||axis==="y"){animation.top=cur.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)}this.reverting=true;$(this.helper).animate(animation,parseInt(this.options.revert,10)||500,function(){that._clear(event)})}else{this._clear(event,noPropagation)}return false},cancel:function(){if(this.dragging){this._mouseUp({target:null});if(this.options.helper==="original"){this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}for(var i=this.containers.length-1;i>=0;i--){this.containers[i]._trigger("deactivate",null,this._uiHash(this));if(this.containers[i].containerCache.over){this.containers[i]._trigger("out",null,this._uiHash(this));this.containers[i].containerCache.over=0}}}if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0])}if(this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove()}$.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){$(this.domPosition.prev).after(this.currentItem)}else{$(this.domPosition.parent).prepend(this.currentItem)}}return this},serialize:function(o){var items=this._getItemsAsjQuery(o&&o.connected),str=[];o=o||{};$(items).each(function(){var res=($(o.item||this).attr(o.attribute||"id")||"").match(o.expression||(/(.+)[\-=_](.+)/));if(res){str.push((o.key||res[1]+"[]")+"="+(o.key&&o.expression?res[1]:res[2]))}});if(!str.length&&o.key){str.push(o.key+"=")}return str.join("&")},toArray:function(o){var items=this._getItemsAsjQuery(o&&o.connected),ret=[];o=o||{};items.each(function(){ret.push($(o.item||this).attr(o.attribute||"id")||"")});return ret},_intersectsWith:function(item){var x1=this.positionAbs.left,x2=x1+this.helperProportions.width,y1=this.positionAbs.top,y2=y1+this.helperProportions.height,l=item.left,r=l+item.width,t=item.top,b=t+item.height,dyClick=this.offset.click.top,dxClick=this.offset.click.left,isOverElementHeight=(this.options.axis==="x")||((y1+dyClick)>t&&(y1+dyClick)<b),isOverElementWidth=(this.options.axis==="y")||((x1+dxClick)>l&&(x1+dxClick)<r),isOverElement=isOverElementHeight&&isOverElementWidth;if(this.options.tolerance==="pointer"||this.options.forcePointerForContainers||(this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>item[this.floating?"width":"height"])){return isOverElement}else{return(l<x1+(this.helperProportions.width/2)&&x2-(this.helperProportions.width/2)<r&&t<y1+(this.helperProportions.height/2)&&y2-(this.helperProportions.height/2)<b)}},_intersectsWithPointer:function(item){var isOverElementHeight=(this.options.axis==="x")||this._isOverAxis(this.positionAbs.top+this.offset.click.top,item.top,item.height),isOverElementWidth=(this.options.axis==="y")||this._isOverAxis(this.positionAbs.left+this.offset.click.left,item.left,item.width),isOverElement=isOverElementHeight&&isOverElementWidth,verticalDirection=this._getDragVerticalDirection(),horizontalDirection=this._getDragHorizontalDirection();if(!isOverElement){return false}return this.floating?(((horizontalDirection&&horizontalDirection==="right")||verticalDirection==="down")?2:1):(verticalDirection&&(verticalDirection==="down"?2:1))},_intersectsWithSides:function(item){var isOverBottomHalf=this._isOverAxis(this.positionAbs.top+this.offset.click.top,item.top+(item.height/2),item.height),isOverRightHalf=this._isOverAxis(this.positionAbs.left+this.offset.click.left,item.left+(item.width/2),item.width),verticalDirection=this._getDragVerticalDirection(),horizontalDirection=this._getDragHorizontalDirection();if(this.floating&&horizontalDirection){return((horizontalDirection==="right"&&isOverRightHalf)||(horizontalDirection==="left"&&!isOverRightHalf))}else{return verticalDirection&&((verticalDirection==="down"&&isOverBottomHalf)||(verticalDirection==="up"&&!isOverBottomHalf))}},_getDragVerticalDirection:function(){var delta=this.positionAbs.top-this.lastPositionAbs.top;return delta!==0&&(delta>0?"down":"up")},_getDragHorizontalDirection:function(){var delta=this.positionAbs.left-this.lastPositionAbs.left;return delta!==0&&(delta>0?"right":"left")},refresh:function(event){this._refreshItems(event);this._setHandleClassName();this.refreshPositions();return this},_connectWith:function(){var options=this.options;return options.connectWith.constructor===String?[options.connectWith]:options.connectWith},_getItemsAsjQuery:function(connected){var i,j,cur,inst,items=[],queries=[],connectWith=this._connectWith();if(connectWith&&connected){for(i=connectWith.length-1;i>=0;i--){cur=$(connectWith[i],this.document[0]);for(j=cur.length-1;j>=0;j--){inst=$.data(cur[j],this.widgetFullName);if(inst&&inst!==this&&!inst.options.disabled){queries.push([$.isFunction(inst.options.items)?inst.options.items.call(inst.element):$(inst.options.items,inst.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),inst])}}}}queries.push([$.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):$(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);function addItems(){items.push(this)}for(i=queries.length-1;i>=0;i--){queries[i][0].each(addItems)}return $(items)},_removeCurrentsFromItems:function(){var list=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=$.grep(this.items,function(item){for(var j=0;j<list.length;j++){if(list[j]===item.item[0]){return false}}return true})},_refreshItems:function(event){this.items=[];this.containers=[this];var i,j,cur,inst,targetData,_queries,item,queriesLength,items=this.items,queries=[[$.isFunction(this.options.items)?this.options.items.call(this.element[0],event,{item:this.currentItem}):$(this.options.items,this.element),this]],connectWith=this._connectWith();if(connectWith&&this.ready){for(i=connectWith.length-1;i>=0;i--){cur=$(connectWith[i],this.document[0]);for(j=cur.length-1;j>=0;j--){inst=$.data(cur[j],this.widgetFullName);if(inst&&inst!==this&&!inst.options.disabled){queries.push([$.isFunction(inst.options.items)?inst.options.items.call(inst.element[0],event,{item:this.currentItem}):$(inst.options.items,inst.element),inst]);this.containers.push(inst)}}}}for(i=queries.length-1;i>=0;i--){targetData=queries[i][1];_queries=queries[i][0];for(j=0,queriesLength=_queries.length;j<queriesLength;j++){item=$(_queries[j]);item.data(this.widgetName+"-item",targetData);items.push({item:item,instance:targetData,width:0,height:0,left:0,top:0})}}},refreshPositions:function(fast){this.floating=this.items.length?this.options.axis==="x"||this._isFloating(this.items[0].item):false;if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}var i,item,t,p;for(i=this.items.length-1;i>=0;i--){item=this.items[i];if(item.instance!==this.currentContainer&&this.currentContainer&&item.item[0]!==this.currentItem[0]){continue}t=this.options.toleranceElement?$(this.options.toleranceElement,item.item):item.item;if(!fast){item.width=t.outerWidth();item.height=t.outerHeight()}p=t.offset();item.left=p.left;item.top=p.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(i=this.containers.length-1;i>=0;i--){p=this.containers[i].element.offset();this.containers[i].containerCache.left=p.left;this.containers[i].containerCache.top=p.top;this.containers[i].containerCache.width=this.containers[i].element.outerWidth();this.containers[i].containerCache.height=this.containers[i].element.outerHeight()}}return this},_createPlaceholder:function(that){that=that||this;var className,o=that.options;if(!o.placeholder||o.placeholder.constructor===String){className=o.placeholder;o.placeholder={element:function(){var nodeName=that.currentItem[0].nodeName.toLowerCase(),element=$("<"+nodeName+">",that.document[0]).addClass(className||that.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");if(nodeName==="tbody"){that._createTrPlaceholder(that.currentItem.find("tr").eq(0),$("<tr>",that.document[0]).appendTo(element))}else{if(nodeName==="tr"){that._createTrPlaceholder(that.currentItem,element)}else{if(nodeName==="img"){element.attr("src",that.currentItem.attr("src"))}}}if(!className){element.css("visibility","hidden")}return element},update:function(container,p){if(className&&!o.forcePlaceholderSize){return }if(!p.height()){p.height(that.currentItem.innerHeight()-parseInt(that.currentItem.css("paddingTop")||0,10)-parseInt(that.currentItem.css("paddingBottom")||0,10))}if(!p.width()){p.width(that.currentItem.innerWidth()-parseInt(that.currentItem.css("paddingLeft")||0,10)-parseInt(that.currentItem.css("paddingRight")||0,10))}}}}that.placeholder=$(o.placeholder.element.call(that.element,that.currentItem));that.currentItem.after(that.placeholder);o.placeholder.update(that,that.placeholder)},_createTrPlaceholder:function(sourceTr,targetTr){var that=this;sourceTr.children().each(function(){$("<td>&#160;</td>",that.document[0]).attr("colspan",$(this).attr("colspan")||1).appendTo(targetTr)})},_contactContainers:function(event){var i,j,dist,itemWithLeastDistance,posProperty,sizeProperty,cur,nearBottom,floating,axis,innermostContainer=null,innermostIndex=null;for(i=this.containers.length-1;i>=0;i--){if($.contains(this.currentItem[0],this.containers[i].element[0])){continue}if(this._intersectsWith(this.containers[i].containerCache)){if(innermostContainer&&$.contains(this.containers[i].element[0],innermostContainer.element[0])){continue}innermostContainer=this.containers[i];innermostIndex=i}else{if(this.containers[i].containerCache.over){this.containers[i]._trigger("out",event,this._uiHash(this));this.containers[i].containerCache.over=0}}}if(!innermostContainer){return }if(this.containers.length===1){if(!this.containers[innermostIndex].containerCache.over){this.containers[innermostIndex]._trigger("over",event,this._uiHash(this));this.containers[innermostIndex].containerCache.over=1}}else{dist=10000;itemWithLeastDistance=null;floating=innermostContainer.floating||this._isFloating(this.currentItem);posProperty=floating?"left":"top";sizeProperty=floating?"width":"height";axis=floating?"clientX":"clientY";for(j=this.items.length-1;j>=0;j--){if(!$.contains(this.containers[innermostIndex].element[0],this.items[j].item[0])){continue}if(this.items[j].item[0]===this.currentItem[0]){continue}cur=this.items[j].item.offset()[posProperty];nearBottom=false;if(event[axis]-cur>this.items[j][sizeProperty]/2){nearBottom=true}if(Math.abs(event[axis]-cur)<dist){dist=Math.abs(event[axis]-cur);itemWithLeastDistance=this.items[j];this.direction=nearBottom?"up":"down"}}if(!itemWithLeastDistance&&!this.options.dropOnEmpty){return }if(this.currentContainer===this.containers[innermostIndex]){if(!this.currentContainer.containerCache.over){this.containers[innermostIndex]._trigger("over",event,this._uiHash());this.currentContainer.containerCache.over=1}return }itemWithLeastDistance?this._rearrange(event,itemWithLeastDistance,null,true):this._rearrange(event,null,this.containers[innermostIndex].element,true);this._trigger("change",event,this._uiHash());this.containers[innermostIndex]._trigger("change",event,this._uiHash(this));this.currentContainer=this.containers[innermostIndex];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[innermostIndex]._trigger("over",event,this._uiHash(this));this.containers[innermostIndex].containerCache.over=1}},_createHelper:function(event){var o=this.options,helper=$.isFunction(o.helper)?$(o.helper.apply(this.element[0],[event,this.currentItem])):(o.helper==="clone"?this.currentItem.clone():this.currentItem);if(!helper.parents("body").length){$(o.appendTo!=="parent"?o.appendTo:this.currentItem[0].parentNode)[0].appendChild(helper[0])}if(helper[0]===this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(!helper[0].style.width||o.forceHelperSize){helper.width(this.currentItem.width())}if(!helper[0].style.height||o.forceHelperSize){helper.height(this.currentItem.height())}return helper},_adjustOffsetFromHelper:function(obj){if(typeof obj==="string"){obj=obj.split(" ")}if($.isArray(obj)){obj={left:+obj[0],top:+obj[1]||0}}if("left" in obj){this.offset.click.left=obj.left+this.margins.left}if("right" in obj){this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left}if("top" in obj){this.offset.click.top=obj.top+this.margins.top}if("bottom" in obj){this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var po=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==this.document[0]&&$.contains(this.scrollParent[0],this.offsetParent[0])){po.left+=this.scrollParent.scrollLeft();po.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]===this.document[0].body||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&$.ui.ie)){po={top:0,left:0}}return{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var p=this.currentItem.position();return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:p.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.currentItem.css("marginLeft"),10)||0),top:(parseInt(this.currentItem.css("marginTop"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var ce,co,over,o=this.options;if(o.containment==="parent"){o.containment=this.helper[0].parentNode}if(o.containment==="document"||o.containment==="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,o.containment==="document"?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,(o.containment==="document"?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(o.containment)){ce=$(o.containment)[0];co=$(o.containment).offset();over=($(ce).css("overflow")!=="hidden");this.containment=[co.left+(parseInt($(ce).css("borderLeftWidth"),10)||0)+(parseInt($(ce).css("paddingLeft"),10)||0)-this.margins.left,co.top+(parseInt($(ce).css("borderTopWidth"),10)||0)+(parseInt($(ce).css("paddingTop"),10)||0)-this.margins.top,co.left+(over?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-(parseInt($(ce).css("borderLeftWidth"),10)||0)-(parseInt($(ce).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,co.top+(over?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-(parseInt($(ce).css("borderTopWidth"),10)||0)-(parseInt($(ce).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(d,pos){if(!pos){pos=this.position}var mod=d==="absolute"?1:-1,scroll=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,scrollIsRootNode=(/(html|body)/i).test(scroll[0].tagName);return{top:(pos.top+this.offset.relative.top*mod+this.offset.parent.top*mod-((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(scrollIsRootNode?0:scroll.scrollTop()))*mod)),left:(pos.left+this.offset.relative.left*mod+this.offset.parent.left*mod-((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())*mod))}},_generatePosition:function(event){var top,left,o=this.options,pageX=event.pageX,pageY=event.pageY,scroll=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,scrollIsRootNode=(/(html|body)/i).test(scroll[0].tagName);if(this.cssPosition==="relative"&&!(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}if(this.originalPosition){if(this.containment){if(event.pageX-this.offset.click.left<this.containment[0]){pageX=this.containment[0]+this.offset.click.left}if(event.pageY-this.offset.click.top<this.containment[1]){pageY=this.containment[1]+this.offset.click.top}if(event.pageX-this.offset.click.left>this.containment[2]){pageX=this.containment[2]+this.offset.click.left}if(event.pageY-this.offset.click.top>this.containment[3]){pageY=this.containment[3]+this.offset.click.top}}if(o.grid){top=this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1];pageY=this.containment?((top-this.offset.click.top>=this.containment[1]&&top-this.offset.click.top<=this.containment[3])?top:((top-this.offset.click.top>=this.containment[1])?top-o.grid[1]:top+o.grid[1])):top;left=this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0];pageX=this.containment?((left-this.offset.click.left>=this.containment[0]&&left-this.offset.click.left<=this.containment[2])?left:((left-this.offset.click.left>=this.containment[0])?left-o.grid[0]:left+o.grid[0])):left}}return{top:(pageY-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(scrollIsRootNode?0:scroll.scrollTop())))),left:(pageX-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())))}},_rearrange:function(event,i,a,hardRefresh){a?a[0].appendChild(this.placeholder[0]):i.item[0].parentNode.insertBefore(this.placeholder[0],(this.direction==="down"?i.item[0]:i.item[0].nextSibling));this.counter=this.counter?++this.counter:1;var counter=this.counter;this._delay(function(){if(counter===this.counter){this.refreshPositions(!hardRefresh)}})},_clear:function(event,noPropagation){this.reverting=false;var i,delayedTriggers=[];if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem)}this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(i in this._storedCSS){if(this._storedCSS[i]==="auto"||this._storedCSS[i]==="static"){this._storedCSS[i]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}if(this.fromOutside&&!noPropagation){delayedTriggers.push(function(event){this._trigger("receive",event,this._uiHash(this.fromOutside))})}if((this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!noPropagation){delayedTriggers.push(function(event){this._trigger("update",event,this._uiHash())})}if(this!==this.currentContainer){if(!noPropagation){delayedTriggers.push(function(event){this._trigger("remove",event,this._uiHash())});delayedTriggers.push((function(c){return function(event){c._trigger("receive",event,this._uiHash(this))}}).call(this,this.currentContainer));delayedTriggers.push((function(c){return function(event){c._trigger("update",event,this._uiHash(this))}}).call(this,this.currentContainer))}}function delayEvent(type,instance,container){return function(event){container._trigger(type,event,instance._uiHash(instance))}}for(i=this.containers.length-1;i>=0;i--){if(!noPropagation){delayedTriggers.push(delayEvent("deactivate",this,this.containers[i]))}if(this.containers[i].containerCache.over){delayedTriggers.push(delayEvent("out",this,this.containers[i]));this.containers[i].containerCache.over=0}}if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove()}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity)}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex)}this.dragging=false;if(!noPropagation){this._trigger("beforeStop",event,this._uiHash())}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(!this.cancelHelperRemoval){if(this.helper[0]!==this.currentItem[0]){this.helper.remove()}this.helper=null}if(!noPropagation){for(i=0;i<delayedTriggers.length;i++){delayedTriggers[i].call(this,event)}this._trigger("stop",event,this._uiHash())}this.fromOutside=false;return !this.cancelHelperRemoval},_trigger:function(){if($.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel()}},_uiHash:function(_inst){var inst=_inst||this;return{helper:inst.helper,placeholder:inst.placeholder||$([]),position:inst.position,originalPosition:inst.originalPosition,offset:inst.positionAbs,item:inst.currentItem,sender:_inst?_inst.element:null}}});
/*
 * jQuery UI Accordion 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/accordion/
 */
var accordion=$.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:false,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var options=this.options;this.prevShow=this.prevHide=$();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");if(!options.collapsible&&(options.active===false||options.active==null)){options.active=0}this._processPanels();if(options.active<0){options.active+=this.headers.length}this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:!this.active.length?$():this.active.next()}},_createIcons:function(){var icons=this.options.icons;if(icons){$("<span>").addClass("ui-accordion-header-icon ui-icon "+icons.header).prependTo(this.headers);this.active.children(".ui-accordion-header-icon").removeClass(icons.header).addClass(icons.activeHeader);this.headers.addClass("ui-accordion-icons")}},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var contents;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId();this._destroyIcons();contents=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId();if(this.options.heightStyle!=="content"){contents.css("height","")}},_setOption:function(key,value){if(key==="active"){this._activate(value);return }if(key==="event"){if(this.options.event){this._off(this.headers,this.options.event)}this._setupEvents(value)}this._super(key,value);if(key==="collapsible"&&!value&&this.options.active===false){this._activate(0)}if(key==="icons"){this._destroyIcons();if(value){this._createIcons()}}if(key==="disabled"){this.element.toggleClass("ui-state-disabled",!!value).attr("aria-disabled",value);this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!value)}},_keydown:function(event){if(event.altKey||event.ctrlKey){return }var keyCode=$.ui.keyCode,length=this.headers.length,currentIndex=this.headers.index(event.target),toFocus=false;switch(event.keyCode){case keyCode.RIGHT:case keyCode.DOWN:toFocus=this.headers[(currentIndex+1)%length];break;case keyCode.LEFT:case keyCode.UP:toFocus=this.headers[(currentIndex-1+length)%length];break;case keyCode.SPACE:case keyCode.ENTER:this._eventHandler(event);break;case keyCode.HOME:toFocus=this.headers[0];break;case keyCode.END:toFocus=this.headers[length-1];break}if(toFocus){$(event.target).attr("tabIndex",-1);$(toFocus).attr("tabIndex",0);toFocus.focus();event.preventDefault()}},_panelKeyDown:function(event){if(event.keyCode===$.ui.keyCode.UP&&event.ctrlKey){$(event.currentTarget).prev().focus()}},refresh:function(){var options=this.options;this._processPanels();if((options.active===false&&options.collapsible===true)||!this.headers.length){options.active=false;this.active=$()}else{if(options.active===false){this._activate(0)}else{if(this.active.length&&!$.contains(this.element[0],this.active[0])){if(this.headers.length===this.headers.find(".ui-state-disabled").length){options.active=false;this.active=$()}else{this._activate(Math.max(0,options.active-1))}}else{options.active=this.headers.index(this.active)}}}this._destroyIcons();this._refresh()},_processPanels:function(){var prevHeaders=this.headers,prevPanels=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all");this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide();if(prevPanels){this._off(prevHeaders.not(this.headers));this._off(prevPanels.not(this.panels))}},_refresh:function(){var maxHeight,options=this.options,heightStyle=options.heightStyle,parent=this.element.parent();this.active=this._findActive(options.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(){var header=$(this),headerId=header.uniqueId().attr("id"),panel=header.next(),panelId=panel.uniqueId().attr("id");header.attr("aria-controls",panelId);panel.attr("aria-labelledby",headerId)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();if(!this.active.length){this.headers.eq(0).attr("tabIndex",0)}else{this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"})}this._createIcons();this._setupEvents(options.event);if(heightStyle==="fill"){maxHeight=parent.height();this.element.siblings(":visible").each(function(){var elem=$(this),position=elem.css("position");if(position==="absolute"||position==="fixed"){return }maxHeight-=elem.outerHeight(true)});this.headers.each(function(){maxHeight-=$(this).outerHeight(true)});this.headers.next().each(function(){$(this).height(Math.max(0,maxHeight-$(this).innerHeight()+$(this).height()))}).css("overflow","auto")}else{if(heightStyle==="auto"){maxHeight=0;this.headers.next().each(function(){maxHeight=Math.max(maxHeight,$(this).css("height","").height())}).height(maxHeight)}}},_activate:function(index){var active=this._findActive(index)[0];if(active===this.active[0]){return }active=active||this.active[0];this._eventHandler({target:active,currentTarget:active,preventDefault:$.noop})},_findActive:function(selector){return typeof selector==="number"?this.headers.eq(selector):$()},_setupEvents:function(event){var events={keydown:"_keydown"};if(event){$.each(event.split(" "),function(index,eventName){events[eventName]="_eventHandler"})}this._off(this.headers.add(this.headers.next()));this._on(this.headers,events);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(event){var options=this.options,active=this.active,clicked=$(event.currentTarget),clickedIsActive=clicked[0]===active[0],collapsing=clickedIsActive&&options.collapsible,toShow=collapsing?$():clicked.next(),toHide=active.next(),eventData={oldHeader:active,oldPanel:toHide,newHeader:collapsing?$():clicked,newPanel:toShow};event.preventDefault();if((clickedIsActive&&!options.collapsible)||(this._trigger("beforeActivate",event,eventData)===false)){return }options.active=collapsing?false:this.headers.index(clicked);this.active=clickedIsActive?$():clicked;this._toggle(eventData);active.removeClass("ui-accordion-header-active ui-state-active");if(options.icons){active.children(".ui-accordion-header-icon").removeClass(options.icons.activeHeader).addClass(options.icons.header)}if(!clickedIsActive){clicked.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top");if(options.icons){clicked.children(".ui-accordion-header-icon").removeClass(options.icons.header).addClass(options.icons.activeHeader)}clicked.next().addClass("ui-accordion-content-active")}},_toggle:function(data){var toShow=data.newPanel,toHide=this.prevShow.length?this.prevShow:data.oldPanel;this.prevShow.add(this.prevHide).stop(true,true);this.prevShow=toShow;this.prevHide=toHide;if(this.options.animate){this._animate(toShow,toHide,data)}else{toHide.hide();toShow.show();this._toggleComplete(data)}toHide.attr({"aria-hidden":"true"});toHide.prev().attr({"aria-selected":"false","aria-expanded":"false"});if(toShow.length&&toHide.length){toHide.prev().attr({tabIndex:-1,"aria-expanded":"false"})}else{if(toShow.length){this.headers.filter(function(){return parseInt($(this).attr("tabIndex"),10)===0}).attr("tabIndex",-1)}}toShow.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(toShow,toHide,data){var total,easing,duration,that=this,adjust=0,boxSizing=toShow.css("box-sizing"),down=toShow.length&&(!toHide.length||(toShow.index()<toHide.index())),animate=this.options.animate||{},options=down&&animate.down||animate,complete=function(){that._toggleComplete(data)};if(typeof options==="number"){duration=options}if(typeof options==="string"){easing=options}easing=easing||options.easing||animate.easing;duration=duration||options.duration||animate.duration;if(!toHide.length){return toShow.animate(this.showProps,duration,easing,complete)}if(!toShow.length){return toHide.animate(this.hideProps,duration,easing,complete)}total=toShow.show().outerHeight();toHide.animate(this.hideProps,{duration:duration,easing:easing,step:function(now,fx){fx.now=Math.round(now)}});toShow.hide().animate(this.showProps,{duration:duration,easing:easing,complete:complete,step:function(now,fx){fx.now=Math.round(now);if(fx.prop!=="height"){if(boxSizing==="content-box"){adjust+=fx.now}}else{if(that.options.heightStyle!=="content"){fx.now=Math.round(total-toHide.outerHeight()-adjust);adjust=0}}}})},_toggleComplete:function(data){var toHide=data.oldPanel;toHide.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");if(toHide.length){toHide.parent()[0].className=toHide.parent()[0].className}this._trigger("activate",null,data)}});
/*
 * jQuery UI Menu 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/menu/
 */
var menu=$.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=false;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0});if(this.options.disabled){this.element.addClass("ui-state-disabled").attr("aria-disabled","true")}this._on({"mousedown .ui-menu-item":function(event){event.preventDefault()},"click .ui-menu-item":function(event){var target=$(event.target);if(!this.mouseHandled&&target.not(".ui-state-disabled").length){this.select(event);if(!event.isPropagationStopped()){this.mouseHandled=true}if(target.has(".ui-menu").length){this.expand(event)}else{if(!this.element.is(":focus")&&$(this.document[0].activeElement).closest(".ui-menu").length){this.element.trigger("focus",[true]);if(this.active&&this.active.parents(".ui-menu").length===1){clearTimeout(this.timer)}}}}},"mouseenter .ui-menu-item":function(event){if(this.previousFilter){return }var target=$(event.currentTarget);target.siblings(".ui-state-active").removeClass("ui-state-active");this.focus(event,target)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(event,keepActiveItem){var item=this.active||this.element.find(this.options.items).eq(0);if(!keepActiveItem){this.focus(event,item)}},blur:function(event){this._delay(function(){if(!$.contains(this.element[0],this.document[0].activeElement)){this.collapseAll(event)}})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(event){if(this._closeOnDocumentClick(event)){this.collapseAll(event)}this.mouseHandled=false}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var elem=$(this);if(elem.data("ui-menu-submenu-carat")){elem.remove()}});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(event){var match,prev,character,skip,preventDefault=true;switch(event.keyCode){case $.ui.keyCode.PAGE_UP:this.previousPage(event);break;case $.ui.keyCode.PAGE_DOWN:this.nextPage(event);break;case $.ui.keyCode.HOME:this._move("first","first",event);break;case $.ui.keyCode.END:this._move("last","last",event);break;case $.ui.keyCode.UP:this.previous(event);break;case $.ui.keyCode.DOWN:this.next(event);break;case $.ui.keyCode.LEFT:this.collapse(event);break;case $.ui.keyCode.RIGHT:if(this.active&&!this.active.is(".ui-state-disabled")){this.expand(event)}break;case $.ui.keyCode.ENTER:case $.ui.keyCode.SPACE:this._activate(event);break;case $.ui.keyCode.ESCAPE:this.collapse(event);break;default:preventDefault=false;prev=this.previousFilter||"";character=String.fromCharCode(event.keyCode);skip=false;clearTimeout(this.filterTimer);if(character===prev){skip=true}else{character=prev+character}match=this._filterMenuItems(character);match=skip&&match.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):match;if(!match.length){character=String.fromCharCode(event.keyCode);match=this._filterMenuItems(character)}if(match.length){this.focus(event,match);this.previousFilter=character;this.filterTimer=this._delay(function(){delete this.previousFilter},1000)}else{delete this.previousFilter}}if(preventDefault){event.preventDefault()}},_activate:function(event){if(!this.active.is(".ui-state-disabled")){if(this.active.is("[aria-haspopup='true']")){this.expand(event)}else{this.select(event)}}},refresh:function(){var menus,items,that=this,icon=this.options.icons.submenu,submenus=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length);submenus.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var menu=$(this),item=menu.parent(),submenuCarat=$("<span>").addClass("ui-menu-icon ui-icon "+icon).data("ui-menu-submenu-carat",true);item.attr("aria-haspopup","true").prepend(submenuCarat);menu.attr("aria-labelledby",item.attr("id"))});menus=submenus.add(this.element);items=menus.find(this.options.items);items.not(".ui-menu-item").each(function(){var item=$(this);if(that._isDivider(item)){item.addClass("ui-widget-content ui-menu-divider")}});items.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()});items.filter(".ui-state-disabled").attr("aria-disabled","true");if(this.active&&!$.contains(this.element[0],this.active[0])){this.blur()}},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(key,value){if(key==="icons"){this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(value.submenu)}if(key==="disabled"){this.element.toggleClass("ui-state-disabled",!!value).attr("aria-disabled",value)}this._super(key,value)},focus:function(event,item){var nested,focused;this.blur(event,event&&event.type==="focus");this._scrollIntoView(item);this.active=item.first();focused=this.active.addClass("ui-state-focus").removeClass("ui-state-active");if(this.options.role){this.element.attr("aria-activedescendant",focused.attr("id"))}this.active.parent().closest(".ui-menu-item").addClass("ui-state-active");if(event&&event.type==="keydown"){this._close()}else{this.timer=this._delay(function(){this._close()},this.delay)}nested=item.children(".ui-menu");if(nested.length&&event&&(/^mouse/.test(event.type))){this._startOpening(nested)}this.activeMenu=item.parent();this._trigger("focus",event,{item:item})},_scrollIntoView:function(item){var borderTop,paddingTop,offset,scroll,elementHeight,itemHeight;if(this._hasScroll()){borderTop=parseFloat($.css(this.activeMenu[0],"borderTopWidth"))||0;paddingTop=parseFloat($.css(this.activeMenu[0],"paddingTop"))||0;offset=item.offset().top-this.activeMenu.offset().top-borderTop-paddingTop;scroll=this.activeMenu.scrollTop();elementHeight=this.activeMenu.height();itemHeight=item.outerHeight();if(offset<0){this.activeMenu.scrollTop(scroll+offset)}else{if(offset+itemHeight>elementHeight){this.activeMenu.scrollTop(scroll+offset-elementHeight+itemHeight)}}}},blur:function(event,fromFocus){if(!fromFocus){clearTimeout(this.timer)}if(!this.active){return }this.active.removeClass("ui-state-focus");this.active=null;this._trigger("blur",event,{item:this.active})},_startOpening:function(submenu){clearTimeout(this.timer);if(submenu.attr("aria-hidden")!=="true"){return }this.timer=this._delay(function(){this._close();this._open(submenu)},this.delay)},_open:function(submenu){var position=$.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(submenu.parents(".ui-menu")).hide().attr("aria-hidden","true");submenu.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(position)},collapseAll:function(event,all){clearTimeout(this.timer);this.timer=this._delay(function(){var currentMenu=all?this.element:$(event&&event.target).closest(this.element.find(".ui-menu"));if(!currentMenu.length){currentMenu=this.element}this._close(currentMenu);this.blur(event);this.activeMenu=currentMenu},this.delay)},_close:function(startMenu){if(!startMenu){startMenu=this.active?this.active.parent():this.element}startMenu.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(event){return !$(event.target).closest(".ui-menu").length},_isDivider:function(item){return !/[^\-\u2014\u2013\s]/.test(item.text())},collapse:function(event){var newItem=this.active&&this.active.parent().closest(".ui-menu-item",this.element);if(newItem&&newItem.length){this._close();this.focus(event,newItem)}},expand:function(event){var newItem=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();if(newItem&&newItem.length){this._open(newItem.parent());this._delay(function(){this.focus(event,newItem)})}},next:function(event){this._move("next","first",event)},previous:function(event){this._move("prev","last",event)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(direction,filter,event){var next;if(this.active){if(direction==="first"||direction==="last"){next=this.active[direction==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1)}else{next=this.active[direction+"All"](".ui-menu-item").eq(0)}}if(!next||!next.length||!this.active){next=this.activeMenu.find(this.options.items)[filter]()}this.focus(event,next)},nextPage:function(event){var item,base,height;if(!this.active){this.next(event);return }if(this.isLastItem()){return }if(this._hasScroll()){base=this.active.offset().top;height=this.element.height();this.active.nextAll(".ui-menu-item").each(function(){item=$(this);return item.offset().top-base-height<0});this.focus(event,item)}else{this.focus(event,this.activeMenu.find(this.options.items)[!this.active?"first":"last"]())}},previousPage:function(event){var item,base,height;if(!this.active){this.next(event);return }if(this.isFirstItem()){return }if(this._hasScroll()){base=this.active.offset().top;height=this.element.height();this.active.prevAll(".ui-menu-item").each(function(){item=$(this);return item.offset().top-base+height>0});this.focus(event,item)}else{this.focus(event,this.activeMenu.find(this.options.items).first())}},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(event){this.active=this.active||$(event.target).closest(".ui-menu-item");var ui={item:this.active};if(!this.active.has(".ui-menu").length){this.collapseAll(event,true)}this._trigger("select",event,ui)},_filterMenuItems:function(character){var escapedCharacter=character.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),regex=new RegExp("^"+escapedCharacter,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return regex.test($.trim($(this).text()))})}});
/*
 * jQuery UI Autocomplete 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/autocomplete/
 */
$.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var suppressKeyPress,suppressKeyPressRepeat,suppressInput,nodeName=this.element[0].nodeName.toLowerCase(),isTextarea=nodeName==="textarea",isInput=nodeName==="input";this.isMultiLine=isTextarea?true:isInput?false:this.element.prop("isContentEditable");this.valueMethod=this.element[isTextarea||isInput?"val":"text"];this.isNewMenu=true;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(event){if(this.element.prop("readOnly")){suppressKeyPress=true;suppressInput=true;suppressKeyPressRepeat=true;return }suppressKeyPress=false;suppressInput=false;suppressKeyPressRepeat=false;var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:suppressKeyPress=true;this._move("previousPage",event);break;case keyCode.PAGE_DOWN:suppressKeyPress=true;this._move("nextPage",event);break;case keyCode.UP:suppressKeyPress=true;this._keyEvent("previous",event);break;case keyCode.DOWN:suppressKeyPress=true;this._keyEvent("next",event);break;case keyCode.ENTER:if(this.menu.active){suppressKeyPress=true;event.preventDefault();this.menu.select(event)}break;case keyCode.TAB:if(this.menu.active){this.menu.select(event)}break;case keyCode.ESCAPE:if(this.menu.element.is(":visible")){if(!this.isMultiLine){this._value(this.term)}this.close(event);event.preventDefault()}break;default:suppressKeyPressRepeat=true;this._searchTimeout(event);break}},keypress:function(event){if(suppressKeyPress){suppressKeyPress=false;if(!this.isMultiLine||this.menu.element.is(":visible")){event.preventDefault()}return }if(suppressKeyPressRepeat){return }var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:this._move("previousPage",event);break;case keyCode.PAGE_DOWN:this._move("nextPage",event);break;case keyCode.UP:this._keyEvent("previous",event);break;case keyCode.DOWN:this._keyEvent("next",event);break}},input:function(event){if(suppressInput){suppressInput=false;event.preventDefault();return }this._searchTimeout(event)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(event){if(this.cancelBlur){delete this.cancelBlur;return }clearTimeout(this.searching);this.close(event);this._change(event)}});this._initSource();this.menu=$("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance");this._on(this.menu.element,{mousedown:function(event){event.preventDefault();this.cancelBlur=true;this._delay(function(){delete this.cancelBlur});var menuElement=this.menu.element[0];if(!$(event.target).closest(".ui-menu-item").length){this._delay(function(){var that=this;this.document.one("mousedown",function(event){if(event.target!==that.element[0]&&event.target!==menuElement&&!$.contains(menuElement,event.target)){that.close()}})})}},menufocus:function(event,ui){var label,item;if(this.isNewMenu){this.isNewMenu=false;if(event.originalEvent&&/^mouse/.test(event.originalEvent.type)){this.menu.blur();this.document.one("mousemove",function(){$(event.target).trigger(event.originalEvent)});return }}item=ui.item.data("ui-autocomplete-item");if(false!==this._trigger("focus",event,{item:item})){if(event.originalEvent&&/^key/.test(event.originalEvent.type)){this._value(item.value)}}label=ui.item.attr("aria-label")||item.value;if(label&&$.trim(label).length){this.liveRegion.children().hide();$("<div>").text(label).appendTo(this.liveRegion)}},menuselect:function(event,ui){var item=ui.item.data("ui-autocomplete-item"),previous=this.previous;if(this.element[0]!==this.document[0].activeElement){this.element.focus();this.previous=previous;this._delay(function(){this.previous=previous;this.selectedItem=item})}if(false!==this._trigger("select",event,{item:item})){this._value(item.value)}this.term=this._value();this.close(event);this.selectedItem=item}});this.liveRegion=$("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(key,value){this._super(key,value);if(key==="source"){this._initSource()}if(key==="appendTo"){this.menu.element.appendTo(this._appendTo())}if(key==="disabled"&&value&&this.xhr){this.xhr.abort()}},_appendTo:function(){var element=this.options.appendTo;if(element){element=element.jquery||element.nodeType?$(element):this.document.find(element).eq(0)}if(!element||!element[0]){element=this.element.closest(".ui-front")}if(!element.length){element=this.document[0].body}return element},_initSource:function(){var array,url,that=this;if($.isArray(this.options.source)){array=this.options.source;this.source=function(request,response){response($.ui.autocomplete.filter(array,request.term))}}else{if(typeof this.options.source==="string"){url=this.options.source;this.source=function(request,response){if(that.xhr){that.xhr.abort()}that.xhr=$.ajax({url:url,data:request,dataType:"json",success:function(data){response(data)},error:function(){response([])}})}}else{this.source=this.options.source}}},_searchTimeout:function(event){clearTimeout(this.searching);this.searching=this._delay(function(){var equalValues=this.term===this._value(),menuVisible=this.menu.element.is(":visible"),modifierKey=event.altKey||event.ctrlKey||event.metaKey||event.shiftKey;if(!equalValues||(equalValues&&!menuVisible&&!modifierKey)){this.selectedItem=null;this.search(null,event)}},this.options.delay)},search:function(value,event){value=value!=null?value:this._value();this.term=this._value();if(value.length<this.options.minLength){return this.close(event)}if(this._trigger("search",event)===false){return }return this._search(value)},_search:function(value){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=false;this.source({term:value},this._response())},_response:function(){var index=++this.requestIndex;return $.proxy(function(content){if(index===this.requestIndex){this.__response(content)}this.pending--;if(!this.pending){this.element.removeClass("ui-autocomplete-loading")}},this)},__response:function(content){if(content){content=this._normalize(content)}this._trigger("response",null,{content:content});if(!this.options.disabled&&content&&content.length&&!this.cancelSearch){this._suggest(content);this._trigger("open")}else{this._close()}},close:function(event){this.cancelSearch=true;this._close(event)},_close:function(event){if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.blur();this.isNewMenu=true;this._trigger("close",event)}},_change:function(event){if(this.previous!==this._value()){this._trigger("change",event,{item:this.selectedItem})}},_normalize:function(items){if(items.length&&items[0].label&&items[0].value){return items}return $.map(items,function(item){if(typeof item==="string"){return{label:item,value:item}}return $.extend({},item,{label:item.label||item.value,value:item.value||item.label})})},_suggest:function(items){var ul=this.menu.element.empty();this._renderMenu(ul,items);this.isNewMenu=true;this.menu.refresh();ul.show();this._resizeMenu();ul.position($.extend({of:this.element},this.options.position));if(this.options.autoFocus){this.menu.next()}},_resizeMenu:function(){var ul=this.menu.element;ul.outerWidth(Math.max(ul.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(ul,items){var that=this;$.each(items,function(index,item){that._renderItemData(ul,item)})},_renderItemData:function(ul,item){return this._renderItem(ul,item).data("ui-autocomplete-item",item)},_renderItem:function(ul,item){return $("<li>").text(item.label).appendTo(ul)},_move:function(direction,event){if(!this.menu.element.is(":visible")){this.search(null,event);return }if(this.menu.isFirstItem()&&/^previous/.test(direction)||this.menu.isLastItem()&&/^next/.test(direction)){if(!this.isMultiLine){this._value(this.term)}this.menu.blur();return }this.menu[direction](event)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(keyEvent,event){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(keyEvent,event);event.preventDefault()}}});$.extend($.ui.autocomplete,{escapeRegex:function(value){return value.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(array,term){var matcher=new RegExp($.ui.autocomplete.escapeRegex(term),"i");return $.grep(array,function(value){return matcher.test(value.label||value.value||value)})}});$.widget("ui.autocomplete",$.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(amount){return amount+(amount>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(content){var message;this._superApply(arguments);if(this.options.disabled||this.cancelSearch){return }if(content&&content.length){message=this.options.messages.results(content.length)}else{message=this.options.messages.noResults}this.liveRegion.children().hide();$("<div>").text(message).appendTo(this.liveRegion)}});var autocomplete=$.ui.autocomplete;
/*
 * jQuery UI Button 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/button/
 */
var lastActive,baseClasses="ui-button ui-widget ui-state-default ui-corner-all",typeClasses="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",formResetHandler=function(){var form=$(this);setTimeout(function(){form.find(":ui-button").button("refresh")},1)},radioGroup=function(radio){var name=radio.name,form=radio.form,radios=$([]);if(name){name=name.replace(/'/g,"\\'");if(form){radios=$(form).find("[name='"+name+"'][type=radio]")}else{radios=$("[name='"+name+"'][type=radio]",radio.ownerDocument).filter(function(){return !this.form})}}return radios};$.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:true,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,formResetHandler);if(typeof this.options.disabled!=="boolean"){this.options.disabled=!!this.element.prop("disabled")}else{this.element.prop("disabled",this.options.disabled)}this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var that=this,options=this.options,toggleButton=this.type==="checkbox"||this.type==="radio",activeClass=!toggleButton?"ui-state-active":"";if(options.label===null){options.label=(this.type==="input"?this.buttonElement.val():this.buttonElement.html())}this._hoverable(this.buttonElement);this.buttonElement.addClass(baseClasses).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){if(options.disabled){return }if(this===lastActive){$(this).addClass("ui-state-active")}}).bind("mouseleave"+this.eventNamespace,function(){if(options.disabled){return }$(this).removeClass(activeClass)}).bind("click"+this.eventNamespace,function(event){if(options.disabled){event.preventDefault();event.stopImmediatePropagation()}});this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}});if(toggleButton){this.element.bind("change"+this.eventNamespace,function(){that.refresh()})}if(this.type==="checkbox"){this.buttonElement.bind("click"+this.eventNamespace,function(){if(options.disabled){return false}})}else{if(this.type==="radio"){this.buttonElement.bind("click"+this.eventNamespace,function(){if(options.disabled){return false}$(this).addClass("ui-state-active");that.buttonElement.attr("aria-pressed","true");var radio=that.element[0];radioGroup(radio).not(radio).map(function(){return $(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")})}else{this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(options.disabled){return false}$(this).addClass("ui-state-active");lastActive=this;that.document.one("mouseup",function(){lastActive=null})}).bind("mouseup"+this.eventNamespace,function(){if(options.disabled){return false}$(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(event){if(options.disabled){return false}if(event.keyCode===$.ui.keyCode.SPACE||event.keyCode===$.ui.keyCode.ENTER){$(this).addClass("ui-state-active")}}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){$(this).removeClass("ui-state-active")});if(this.buttonElement.is("a")){this.buttonElement.keyup(function(event){if(event.keyCode===$.ui.keyCode.SPACE){$(this).click()}})}}}this._setOption("disabled",options.disabled);this._resetButton()},_determineButtonType:function(){var ancestor,labelSelector,checked;if(this.element.is("[type=checkbox]")){this.type="checkbox"}else{if(this.element.is("[type=radio]")){this.type="radio"}else{if(this.element.is("input")){this.type="input"}else{this.type="button"}}}if(this.type==="checkbox"||this.type==="radio"){ancestor=this.element.parents().last();labelSelector="label[for='"+this.element.attr("id")+"']";this.buttonElement=ancestor.find(labelSelector);if(!this.buttonElement.length){ancestor=ancestor.length?ancestor.siblings():this.element.siblings();this.buttonElement=ancestor.filter(labelSelector);if(!this.buttonElement.length){this.buttonElement=ancestor.find(labelSelector)}}this.element.addClass("ui-helper-hidden-accessible");checked=this.element.is(":checked");if(checked){this.buttonElement.addClass("ui-state-active")}this.buttonElement.prop("aria-pressed",checked)}else{this.buttonElement=this.element}},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass(baseClasses+" ui-state-active "+typeClasses).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());if(!this.hasTitle){this.buttonElement.removeAttr("title")}},_setOption:function(key,value){this._super(key,value);if(key==="disabled"){this.widget().toggleClass("ui-state-disabled",!!value);this.element.prop("disabled",!!value);if(value){if(this.type==="checkbox"||this.type==="radio"){this.buttonElement.removeClass("ui-state-focus")}else{this.buttonElement.removeClass("ui-state-focus ui-state-active")}}return }this._resetButton()},refresh:function(){var isDisabled=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");if(isDisabled!==this.options.disabled){this._setOption("disabled",isDisabled)}if(this.type==="radio"){radioGroup(this.element[0]).each(function(){if($(this).is(":checked")){$(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true")}else{$(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}})}else{if(this.type==="checkbox"){if(this.element.is(":checked")){this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true")}else{this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false")}}}},_resetButton:function(){if(this.type==="input"){if(this.options.label){this.element.val(this.options.label)}return }var buttonElement=this.buttonElement.removeClass(typeClasses),buttonText=$("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(buttonElement.empty()).text(),icons=this.options.icons,multipleIcons=icons.primary&&icons.secondary,buttonClasses=[];if(icons.primary||icons.secondary){if(this.options.text){buttonClasses.push("ui-button-text-icon"+(multipleIcons?"s":(icons.primary?"-primary":"-secondary")))}if(icons.primary){buttonElement.prepend("<span class='ui-button-icon-primary ui-icon "+icons.primary+"'></span>")}if(icons.secondary){buttonElement.append("<span class='ui-button-icon-secondary ui-icon "+icons.secondary+"'></span>")}if(!this.options.text){buttonClasses.push(multipleIcons?"ui-button-icons-only":"ui-button-icon-only");if(!this.hasTitle){buttonElement.attr("title",$.trim(buttonText))}}}else{buttonClasses.push("ui-button-text-only")}buttonElement.addClass(buttonClasses.join(" "))}});$.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(key,value){if(key==="disabled"){this.buttons.button("option",key,value)}this._super(key,value)},refresh:function(){var rtl=this.element.css("direction")==="rtl",allButtons=this.element.find(this.options.items),existingButtons=allButtons.filter(":ui-button");allButtons.not(":ui-button").button();existingButtons.button("refresh");this.buttons=allButtons.map(function(){return $(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(rtl?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(rtl?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return $(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});var button=$.ui.button;
/*
 * jQuery UI Datepicker 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/datepicker/
 */
$.extend($.ui,{datepicker:{version:"1.11.4"}});var datepicker_instActive;function datepicker_getZindex(elem){var position,value;while(elem.length&&elem[0]!==document){position=elem.css("position");if(position==="absolute"||position==="relative"||position==="fixed"){value=parseInt(elem.css("zIndex"),10);if(!isNaN(value)&&value!==0){return value}}elem=elem.parent()}return 0}function Datepicker(){this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false,disabled:false};$.extend(this._defaults,this.regional[""]);this.regional.en=$.extend(true,{},this.regional[""]);this.regional["en-US"]=$.extend(true,{},this.regional.en);this.dpDiv=datepicker_bindHover($("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(settings){datepicker_extendRemove(this._defaults,settings||{});return this},_attachDatepicker:function(target,settings){var nodeName,inline,inst;nodeName=target.nodeName.toLowerCase();inline=(nodeName==="div"||nodeName==="span");if(!target.id){this.uuid+=1;target.id="dp"+this.uuid}inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{});if(nodeName==="input"){this._connectDatepicker(target,inst)}else{if(inline){this._inlineDatepicker(target,inst)}}},_newInst:function(target,inline){var id=target[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:id,input:target,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:inline,dpDiv:(!inline?this.dpDiv:datepicker_bindHover($("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")))}},_connectDatepicker:function(target,inst){var input=$(target);inst.append=$([]);inst.trigger=$([]);if(input.hasClass(this.markerClassName)){return }this._attachments(input,inst);input.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp);this._autoSize(inst);$.data(target,"datepicker",inst);if(inst.settings.disabled){this._disableDatepicker(target)}},_attachments:function(input,inst){var showOn,buttonText,buttonImage,appendText=this._get(inst,"appendText"),isRTL=this._get(inst,"isRTL");if(inst.append){inst.append.remove()}if(appendText){inst.append=$("<span class='"+this._appendClass+"'>"+appendText+"</span>");input[isRTL?"before":"after"](inst.append)}input.unbind("focus",this._showDatepicker);if(inst.trigger){inst.trigger.remove()}showOn=this._get(inst,"showOn");if(showOn==="focus"||showOn==="both"){input.focus(this._showDatepicker)}if(showOn==="button"||showOn==="both"){buttonText=this._get(inst,"buttonText");buttonImage=this._get(inst,"buttonImage");inst.trigger=$(this._get(inst,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:buttonImage,alt:buttonText,title:buttonText}):$("<button type='button'></button>").addClass(this._triggerClass).html(!buttonImage?buttonText:$("<img/>").attr({src:buttonImage,alt:buttonText,title:buttonText})));input[isRTL?"before":"after"](inst.trigger);inst.trigger.click(function(){if($.datepicker._datepickerShowing&&$.datepicker._lastInput===input[0]){$.datepicker._hideDatepicker()}else{if($.datepicker._datepickerShowing&&$.datepicker._lastInput!==input[0]){$.datepicker._hideDatepicker();$.datepicker._showDatepicker(input[0])}else{$.datepicker._showDatepicker(input[0])}}return false})}},_autoSize:function(inst){if(this._get(inst,"autoSize")&&!inst.inline){var findMax,max,maxI,i,date=new Date(2009,12-1,20),dateFormat=this._get(inst,"dateFormat");if(dateFormat.match(/[DM]/)){findMax=function(names){max=0;maxI=0;for(i=0;i<names.length;i++){if(names[i].length>max){max=names[i].length;maxI=i}}return maxI};date.setMonth(findMax(this._get(inst,(dateFormat.match(/MM/)?"monthNames":"monthNamesShort"))));date.setDate(findMax(this._get(inst,(dateFormat.match(/DD/)?"dayNames":"dayNamesShort")))+20-date.getDay())}inst.input.attr("size",this._formatDate(inst,date).length)}},_inlineDatepicker:function(target,inst){var divSpan=$(target);if(divSpan.hasClass(this.markerClassName)){return }divSpan.addClass(this.markerClassName).append(inst.dpDiv);$.data(target,"datepicker",inst);this._setDate(inst,this._getDefaultDate(inst),true);this._updateDatepicker(inst);this._updateAlternate(inst);if(inst.settings.disabled){this._disableDatepicker(target)}inst.dpDiv.css("display","block")},_dialogDatepicker:function(input,date,onSelect,settings,pos){var id,browserWidth,browserHeight,scrollX,scrollY,inst=this._dialogInst;if(!inst){this.uuid+=1;id="dp"+this.uuid;this._dialogInput=$("<input type='text' id='"+id+"' style='position: absolute; top: -100px; width: 0px;'/>");this._dialogInput.keydown(this._doKeyDown);$("body").append(this._dialogInput);inst=this._dialogInst=this._newInst(this._dialogInput,false);inst.settings={};$.data(this._dialogInput[0],"datepicker",inst)}datepicker_extendRemove(inst.settings,settings||{});date=(date&&date.constructor===Date?this._formatDate(inst,date):date);this._dialogInput.val(date);this._pos=(pos?(pos.length?pos:[pos.pageX,pos.pageY]):null);if(!this._pos){browserWidth=document.documentElement.clientWidth;browserHeight=document.documentElement.clientHeight;scrollX=document.documentElement.scrollLeft||document.body.scrollLeft;scrollY=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[(browserWidth/2)-100+scrollX,(browserHeight/2)-150+scrollY]}this._dialogInput.css("left",(this._pos[0]+20)+"px").css("top",this._pos[1]+"px");inst.settings.onSelect=onSelect;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if($.blockUI){$.blockUI(this.dpDiv)}$.data(this._dialogInput[0],"datepicker",inst);return this},_destroyDatepicker:function(target){var nodeName,$target=$(target),inst=$.data(target,"datepicker");if(!$target.hasClass(this.markerClassName)){return }nodeName=target.nodeName.toLowerCase();$.removeData(target,"datepicker");if(nodeName==="input"){inst.append.remove();inst.trigger.remove();$target.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)}else{if(nodeName==="div"||nodeName==="span"){$target.removeClass(this.markerClassName).empty()}}if(datepicker_instActive===inst){datepicker_instActive=null}},_enableDatepicker:function(target){var nodeName,inline,$target=$(target),inst=$.data(target,"datepicker");if(!$target.hasClass(this.markerClassName)){return }nodeName=target.nodeName.toLowerCase();if(nodeName==="input"){target.disabled=false;inst.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else{if(nodeName==="div"||nodeName==="span"){inline=$target.children("."+this._inlineClass);inline.children().removeClass("ui-state-disabled");inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",false)}}this._disabledInputs=$.map(this._disabledInputs,function(value){return(value===target?null:value)})},_disableDatepicker:function(target){var nodeName,inline,$target=$(target),inst=$.data(target,"datepicker");if(!$target.hasClass(this.markerClassName)){return }nodeName=target.nodeName.toLowerCase();if(nodeName==="input"){target.disabled=true;inst.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else{if(nodeName==="div"||nodeName==="span"){inline=$target.children("."+this._inlineClass);inline.children().addClass("ui-state-disabled");inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",true)}}this._disabledInputs=$.map(this._disabledInputs,function(value){return(value===target?null:value)});this._disabledInputs[this._disabledInputs.length]=target},_isDisabledDatepicker:function(target){if(!target){return false}for(var i=0;i<this._disabledInputs.length;i++){if(this._disabledInputs[i]===target){return true}}return false},_getInst:function(target){try{return $.data(target,"datepicker")}catch(err){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(target,name,value){var settings,date,minDate,maxDate,inst=this._getInst(target);if(arguments.length===2&&typeof name==="string"){return(name==="defaults"?$.extend({},$.datepicker._defaults):(inst?(name==="all"?$.extend({},inst.settings):this._get(inst,name)):null))}settings=name||{};if(typeof name==="string"){settings={};settings[name]=value}if(inst){if(this._curInst===inst){this._hideDatepicker()}date=this._getDateDatepicker(target,true);minDate=this._getMinMaxDate(inst,"min");maxDate=this._getMinMaxDate(inst,"max");datepicker_extendRemove(inst.settings,settings);if(minDate!==null&&settings.dateFormat!==undefined&&settings.minDate===undefined){inst.settings.minDate=this._formatDate(inst,minDate)}if(maxDate!==null&&settings.dateFormat!==undefined&&settings.maxDate===undefined){inst.settings.maxDate=this._formatDate(inst,maxDate)}if("disabled" in settings){if(settings.disabled){this._disableDatepicker(target)}else{this._enableDatepicker(target)}}this._attachments($(target),inst);this._autoSize(inst);this._setDate(inst,date);this._updateAlternate(inst);this._updateDatepicker(inst)}},_changeDatepicker:function(target,name,value){this._optionDatepicker(target,name,value)},_refreshDatepicker:function(target){var inst=this._getInst(target);if(inst){this._updateDatepicker(inst)}},_setDateDatepicker:function(target,date){var inst=this._getInst(target);if(inst){this._setDate(inst,date);this._updateDatepicker(inst);this._updateAlternate(inst)}},_getDateDatepicker:function(target,noDefault){var inst=this._getInst(target);if(inst&&!inst.inline){this._setDateFromField(inst,noDefault)}return(inst?this._getDate(inst):null)},_doKeyDown:function(event){var onSelect,dateStr,sel,inst=$.datepicker._getInst(event.target),handled=true,isRTL=inst.dpDiv.is(".ui-datepicker-rtl");inst._keyEvent=true;if($.datepicker._datepickerShowing){switch(event.keyCode){case 9:$.datepicker._hideDatepicker();handled=false;break;case 13:sel=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",inst.dpDiv);if(sel[0]){$.datepicker._selectDay(event.target,inst.selectedMonth,inst.selectedYear,sel[0])}onSelect=$.datepicker._get(inst,"onSelect");if(onSelect){dateStr=$.datepicker._formatDate(inst);onSelect.apply((inst.input?inst.input[0]:null),[dateStr,inst])}else{$.datepicker._hideDatepicker()}return false;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths")),"M");break;case 34:$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths")),"M");break;case 35:if(event.ctrlKey||event.metaKey){$.datepicker._clearDate(event.target)}handled=event.ctrlKey||event.metaKey;break;case 36:if(event.ctrlKey||event.metaKey){$.datepicker._gotoToday(event.target)}handled=event.ctrlKey||event.metaKey;break;case 37:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,(isRTL?+1:-1),"D")}handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths")),"M")}break;case 38:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,-7,"D")}handled=event.ctrlKey||event.metaKey;break;case 39:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,(isRTL?-1:+1),"D")}handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths")),"M")}break;case 40:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,+7,"D")}handled=event.ctrlKey||event.metaKey;break;default:handled=false}}else{if(event.keyCode===36&&event.ctrlKey){$.datepicker._showDatepicker(this)}else{handled=false}}if(handled){event.preventDefault();event.stopPropagation()}},_doKeyPress:function(event){var chars,chr,inst=$.datepicker._getInst(event.target);if($.datepicker._get(inst,"constrainInput")){chars=$.datepicker._possibleChars($.datepicker._get(inst,"dateFormat"));chr=String.fromCharCode(event.charCode==null?event.keyCode:event.charCode);return event.ctrlKey||event.metaKey||(chr<" "||!chars||chars.indexOf(chr)>-1)}},_doKeyUp:function(event){var date,inst=$.datepicker._getInst(event.target);if(inst.input.val()!==inst.lastVal){try{date=$.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),(inst.input?inst.input.val():null),$.datepicker._getFormatConfig(inst));if(date){$.datepicker._setDateFromField(inst);$.datepicker._updateAlternate(inst);$.datepicker._updateDatepicker(inst)}}catch(err){}}return true},_showDatepicker:function(input){input=input.target||input;if(input.nodeName.toLowerCase()!=="input"){input=$("input",input.parentNode)[0]}if($.datepicker._isDisabledDatepicker(input)||$.datepicker._lastInput===input){return }var inst,beforeShow,beforeShowSettings,isFixed,offset,showAnim,duration;inst=$.datepicker._getInst(input);if($.datepicker._curInst&&$.datepicker._curInst!==inst){$.datepicker._curInst.dpDiv.stop(true,true);if(inst&&$.datepicker._datepickerShowing){$.datepicker._hideDatepicker($.datepicker._curInst.input[0])}}beforeShow=$.datepicker._get(inst,"beforeShow");beforeShowSettings=beforeShow?beforeShow.apply(input,[input,inst]):{};if(beforeShowSettings===false){return }datepicker_extendRemove(inst.settings,beforeShowSettings);inst.lastVal=null;$.datepicker._lastInput=input;$.datepicker._setDateFromField(inst);if($.datepicker._inDialog){input.value=""}if(!$.datepicker._pos){$.datepicker._pos=$.datepicker._findPos(input);$.datepicker._pos[1]+=input.offsetHeight}isFixed=false;$(input).parents().each(function(){isFixed|=$(this).css("position")==="fixed";return !isFixed});offset={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null;inst.dpDiv.empty();inst.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});$.datepicker._updateDatepicker(inst);offset=$.datepicker._checkOffset(inst,offset,isFixed);inst.dpDiv.css({position:($.datepicker._inDialog&&$.blockUI?"static":(isFixed?"fixed":"absolute")),display:"none",left:offset.left+"px",top:offset.top+"px"});if(!inst.inline){showAnim=$.datepicker._get(inst,"showAnim");duration=$.datepicker._get(inst,"duration");inst.dpDiv.css("z-index",datepicker_getZindex($(input))+1);$.datepicker._datepickerShowing=true;if($.effects&&$.effects.effect[showAnim]){inst.dpDiv.show(showAnim,$.datepicker._get(inst,"showOptions"),duration)}else{inst.dpDiv[showAnim||"show"](showAnim?duration:null)}if($.datepicker._shouldFocusInput(inst)){inst.input.focus()}$.datepicker._curInst=inst}},_updateDatepicker:function(inst){this.maxRows=4;datepicker_instActive=inst;inst.dpDiv.empty().append(this._generateHTML(inst));this._attachHandlers(inst);var origyearshtml,numMonths=this._getNumberOfMonths(inst),cols=numMonths[1],width=17,activeCell=inst.dpDiv.find("."+this._dayOverClass+" a");if(activeCell.length>0){datepicker_handleMouseover.apply(activeCell.get(0))}inst.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");if(cols>1){inst.dpDiv.addClass("ui-datepicker-multi-"+cols).css("width",(width*cols)+"em")}inst.dpDiv[(numMonths[0]!==1||numMonths[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi");inst.dpDiv[(this._get(inst,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");if(inst===$.datepicker._curInst&&$.datepicker._datepickerShowing&&$.datepicker._shouldFocusInput(inst)){inst.input.focus()}if(inst.yearshtml){origyearshtml=inst.yearshtml;setTimeout(function(){if(origyearshtml===inst.yearshtml&&inst.yearshtml){inst.dpDiv.find("select.ui-datepicker-year:first").replaceWith(inst.yearshtml)}origyearshtml=inst.yearshtml=null},0)}},_shouldFocusInput:function(inst){return inst.input&&inst.input.is(":visible")&&!inst.input.is(":disabled")&&!inst.input.is(":focus")},_checkOffset:function(inst,offset,isFixed){var dpWidth=inst.dpDiv.outerWidth(),dpHeight=inst.dpDiv.outerHeight(),inputWidth=inst.input?inst.input.outerWidth():0,inputHeight=inst.input?inst.input.outerHeight():0,viewWidth=document.documentElement.clientWidth+(isFixed?0:$(document).scrollLeft()),viewHeight=document.documentElement.clientHeight+(isFixed?0:$(document).scrollTop());offset.left-=(this._get(inst,"isRTL")?(dpWidth-inputWidth):0);offset.left-=(isFixed&&offset.left===inst.input.offset().left)?$(document).scrollLeft():0;offset.top-=(isFixed&&offset.top===(inst.input.offset().top+inputHeight))?$(document).scrollTop():0;offset.left-=Math.min(offset.left,(offset.left+dpWidth>viewWidth&&viewWidth>dpWidth)?Math.abs(offset.left+dpWidth-viewWidth):0);offset.top-=Math.min(offset.top,(offset.top+dpHeight>viewHeight&&viewHeight>dpHeight)?Math.abs(dpHeight+inputHeight):0);return offset},_findPos:function(obj){var position,inst=this._getInst(obj),isRTL=this._get(inst,"isRTL");while(obj&&(obj.type==="hidden"||obj.nodeType!==1||$.expr.filters.hidden(obj))){obj=obj[isRTL?"previousSibling":"nextSibling"]}position=$(obj).offset();return[position.left,position.top]},_hideDatepicker:function(input){var showAnim,duration,postProcess,onClose,inst=this._curInst;if(!inst||(input&&inst!==$.data(input,"datepicker"))){return }if(this._datepickerShowing){showAnim=this._get(inst,"showAnim");duration=this._get(inst,"duration");postProcess=function(){$.datepicker._tidyDialog(inst)};if($.effects&&($.effects.effect[showAnim]||$.effects[showAnim])){inst.dpDiv.hide(showAnim,$.datepicker._get(inst,"showOptions"),duration,postProcess)}else{inst.dpDiv[(showAnim==="slideDown"?"slideUp":(showAnim==="fadeIn"?"fadeOut":"hide"))]((showAnim?duration:null),postProcess)}if(!showAnim){postProcess()}this._datepickerShowing=false;onClose=this._get(inst,"onClose");if(onClose){onClose.apply((inst.input?inst.input[0]:null),[(inst.input?inst.input.val():""),inst])}this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if($.blockUI){$.unblockUI();$("body").append(this.dpDiv)}}this._inDialog=false}},_tidyDialog:function(inst){inst.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(event){if(!$.datepicker._curInst){return }var $target=$(event.target),inst=$.datepicker._getInst($target[0]);if((($target[0].id!==$.datepicker._mainDivId&&$target.parents("#"+$.datepicker._mainDivId).length===0&&!$target.hasClass($.datepicker.markerClassName)&&!$target.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&!($.datepicker._inDialog&&$.blockUI)))||($target.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!==inst)){$.datepicker._hideDatepicker()}},_adjustDate:function(id,offset,period){var target=$(id),inst=this._getInst(target[0]);if(this._isDisabledDatepicker(target[0])){return }this._adjustInstDate(inst,offset+(period==="M"?this._get(inst,"showCurrentAtPos"):0),period);this._updateDatepicker(inst)},_gotoToday:function(id){var date,target=$(id),inst=this._getInst(target[0]);if(this._get(inst,"gotoCurrent")&&inst.currentDay){inst.selectedDay=inst.currentDay;inst.drawMonth=inst.selectedMonth=inst.currentMonth;inst.drawYear=inst.selectedYear=inst.currentYear}else{date=new Date();inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear()}this._notifyChange(inst);this._adjustDate(target)},_selectMonthYear:function(id,select,period){var target=$(id),inst=this._getInst(target[0]);inst["selected"+(period==="M"?"Month":"Year")]=inst["draw"+(period==="M"?"Month":"Year")]=parseInt(select.options[select.selectedIndex].value,10);this._notifyChange(inst);this._adjustDate(target)},_selectDay:function(id,month,year,td){var inst,target=$(id);if($(td).hasClass(this._unselectableClass)||this._isDisabledDatepicker(target[0])){return }inst=this._getInst(target[0]);inst.selectedDay=inst.currentDay=$("a",td).html();inst.selectedMonth=inst.currentMonth=month;inst.selectedYear=inst.currentYear=year;this._selectDate(id,this._formatDate(inst,inst.currentDay,inst.currentMonth,inst.currentYear))},_clearDate:function(id){var target=$(id);this._selectDate(target,"")},_selectDate:function(id,dateStr){var onSelect,target=$(id),inst=this._getInst(target[0]);dateStr=(dateStr!=null?dateStr:this._formatDate(inst));if(inst.input){inst.input.val(dateStr)}this._updateAlternate(inst);onSelect=this._get(inst,"onSelect");if(onSelect){onSelect.apply((inst.input?inst.input[0]:null),[dateStr,inst])}else{if(inst.input){inst.input.trigger("change")}}if(inst.inline){this._updateDatepicker(inst)}else{this._hideDatepicker();this._lastInput=inst.input[0];if(typeof (inst.input[0])!=="object"){inst.input.focus()}this._lastInput=null}},_updateAlternate:function(inst){var altFormat,date,dateStr,altField=this._get(inst,"altField");if(altField){altFormat=this._get(inst,"altFormat")||this._get(inst,"dateFormat");date=this._getDate(inst);dateStr=this.formatDate(altFormat,date,this._getFormatConfig(inst));$(altField).each(function(){$(this).val(dateStr)})}},noWeekends:function(date){var day=date.getDay();return[(day>0&&day<6),""]},iso8601Week:function(date){var time,checkDate=new Date(date.getTime());checkDate.setDate(checkDate.getDate()+4-(checkDate.getDay()||7));time=checkDate.getTime();checkDate.setMonth(0);checkDate.setDate(1);return Math.floor(Math.round((time-checkDate)/86400000)/7)+1},parseDate:function(format,value,settings){if(format==null||value==null){throw"Invalid arguments"}value=(typeof value==="object"?value.toString():value+"");if(value===""){return null}var iFormat,dim,extra,iValue=0,shortYearCutoffTemp=(settings?settings.shortYearCutoff:null)||this._defaults.shortYearCutoff,shortYearCutoff=(typeof shortYearCutoffTemp!=="string"?shortYearCutoffTemp:new Date().getFullYear()%100+parseInt(shortYearCutoffTemp,10)),dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,year=-1,month=-1,day=-1,doy=-1,literal=false,date,lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)===match);if(matches){iFormat++}return matches},getNumber=function(match){var isDoubled=lookAhead(match),size=(match==="@"?14:(match==="!"?20:(match==="y"&&isDoubled?4:(match==="o"?3:2)))),minSize=(match==="y"?size:1),digits=new RegExp("^\\d{"+minSize+","+size+"}"),num=value.substring(iValue).match(digits);if(!num){throw"Missing number at position "+iValue}iValue+=num[0].length;return parseInt(num[0],10)},getName=function(match,shortNames,longNames){var index=-1,names=$.map(lookAhead(match)?longNames:shortNames,function(v,k){return[[k,v]]}).sort(function(a,b){return -(a[1].length-b[1].length)});$.each(names,function(i,pair){var name=pair[1];if(value.substr(iValue,name.length).toLowerCase()===name.toLowerCase()){index=pair[0];iValue+=name.length;return false}});if(index!==-1){return index+1}else{throw"Unknown name at position "+iValue}},checkLiteral=function(){if(value.charAt(iValue)!==format.charAt(iFormat)){throw"Unexpected literal at position "+iValue}iValue++};for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)==="'"&&!lookAhead("'")){literal=false}else{checkLiteral()}}else{switch(format.charAt(iFormat)){case"d":day=getNumber("d");break;case"D":getName("D",dayNamesShort,dayNames);break;case"o":doy=getNumber("o");break;case"m":month=getNumber("m");break;case"M":month=getName("M",monthNamesShort,monthNames);break;case"y":year=getNumber("y");break;case"@":date=new Date(getNumber("@"));year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case"!":date=new Date((getNumber("!")-this._ticksTo1970)/10000);year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case"'":if(lookAhead("'")){checkLiteral()}else{literal=true}break;default:checkLiteral()}}}if(iValue<value.length){extra=value.substr(iValue);if(!/^\s+/.test(extra)){throw"Extra/unparsed characters found in date: "+extra}}if(year===-1){year=new Date().getFullYear()}else{if(year<100){year+=new Date().getFullYear()-new Date().getFullYear()%100+(year<=shortYearCutoff?0:-100)}}if(doy>-1){month=1;day=doy;do{dim=this._getDaysInMonth(year,month-1);if(day<=dim){break}month++;day-=dim}while(true)}date=this._daylightSavingAdjust(new Date(year,month-1,day));if(date.getFullYear()!==year||date.getMonth()+1!==month||date.getDate()!==day){throw"Invalid date"}return date},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*10000000),formatDate:function(format,date,settings){if(!date){return""}var iFormat,dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)===match);if(matches){iFormat++}return matches},formatNumber=function(match,value,len){var num=""+value;if(lookAhead(match)){while(num.length<len){num="0"+num}}return num},formatName=function(match,value,shortNames,longNames){return(lookAhead(match)?longNames[value]:shortNames[value])},output="",literal=false;if(date){for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)==="'"&&!lookAhead("'")){literal=false}else{output+=format.charAt(iFormat)}}else{switch(format.charAt(iFormat)){case"d":output+=formatNumber("d",date.getDate(),2);break;case"D":output+=formatName("D",date.getDay(),dayNamesShort,dayNames);break;case"o":output+=formatNumber("o",Math.round((new Date(date.getFullYear(),date.getMonth(),date.getDate()).getTime()-new Date(date.getFullYear(),0,0).getTime())/86400000),3);break;case"m":output+=formatNumber("m",date.getMonth()+1,2);break;case"M":output+=formatName("M",date.getMonth(),monthNamesShort,monthNames);break;case"y":output+=(lookAhead("y")?date.getFullYear():(date.getYear()%100<10?"0":"")+date.getYear()%100);break;case"@":output+=date.getTime();break;case"!":output+=date.getTime()*10000+this._ticksTo1970;break;case"'":if(lookAhead("'")){output+="'"}else{literal=true}break;default:output+=format.charAt(iFormat)}}}}return output},_possibleChars:function(format){var iFormat,chars="",literal=false,lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)===match);if(matches){iFormat++}return matches};for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)==="'"&&!lookAhead("'")){literal=false}else{chars+=format.charAt(iFormat)}}else{switch(format.charAt(iFormat)){case"d":case"m":case"y":case"@":chars+="0123456789";break;case"D":case"M":return null;case"'":if(lookAhead("'")){chars+="'"}else{literal=true}break;default:chars+=format.charAt(iFormat)}}}return chars},_get:function(inst,name){return inst.settings[name]!==undefined?inst.settings[name]:this._defaults[name]},_setDateFromField:function(inst,noDefault){if(inst.input.val()===inst.lastVal){return }var dateFormat=this._get(inst,"dateFormat"),dates=inst.lastVal=inst.input?inst.input.val():null,defaultDate=this._getDefaultDate(inst),date=defaultDate,settings=this._getFormatConfig(inst);try{date=this.parseDate(dateFormat,dates,settings)||defaultDate}catch(event){dates=(noDefault?"":dates)}inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();inst.currentDay=(dates?date.getDate():0);inst.currentMonth=(dates?date.getMonth():0);inst.currentYear=(dates?date.getFullYear():0);this._adjustInstDate(inst)},_getDefaultDate:function(inst){return this._restrictMinMax(inst,this._determineDate(inst,this._get(inst,"defaultDate"),new Date()))},_determineDate:function(inst,date,defaultDate){var offsetNumeric=function(offset){var date=new Date();date.setDate(date.getDate()+offset);return date},offsetString=function(offset){try{return $.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),offset,$.datepicker._getFormatConfig(inst))}catch(e){}var date=(offset.toLowerCase().match(/^c/)?$.datepicker._getDate(inst):null)||new Date(),year=date.getFullYear(),month=date.getMonth(),day=date.getDate(),pattern=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,matches=pattern.exec(offset);while(matches){switch(matches[2]||"d"){case"d":case"D":day+=parseInt(matches[1],10);break;case"w":case"W":day+=parseInt(matches[1],10)*7;break;case"m":case"M":month+=parseInt(matches[1],10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break;case"y":case"Y":year+=parseInt(matches[1],10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break}matches=pattern.exec(offset)}return new Date(year,month,day)},newDate=(date==null||date===""?defaultDate:(typeof date==="string"?offsetString(date):(typeof date==="number"?(isNaN(date)?defaultDate:offsetNumeric(date)):new Date(date.getTime()))));newDate=(newDate&&newDate.toString()==="Invalid Date"?defaultDate:newDate);if(newDate){newDate.setHours(0);newDate.setMinutes(0);newDate.setSeconds(0);newDate.setMilliseconds(0)}return this._daylightSavingAdjust(newDate)},_daylightSavingAdjust:function(date){if(!date){return null}date.setHours(date.getHours()>12?date.getHours()+2:0);return date},_setDate:function(inst,date,noChange){var clear=!date,origMonth=inst.selectedMonth,origYear=inst.selectedYear,newDate=this._restrictMinMax(inst,this._determineDate(inst,date,new Date()));inst.selectedDay=inst.currentDay=newDate.getDate();inst.drawMonth=inst.selectedMonth=inst.currentMonth=newDate.getMonth();inst.drawYear=inst.selectedYear=inst.currentYear=newDate.getFullYear();if((origMonth!==inst.selectedMonth||origYear!==inst.selectedYear)&&!noChange){this._notifyChange(inst)}this._adjustInstDate(inst);if(inst.input){inst.input.val(clear?"":this._formatDate(inst))}},_getDate:function(inst){var startDate=(!inst.currentYear||(inst.input&&inst.input.val()==="")?null:this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return startDate},_attachHandlers:function(inst){var stepMonths=this._get(inst,"stepMonths"),id="#"+inst.id.replace(/\\\\/g,"\\");inst.dpDiv.find("[data-handler]").map(function(){var handler={prev:function(){$.datepicker._adjustDate(id,-stepMonths,"M")},next:function(){$.datepicker._adjustDate(id,+stepMonths,"M")},hide:function(){$.datepicker._hideDatepicker()},today:function(){$.datepicker._gotoToday(id)},selectDay:function(){$.datepicker._selectDay(id,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return false},selectMonth:function(){$.datepicker._selectMonthYear(id,this,"M");return false},selectYear:function(){$.datepicker._selectMonthYear(id,this,"Y");return false}};$(this).bind(this.getAttribute("data-event"),handler[this.getAttribute("data-handler")])})},_generateHTML:function(inst){var maxDraw,prevText,prev,nextText,next,currentText,gotoDate,controls,buttonPanel,firstDay,showWeek,dayNames,dayNamesMin,monthNames,monthNamesShort,beforeShowDay,showOtherMonths,selectOtherMonths,defaultDate,html,dow,row,group,col,selectedDate,cornerClass,calender,thead,day,daysInMonth,leadDays,curRows,numRows,printDate,dRow,tbody,daySettings,otherMonth,unselectable,tempDate=new Date(),today=this._daylightSavingAdjust(new Date(tempDate.getFullYear(),tempDate.getMonth(),tempDate.getDate())),isRTL=this._get(inst,"isRTL"),showButtonPanel=this._get(inst,"showButtonPanel"),hideIfNoPrevNext=this._get(inst,"hideIfNoPrevNext"),navigationAsDateFormat=this._get(inst,"navigationAsDateFormat"),numMonths=this._getNumberOfMonths(inst),showCurrentAtPos=this._get(inst,"showCurrentAtPos"),stepMonths=this._get(inst,"stepMonths"),isMultiMonth=(numMonths[0]!==1||numMonths[1]!==1),currentDate=this._daylightSavingAdjust((!inst.currentDay?new Date(9999,9,9):new Date(inst.currentYear,inst.currentMonth,inst.currentDay))),minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),drawMonth=inst.drawMonth-showCurrentAtPos,drawYear=inst.drawYear;if(drawMonth<0){drawMonth+=12;drawYear--}if(maxDate){maxDraw=this._daylightSavingAdjust(new Date(maxDate.getFullYear(),maxDate.getMonth()-(numMonths[0]*numMonths[1])+1,maxDate.getDate()));maxDraw=(minDate&&maxDraw<minDate?minDate:maxDraw);while(this._daylightSavingAdjust(new Date(drawYear,drawMonth,1))>maxDraw){drawMonth--;if(drawMonth<0){drawMonth=11;drawYear--}}}inst.drawMonth=drawMonth;inst.drawYear=drawYear;prevText=this._get(inst,"prevText");prevText=(!navigationAsDateFormat?prevText:this.formatDate(prevText,this._daylightSavingAdjust(new Date(drawYear,drawMonth-stepMonths,1)),this._getFormatConfig(inst)));prev=(this._canAdjustMonth(inst,-1,drawYear,drawMonth)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+prevText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"e":"w")+"'>"+prevText+"</span></a>":(hideIfNoPrevNext?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+prevText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"e":"w")+"'>"+prevText+"</span></a>"));nextText=this._get(inst,"nextText");nextText=(!navigationAsDateFormat?nextText:this.formatDate(nextText,this._daylightSavingAdjust(new Date(drawYear,drawMonth+stepMonths,1)),this._getFormatConfig(inst)));next=(this._canAdjustMonth(inst,+1,drawYear,drawMonth)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+nextText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"w":"e")+"'>"+nextText+"</span></a>":(hideIfNoPrevNext?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+nextText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"w":"e")+"'>"+nextText+"</span></a>"));currentText=this._get(inst,"currentText");gotoDate=(this._get(inst,"gotoCurrent")&&inst.currentDay?currentDate:today);currentText=(!navigationAsDateFormat?currentText:this.formatDate(currentText,gotoDate,this._getFormatConfig(inst)));controls=(!inst.inline?"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(inst,"closeText")+"</button>":"");buttonPanel=(showButtonPanel)?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(isRTL?controls:"")+(this._isInRange(inst,gotoDate)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+currentText+"</button>":"")+(isRTL?"":controls)+"</div>":"";firstDay=parseInt(this._get(inst,"firstDay"),10);firstDay=(isNaN(firstDay)?0:firstDay);showWeek=this._get(inst,"showWeek");dayNames=this._get(inst,"dayNames");dayNamesMin=this._get(inst,"dayNamesMin");monthNames=this._get(inst,"monthNames");monthNamesShort=this._get(inst,"monthNamesShort");beforeShowDay=this._get(inst,"beforeShowDay");showOtherMonths=this._get(inst,"showOtherMonths");selectOtherMonths=this._get(inst,"selectOtherMonths");defaultDate=this._getDefaultDate(inst);html="";dow;for(row=0;row<numMonths[0];row++){group="";this.maxRows=4;for(col=0;col<numMonths[1];col++){selectedDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,inst.selectedDay));cornerClass=" ui-corner-all";calender="";if(isMultiMonth){calender+="<div class='ui-datepicker-group";if(numMonths[1]>1){switch(col){case 0:calender+=" ui-datepicker-group-first";cornerClass=" ui-corner-"+(isRTL?"right":"left");break;case numMonths[1]-1:calender+=" ui-datepicker-group-last";cornerClass=" ui-corner-"+(isRTL?"left":"right");break;default:calender+=" ui-datepicker-group-middle";cornerClass="";break}}calender+="'>"}calender+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+cornerClass+"'>"+(/all|left/.test(cornerClass)&&row===0?(isRTL?next:prev):"")+(/all|right/.test(cornerClass)&&row===0?(isRTL?prev:next):"")+this._generateMonthYearHeader(inst,drawMonth,drawYear,minDate,maxDate,row>0||col>0,monthNames,monthNamesShort)+"</div><table class='ui-datepicker-calendar'><thead><tr>";thead=(showWeek?"<th class='ui-datepicker-week-col'>"+this._get(inst,"weekHeader")+"</th>":"");for(dow=0;dow<7;dow++){day=(dow+firstDay)%7;thead+="<th scope='col'"+((dow+firstDay+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+dayNames[day]+"'>"+dayNamesMin[day]+"</span></th>"}calender+=thead+"</tr></thead><tbody>";daysInMonth=this._getDaysInMonth(drawYear,drawMonth);if(drawYear===inst.selectedYear&&drawMonth===inst.selectedMonth){inst.selectedDay=Math.min(inst.selectedDay,daysInMonth)}leadDays=(this._getFirstDayOfMonth(drawYear,drawMonth)-firstDay+7)%7;curRows=Math.ceil((leadDays+daysInMonth)/7);numRows=(isMultiMonth?this.maxRows>curRows?this.maxRows:curRows:curRows);this.maxRows=numRows;printDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,1-leadDays));for(dRow=0;dRow<numRows;dRow++){calender+="<tr>";tbody=(!showWeek?"":"<td class='ui-datepicker-week-col'>"+this._get(inst,"calculateWeek")(printDate)+"</td>");for(dow=0;dow<7;dow++){daySettings=(beforeShowDay?beforeShowDay.apply((inst.input?inst.input[0]:null),[printDate]):[true,""]);otherMonth=(printDate.getMonth()!==drawMonth);unselectable=(otherMonth&&!selectOtherMonths)||!daySettings[0]||(minDate&&printDate<minDate)||(maxDate&&printDate>maxDate);tbody+="<td class='"+((dow+firstDay+6)%7>=5?" ui-datepicker-week-end":"")+(otherMonth?" ui-datepicker-other-month":"")+((printDate.getTime()===selectedDate.getTime()&&drawMonth===inst.selectedMonth&&inst._keyEvent)||(defaultDate.getTime()===printDate.getTime()&&defaultDate.getTime()===selectedDate.getTime())?" "+this._dayOverClass:"")+(unselectable?" "+this._unselectableClass+" ui-state-disabled":"")+(otherMonth&&!showOtherMonths?"":" "+daySettings[1]+(printDate.getTime()===currentDate.getTime()?" "+this._currentClass:"")+(printDate.getTime()===today.getTime()?" ui-datepicker-today":""))+"'"+((!otherMonth||showOtherMonths)&&daySettings[2]?" title='"+daySettings[2].replace(/'/g,"&#39;")+"'":"")+(unselectable?"":" data-handler='selectDay' data-event='click' data-month='"+printDate.getMonth()+"' data-year='"+printDate.getFullYear()+"'")+">"+(otherMonth&&!showOtherMonths?"&#xa0;":(unselectable?"<span class='ui-state-default'>"+printDate.getDate()+"</span>":"<a class='ui-state-default"+(printDate.getTime()===today.getTime()?" ui-state-highlight":"")+(printDate.getTime()===currentDate.getTime()?" ui-state-active":"")+(otherMonth?" ui-priority-secondary":"")+"' href='#'>"+printDate.getDate()+"</a>"))+"</td>";printDate.setDate(printDate.getDate()+1);printDate=this._daylightSavingAdjust(printDate)}calender+=tbody+"</tr>"}drawMonth++;if(drawMonth>11){drawMonth=0;drawYear++}calender+="</tbody></table>"+(isMultiMonth?"</div>"+((numMonths[0]>0&&col===numMonths[1]-1)?"<div class='ui-datepicker-row-break'></div>":""):"");group+=calender}html+=group}html+=buttonPanel;inst._keyEvent=false;return html},_generateMonthYearHeader:function(inst,drawMonth,drawYear,minDate,maxDate,secondary,monthNames,monthNamesShort){var inMinYear,inMaxYear,month,years,thisYear,determineYear,year,endYear,changeMonth=this._get(inst,"changeMonth"),changeYear=this._get(inst,"changeYear"),showMonthAfterYear=this._get(inst,"showMonthAfterYear"),html="<div class='ui-datepicker-title'>",monthHtml="";if(secondary||!changeMonth){monthHtml+="<span class='ui-datepicker-month'>"+monthNames[drawMonth]+"</span>"}else{inMinYear=(minDate&&minDate.getFullYear()===drawYear);inMaxYear=(maxDate&&maxDate.getFullYear()===drawYear);monthHtml+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(month=0;month<12;month++){if((!inMinYear||month>=minDate.getMonth())&&(!inMaxYear||month<=maxDate.getMonth())){monthHtml+="<option value='"+month+"'"+(month===drawMonth?" selected='selected'":"")+">"+monthNamesShort[month]+"</option>"}}monthHtml+="</select>"}if(!showMonthAfterYear){html+=monthHtml+(secondary||!(changeMonth&&changeYear)?"&#xa0;":"")}if(!inst.yearshtml){inst.yearshtml="";if(secondary||!changeYear){html+="<span class='ui-datepicker-year'>"+drawYear+"</span>"}else{years=this._get(inst,"yearRange").split(":");thisYear=new Date().getFullYear();determineYear=function(value){var year=(value.match(/c[+\-].*/)?drawYear+parseInt(value.substring(1),10):(value.match(/[+\-].*/)?thisYear+parseInt(value,10):parseInt(value,10)));return(isNaN(year)?thisYear:year)};year=determineYear(years[0]);endYear=Math.max(year,determineYear(years[1]||""));year=(minDate?Math.max(year,minDate.getFullYear()):year);endYear=(maxDate?Math.min(endYear,maxDate.getFullYear()):endYear);inst.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";for(;year<=endYear;year++){inst.yearshtml+="<option value='"+year+"'"+(year===drawYear?" selected='selected'":"")+">"+year+"</option>"}inst.yearshtml+="</select>";html+=inst.yearshtml;inst.yearshtml=null}}html+=this._get(inst,"yearSuffix");if(showMonthAfterYear){html+=(secondary||!(changeMonth&&changeYear)?"&#xa0;":"")+monthHtml}html+="</div>";return html},_adjustInstDate:function(inst,offset,period){var year=inst.drawYear+(period==="Y"?offset:0),month=inst.drawMonth+(period==="M"?offset:0),day=Math.min(inst.selectedDay,this._getDaysInMonth(year,month))+(period==="D"?offset:0),date=this._restrictMinMax(inst,this._daylightSavingAdjust(new Date(year,month,day)));inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();if(period==="M"||period==="Y"){this._notifyChange(inst)}},_restrictMinMax:function(inst,date){var minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),newDate=(minDate&&date<minDate?minDate:date);return(maxDate&&newDate>maxDate?maxDate:newDate)},_notifyChange:function(inst){var onChange=this._get(inst,"onChangeMonthYear");if(onChange){onChange.apply((inst.input?inst.input[0]:null),[inst.selectedYear,inst.selectedMonth+1,inst])}},_getNumberOfMonths:function(inst){var numMonths=this._get(inst,"numberOfMonths");return(numMonths==null?[1,1]:(typeof numMonths==="number"?[1,numMonths]:numMonths))},_getMinMaxDate:function(inst,minMax){return this._determineDate(inst,this._get(inst,minMax+"Date"),null)},_getDaysInMonth:function(year,month){return 32-this._daylightSavingAdjust(new Date(year,month,32)).getDate()},_getFirstDayOfMonth:function(year,month){return new Date(year,month,1).getDay()},_canAdjustMonth:function(inst,offset,curYear,curMonth){var numMonths=this._getNumberOfMonths(inst),date=this._daylightSavingAdjust(new Date(curYear,curMonth+(offset<0?offset:numMonths[0]*numMonths[1]),1));if(offset<0){date.setDate(this._getDaysInMonth(date.getFullYear(),date.getMonth()))}return this._isInRange(inst,date)},_isInRange:function(inst,date){var yearSplit,currentYear,minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),minYear=null,maxYear=null,years=this._get(inst,"yearRange");if(years){yearSplit=years.split(":");currentYear=new Date().getFullYear();minYear=parseInt(yearSplit[0],10);maxYear=parseInt(yearSplit[1],10);if(yearSplit[0].match(/[+\-].*/)){minYear+=currentYear}if(yearSplit[1].match(/[+\-].*/)){maxYear+=currentYear}}return((!minDate||date.getTime()>=minDate.getTime())&&(!maxDate||date.getTime()<=maxDate.getTime())&&(!minYear||date.getFullYear()>=minYear)&&(!maxYear||date.getFullYear()<=maxYear))},_getFormatConfig:function(inst){var shortYearCutoff=this._get(inst,"shortYearCutoff");shortYearCutoff=(typeof shortYearCutoff!=="string"?shortYearCutoff:new Date().getFullYear()%100+parseInt(shortYearCutoff,10));return{shortYearCutoff:shortYearCutoff,dayNamesShort:this._get(inst,"dayNamesShort"),dayNames:this._get(inst,"dayNames"),monthNamesShort:this._get(inst,"monthNamesShort"),monthNames:this._get(inst,"monthNames")}},_formatDate:function(inst,day,month,year){if(!day){inst.currentDay=inst.selectedDay;inst.currentMonth=inst.selectedMonth;inst.currentYear=inst.selectedYear}var date=(day?(typeof day==="object"?day:this._daylightSavingAdjust(new Date(year,month,day))):this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return this.formatDate(this._get(inst,"dateFormat"),date,this._getFormatConfig(inst))}});function datepicker_bindHover(dpDiv){var selector="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return dpDiv.delegate(selector,"mouseout",function(){$(this).removeClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){$(this).removeClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!==-1){$(this).removeClass("ui-datepicker-next-hover")}}).delegate(selector,"mouseover",datepicker_handleMouseover)}function datepicker_handleMouseover(){if(!$.datepicker._isDisabledDatepicker(datepicker_instActive.inline?datepicker_instActive.dpDiv.parent()[0]:datepicker_instActive.input[0])){$(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");$(this).addClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){$(this).addClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!==-1){$(this).addClass("ui-datepicker-next-hover")}}}function datepicker_extendRemove(target,props){$.extend(target,props);for(var name in props){if(props[name]==null){target[name]=props[name]}}return target}$.fn.datepicker=function(options){if(!this.length){return this}if(!$.datepicker.initialized){$(document).mousedown($.datepicker._checkExternalClick);$.datepicker.initialized=true}if($("#"+$.datepicker._mainDivId).length===0){$("body").append($.datepicker.dpDiv)}var otherArgs=Array.prototype.slice.call(arguments,1);if(typeof options==="string"&&(options==="isDisabled"||options==="getDate"||options==="widget")){return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs))}if(options==="option"&&arguments.length===2&&typeof arguments[1]==="string"){return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs))}return this.each(function(){typeof options==="string"?$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this].concat(otherArgs)):$.datepicker._attachDatepicker(this,options)})};$.datepicker=new Datepicker();$.datepicker.initialized=false;$.datepicker.uuid=new Date().getTime();$.datepicker.version="1.11.4";var datepicker=$.datepicker;
/*
 * jQuery UI Dialog 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/dialog/
 */
var dialog=$.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:true,buttons:[],closeOnEscape:true,closeText:"Close",showCloseButton:true,showTitleBar:true,dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",of:window,collision:"fit",using:function(pos){var topOffset=$(this).css(pos).offset().top;if(topOffset<0){$(this).css("top",pos.top-topOffset)}}},resizable:true,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},resizableRelatedOptions:{maxHeight:true,maxWidth:true,minHeight:true,minWidth:true},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");this.options.title=this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();if(this.options.draggable&&$.fn.draggable){this._makeDraggable()}if(this.options.resizable&&$.fn.resizable){this._makeResizable()}this._isOpen=false;this._trackFocus()},_init:function(){if(this.options.autoOpen){this.open()}},_appendTo:function(){var element=this.options.appendTo;if(element&&(element.jquery||element.nodeType)){return $(element)}return this.document.find(element||"body").eq(0)},_destroy:function(){var next,originalPosition=this.originalPosition;this._untrackInstance();this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(true,true).remove();if(this.originalTitle){this.element.attr("title",this.originalTitle)}next=originalPosition.parent.children().eq(originalPosition.index);if(next.length&&next[0]!==this.element[0]){next.before(this.element)}else{originalPosition.parent.append(this.element)}},widget:function(){return this.uiDialog},disable:$.noop,enable:$.noop,close:function(event){var activeElement,that=this;if(!this._isOpen||this._trigger("beforeClose",event)===false){return }this._isOpen=false;this._focusedElement=null;this._destroyOverlay();this._untrackInstance();if(!this.opener.filter(":focusable").focus().length){try{activeElement=this.document[0].activeElement;if(activeElement&&activeElement.nodeName.toLowerCase()!=="body"){$(activeElement).blur()}}catch(error){}}this._hide(this.uiDialog,this.options.hide,function(){that._trigger("close",event)})},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(event,silent){var moved=false,zIndices=this.uiDialog.siblings(".ui-front:visible").map(function(){return +$(this).css("z-index")}).get(),zIndexMax=Math.max.apply(null,zIndices);if(zIndexMax>=+this.uiDialog.css("z-index")){this.uiDialog.css("z-index",zIndexMax+1);moved=true}if(moved&&!silent){this._trigger("focus",event)}return moved},open:function(){var that=this;if(this._isOpen){if(this._moveToTop()){this._focusTabbable()}return }this._isOpen=true;this.opener=$(this.document[0].activeElement);this._size();this._position();this._createOverlay();this._moveToTop(null,true);if(this.overlay){this.overlay.css("z-index",this.uiDialog.css("z-index")-1)}this._show(this.uiDialog,this.options.show,function(){that._focusTabbable();that._trigger("focus")});this._makeFocusTarget();this._trigger("open")},_focusTabbable:function(){var hasFocus=this._focusedElement;if(!hasFocus){hasFocus=this.element.find("[autofocus]")}if(!hasFocus.length){hasFocus=this.element.find(":tabbable")}if(!hasFocus.length){hasFocus=this.uiDialogButtonPane.find(":tabbable")}if(!hasFocus.length){hasFocus=this.uiDialogTitlebarClose.filter(":tabbable")}if(!hasFocus.length){hasFocus=this.uiDialog}hasFocus.eq(0).focus()},_keepFocus:function(event){function checkFocus(){var activeElement=this.document[0].activeElement,isActive=this.uiDialog[0]===activeElement||$.contains(this.uiDialog[0],activeElement);if(!isActive){this._focusTabbable()}}event.preventDefault();checkFocus.call(this);this._delay(checkFocus)},_createWrapper:function(){this.uiDialog=$("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(event){if(this.options.closeOnEscape&&!event.isDefaultPrevented()&&event.keyCode&&event.keyCode===$.ui.keyCode.ESCAPE){event.preventDefault();this.close(event);return }if(event.keyCode!==$.ui.keyCode.TAB||event.isDefaultPrevented()){return }var tabbables=this.uiDialog.find(":tabbable"),first=tabbables.filter(":first"),last=tabbables.filter(":last");if((event.target===last[0]||event.target===this.uiDialog[0])&&!event.shiftKey){this._delay(function(){first.focus()});event.preventDefault()}else{if((event.target===first[0]||event.target===this.uiDialog[0])&&event.shiftKey){this._delay(function(){last.focus()});event.preventDefault()}}},mousedown:function(event){if(this._moveToTop(event)){this._focusTabbable()}}});if(!this.element.find("[aria-describedby]").length){this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})}},_createTitlebar:function(){var uiDialogTitle;this.uiDialogTitlebar=$("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix"+(!this.options.showTitleBar?" ui-helper-hidden":" ui-helper-clearfix")).prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,{mousedown:function(event){if(!$(event.target).closest(".ui-dialog-titlebar-close")){this.uiDialog.focus()}}});this.uiDialogTitlebarClose=$("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:false}).addClass("ui-dialog-titlebar-close"+(!this.options.showCloseButton?" ui-helper-hidden":"")).appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(event){event.preventDefault();this.close(event)}});uiDialogTitle=$("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(uiDialogTitle);this.uiDialog.attr({"aria-labelledby":uiDialogTitle.attr("id")})},_title:function(title){if(!this.options.title){title.html("&#160;")}title.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=$("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiButtonSet=$("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons()},_createButtons:function(){var that=this,buttons=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();if($.isEmptyObject(buttons)||($.isArray(buttons)&&!buttons.length)){this.uiDialog.removeClass("ui-dialog-buttons");return }$.each(buttons,function(name,props){var click,buttonOptions;props=$.isFunction(props)?{click:props,text:name}:props;props=$.extend({type:"button"},props);click=props.click;props.click=function(){click.apply(that.element[0],arguments)};buttonOptions={icons:props.icons,text:props.showText};delete props.icons;delete props.showText;$("<button></button>",props).button(buttonOptions).appendTo(that.uiButtonSet)});this.uiDialog.addClass("ui-dialog-buttons");this.uiDialogButtonPane.appendTo(this.uiDialog)},_makeDraggable:function(){var that=this,options=this.options;function filteredUi(ui){return{position:ui.position,offset:ui.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(event,ui){$(this).addClass("ui-dialog-dragging");that._blockFrames();that._trigger("dragStart",event,filteredUi(ui))},drag:function(event,ui){that._trigger("drag",event,filteredUi(ui))},stop:function(event,ui){var left=ui.offset.left-that.document.scrollLeft(),top=ui.offset.top-that.document.scrollTop();options.position={my:"left top",at:"left"+(left>=0?"+":"")+left+" top"+(top>=0?"+":"")+top,of:that.window};$(this).removeClass("ui-dialog-dragging");that._unblockFrames();that._trigger("dragStop",event,filteredUi(ui))}})},_makeResizable:function(){var that=this,options=this.options,handles=options.resizable,position=this.uiDialog.css("position"),resizeHandles=typeof handles==="string"?handles:"n,e,s,w,se,sw,ne,nw";function filteredUi(ui){return{originalPosition:ui.originalPosition,originalSize:ui.originalSize,position:ui.position,size:ui.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:options.maxWidth,maxHeight:options.maxHeight,minWidth:options.minWidth,minHeight:this._minHeight(),handles:resizeHandles,start:function(event,ui){$(this).addClass("ui-dialog-resizing");that._blockFrames();that._trigger("resizeStart",event,filteredUi(ui))},resize:function(event,ui){that._trigger("resize",event,filteredUi(ui))},stop:function(event,ui){var offset=that.uiDialog.offset(),left=offset.left-that.document.scrollLeft(),top=offset.top-that.document.scrollTop();options.height=that.uiDialog.height();options.width=that.uiDialog.width();options.position={my:"left top",at:"left"+(left>=0?"+":"")+left+" top"+(top>=0?"+":"")+top,of:that.window};$(this).removeClass("ui-dialog-resizing");that._unblockFrames();that._trigger("resizeStop",event,filteredUi(ui))}}).css("position",position)},_trackFocus:function(){this._on(this.widget(),{focusin:function(event){this._makeFocusTarget();this._focusedElement=$(event.target)}})},_makeFocusTarget:function(){this._untrackInstance();this._trackingInstances().unshift(this)},_untrackInstance:function(){var instances=this._trackingInstances(),exists=$.inArray(this,instances);if(exists!==-1){instances.splice(exists,1)}},_trackingInstances:function(){var instances=this.document.data("ui-dialog-instances");if(!instances){instances=[];this.document.data("ui-dialog-instances",instances)}return instances},_minHeight:function(){var options=this.options;return options.height==="auto"?options.minHeight:Math.min(options.minHeight,options.height)},_position:function(){var isVisible=this.uiDialog.is(":visible");if(!isVisible){this.uiDialog.show()}this.uiDialog.position(this.options.position);if(!isVisible){this.uiDialog.hide()}},_setOptions:function(options){var that=this,resize=false,resizableOptions={};$.each(options,function(key,value){that._setOption(key,value);if(key in that.sizeRelatedOptions){resize=true}if(key in that.resizableRelatedOptions){resizableOptions[key]=value}});if(resize){this._size();this._position()}if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option",resizableOptions)}},_setOption:function(key,value){var isDraggable,isResizable,uiDialog=this.uiDialog;if(key==="dialogClass"){uiDialog.removeClass(this.options.dialogClass).addClass(value)}if(key==="disabled"){return }this._super(key,value);if(key==="appendTo"){this.uiDialog.appendTo(this._appendTo())}if(key==="buttons"){this._createButtons()}if(key==="closeText"){this.uiDialogTitlebarClose.button({label:""+value})}if(key==="showCloseButton"){this.uiDialogTitlebar.find(".ui-dialog-titlebar-close")[(value?"removeClass":"addClass")]("ui-helper-hidden")}if(key==="showTitleBar"){if(value){this.uiDialogTitlebar.removeClass("ui-helper-hidden").addClass("ui-helper-clearfix")}else{this.uiDialogTitlebar.addClass("ui-helper-hidden").removeClass("ui-helper-clearfix")}}if(key==="draggable"){isDraggable=uiDialog.is(":data(ui-draggable)");if(isDraggable&&!value){uiDialog.draggable("destroy")}if(!isDraggable&&value){this._makeDraggable()}}if(key==="position"){this._position()}if(key==="resizable"){isResizable=uiDialog.is(":data(ui-resizable)");if(isResizable&&!value){uiDialog.resizable("destroy")}if(isResizable&&typeof value==="string"){uiDialog.resizable("option","handles",value)}if(!isResizable&&value!==false){this._makeResizable()}}if(key==="title"){this._title(this.uiDialogTitlebar.find(".ui-dialog-title"))}},_size:function(){var nonContentHeight,minContentHeight,maxContentHeight,options=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});if(options.minWidth>options.width){options.width=options.minWidth}nonContentHeight=this.uiDialog.css({height:"auto",width:options.width}).outerHeight();minContentHeight=Math.max(0,options.minHeight-nonContentHeight);maxContentHeight=typeof options.maxHeight==="number"?Math.max(0,options.maxHeight-nonContentHeight):"none";if(options.height==="auto"){this.element.css({minHeight:minContentHeight,maxHeight:maxContentHeight,height:"auto"})}else{this.element.height(Math.max(0,options.height-nonContentHeight))}if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option","minHeight",this._minHeight())}},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var iframe=$(this);return $("<div>").css({position:"absolute",width:iframe.outerWidth(),height:iframe.outerHeight()}).appendTo(iframe.parent()).offset(iframe.offset())[0]})},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks}},_allowInteraction:function(event){if($(event.target).closest(".ui-dialog").length){return true}return !!$(event.target).closest(".ui-datepicker").length},_createOverlay:function(){if(!this.options.modal){return }var isOpening=true;this._delay(function(){isOpening=false});if(!this.document.data("ui-dialog-overlays")){this._on(this.document,{focusin:function(event){if(isOpening){return }if(!this._allowInteraction(event)){event.preventDefault();this._trackingInstances()[0]._focusTabbable()}}})}this.overlay=$("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());this._on(this.overlay,{mousedown:"_keepFocus"});this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)},_destroyOverlay:function(){if(!this.options.modal){return }if(this.overlay){var overlays=this.document.data("ui-dialog-overlays")-1;if(!overlays){this.document.unbind("focusin").removeData("ui-dialog-overlays")}else{this.document.data("ui-dialog-overlays",overlays)}this.overlay.remove();this.overlay=null}}});
/*
 * jQuery UI Slider 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/slider/
 */
var slider=$.widget("ui.slider",$.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",isRTL:false,doVertFlipOnRTL:false,range:false,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this._calculateNewMax();this.element.addClass("ui-slider ui-slider-"+this.orientation+(this.options.isRTL?" ui-slider-rtl":"")+" ui-widget ui-widget-content ui-corner-all");this._refresh();this._setOption("disabled",this.options.disabled);this._animateOff=false},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var i,handleCount,options=this.options,existingHandles=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),handle="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",handles=[];handleCount=(options.values&&options.values.length)||1;if(existingHandles.length>handleCount){existingHandles.slice(handleCount).remove();existingHandles=existingHandles.slice(0,handleCount)}for(i=existingHandles.length;i<handleCount;i++){handles.push(handle)}this.handles=existingHandles.add($(handles.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(i){$(this).data("ui-slider-handle-index",i)})},_createRange:function(){var options=this.options,classes="";if(options.range){if(options.range===true){if(!options.values){options.values=[this._valueMin(),this._valueMin()]}else{if(options.values.length&&options.values.length!==2){options.values=[options.values[0],options.values[0]]}else{if($.isArray(options.values)){options.values=options.values.slice(0)}}}}if(!this.range||!this.range.length){this.range=$("<div></div>").appendTo(this.element);classes="ui-slider-range ui-widget-header ui-corner-all"}else{this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""})}this.range.addClass(classes+((options.range==="min"||options.range==="max")?" ui-slider-range-"+options.range:""))}else{if(this.range){this.range.remove()}this.range=null}},_setupEvents:function(){this._off(this.handles);this._on(this.handles,this._handleEvents);this._hoverable(this.handles);this._focusable(this.handles)},_destroy:function(){this.handles.remove();if(this.range){this.range.remove()}this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");this._mouseDestroy()},_mouseCapture:function(event){var position,normValue,distance,closestHandle,index,allowed,offset,mouseOverHandle,that=this,o=this.options;if(o.disabled){return false}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();position={x:event.pageX,y:event.pageY};normValue=this._normValueFromMouse(position);distance=this._valueMax()-this._valueMin()+1;this.handles.each(function(i){var thisDistance=Math.abs(normValue-that.values(i));if((distance>thisDistance)||(distance===thisDistance&&(i===that._lastChangedValue||that.values(i)===o.min))){distance=thisDistance;closestHandle=$(this);index=i}});allowed=this._start(event,index);if(allowed===false){return false}this._mouseSliding=true;this._handleIndex=index;closestHandle.addClass("ui-state-active").focus();offset=closestHandle.offset();mouseOverHandle=!$(event.target).parents().addBack().is(".ui-slider-handle");this._clickOffset=mouseOverHandle?{left:0,top:0}:{left:event.pageX-offset.left-(closestHandle.width()/2),top:event.pageY-offset.top-(closestHandle.height()/2)-(parseInt(closestHandle.css("borderTopWidth"),10)||0)-(parseInt(closestHandle.css("borderBottomWidth"),10)||0)+(parseInt(closestHandle.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover")){this._slide(event,index,normValue)}this._animateOff=true;return true},_mouseStart:function(){return true},_mouseDrag:function(event){var position={x:event.pageX,y:event.pageY},normValue=this._normValueFromMouse(position);this._slide(event,this._handleIndex,normValue);return false},_mouseStop:function(event){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(event,this._handleIndex);this._change(event,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false},_detectOrientation:function(){this.orientation=(this.options.orientation==="vertical")?"vertical":"horizontal"},_normValueFromMouse:function(position){var pixelTotal,pixelMouse,percentMouse,valueTotal,valueMouse;if(this.orientation==="horizontal"){pixelTotal=this.elementSize.width;pixelMouse=position.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{pixelTotal=this.elementSize.height;pixelMouse=position.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}percentMouse=(pixelMouse/pixelTotal);if(percentMouse>1){percentMouse=1}if(percentMouse<0){percentMouse=0}if(this.orientation==="vertical"){percentMouse=1-percentMouse}if(this.options.isRTL&&(this.orientation==="horizontal"||this.options.doVertFlipOnRTL)){percentMouse=1-percentMouse}valueTotal=this._valueMax()-this._valueMin();valueMouse=this._valueMin()+percentMouse*valueTotal;return this._trimAlignValue(valueMouse)},_start:function(event,index){var uiHash={handle:this.handles[index],value:this.value()};if(this.options.values&&this.options.values.length){uiHash.value=this.values(index);uiHash.values=this.values()}return this._trigger("start",event,uiHash)},_slide:function(event,index,newVal){var otherVal,newValues,allowed;if(this.options.values&&this.options.values.length){otherVal=this.values(index?0:1);if((this.options.values.length===2&&this.options.range===true)&&((index===0&&newVal>otherVal)||(index===1&&newVal<otherVal))){newVal=otherVal}if(newVal!==this.values(index)){newValues=this.values();newValues[index]=newVal;allowed=this._trigger("slide",event,{handle:this.handles[index],value:newVal,values:newValues});otherVal=this.values(index?0:1);if(allowed!==false){this.values(index,newVal)}}}else{if(newVal!==this.value()){allowed=this._trigger("slide",event,{handle:this.handles[index],value:newVal});if(allowed!==false){this.value(newVal)}}}},_stop:function(event,index){var uiHash={handle:this.handles[index],value:this.value()};if(this.options.values&&this.options.values.length){uiHash.value=this.values(index);uiHash.values=this.values()}this._trigger("stop",event,uiHash)},_change:function(event,index){if(!this._keySliding&&!this._mouseSliding){var uiHash={handle:this.handles[index],value:this.value()};if(this.options.values&&this.options.values.length){uiHash.value=this.values(index);uiHash.values=this.values()}this._lastChangedValue=index;this._trigger("change",event,uiHash)}},value:function(newValue){if(arguments.length){this.options.value=this._trimAlignValue(newValue);this._refreshValue();this._change(null,0);return }return this._value()},values:function(index,newValue){var vals,newValues,i;if(arguments.length>1){this.options.values[index]=this._trimAlignValue(newValue);this._refreshValue();this._change(null,index);return }if(arguments.length){if($.isArray(arguments[0])){vals=this.options.values;newValues=arguments[0];for(i=0;i<vals.length;i+=1){vals[i]=this._trimAlignValue(newValues[i]);this._change(null,i)}this._refreshValue()}else{if(this.options.values&&this.options.values.length){return this._values(index)}else{return this.value()}}}else{return this._values()}},_setOption:function(key,value){var i,valsLength=0;if(key==="range"&&this.options.range===true){if(value==="min"){this.options.value=this._values(0);this.options.values=null}else{if(value==="max"){this.options.value=this._values(this.options.values.length-1);this.options.values=null}}}if($.isArray(this.options.values)){valsLength=this.options.values.length}if(key==="disabled"){this.element.toggleClass("ui-state-disabled",!!value)}this._super(key,value);switch(key){case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();this.handles.css(value==="horizontal"?"bottom":"left","");break;case"isRTL":this.element.toggleClass("ui-slider-rtl",value);this._refreshValue();break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(i=0;i<valsLength;i+=1){this._change(null,i)}this._animateOff=false;break;case"step":case"min":case"max":this._animateOff=true;this._calculateNewMax();this._refreshValue();this._animateOff=false;break;case"range":this._animateOff=true;this._refresh();this._animateOff=false;break}},_value:function(){var val=this.options.value;val=this._trimAlignValue(val);return val},_values:function(index){var val,vals,i;if(arguments.length){val=this.options.values[index];val=this._trimAlignValue(val);return val}else{if(this.options.values&&this.options.values.length){vals=this.options.values.slice();for(i=0;i<vals.length;i+=1){vals[i]=this._trimAlignValue(vals[i])}return vals}else{return[]}}},_trimAlignValue:function(val){if(val<=this._valueMin()){return this._valueMin()}if(val>=this._valueMax()){return this._valueMax()}var step=(this.options.step>0)?this.options.step:1,valModStep=(val-this._valueMin())%step,alignValue=val-valModStep;if(Math.abs(valModStep)*2>=step){alignValue+=(valModStep>0)?step:(-step)}return parseFloat(alignValue.toFixed(5))},_calculateNewMax:function(){var max=this.options.max,min=this._valueMin(),step=this.options.step,aboveMin=Math.floor((+(max-min).toFixed(this._precision()))/step)*step;max=aboveMin+min;this.max=parseFloat(max.toFixed(this._precision()))},_precision:function(){var precision=this._precisionOf(this.options.step);if(this.options.min!==null){precision=Math.max(precision,this._precisionOf(this.options.min))}return precision},_precisionOf:function(num){var str=num.toString(),decimal=str.indexOf(".");return decimal===-1?0:str.length-decimal-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var lastValPercent,valPercent,value,valueMin,valueMax,oRange=this.options.range,o=this.options,that=this,animate=(!this._animateOff)?o.animate:false,doVertFlip=(this.orientation==="vertical"&&this.options.isRTL&&this.options.doVertFlipOnRTL),_set={};if(this.options.values&&this.options.values.length){this.handles.each(function(i){valPercent=(that.values(i)-that._valueMin())/(that._valueMax()-that._valueMin())*100;if(that.options.isRTL&&that.orientation==="horizontal"||doVertFlip){valPercent=100-valPercent}_set[that.orientation==="horizontal"?"left":"bottom"]=valPercent+"%";$(this).stop(1,1)[animate?"animate":"css"](_set,o.animate);if(that.options.range===true){if(that.orientation==="horizontal"){if(i===0){that.range.stop(1,1)[animate?"animate":"css"](that.options.isRTL?{right:(100-valPercent)+"%"}:{left:valPercent+"%"},o.animate)}if(i===1){that.range[animate?"animate":"css"]({width:((that.options.isRTL?-1:+1)*(valPercent-lastValPercent))+"%"},{queue:false,duration:o.animate})}}else{if(i===0){that.range.stop(1,1)[animate?"animate":"css"](doVertFlip?{top:(100-valPercent)+"%"}:{bottom:(valPercent)+"%"},o.animate)}if(i===1){that.range[animate?"animate":"css"]({height:((doVertFlip?-1:+1)*(valPercent-lastValPercent))+"%"},{queue:false,duration:o.animate})}}}lastValPercent=valPercent})}else{value=this.value();valueMin=this._valueMin();valueMax=this._valueMax();valPercent=(valueMax!==valueMin)?(value-valueMin)/(valueMax-valueMin)*100:0;if(that.options.isRTL&&that.orientation==="horizontal"||doVertFlip){valPercent=100-valPercent}_set[this.orientation==="horizontal"?"left":"bottom"]=valPercent+"%";this.handle.stop(1,1)[animate?"animate":"css"](_set,o.animate);if(oRange==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[animate?"animate":"css"]({width:(that.options.isRTL?100-valPercent:valPercent)+"%"},o.animate)}if(oRange==="max"&&this.orientation==="horizontal"){this.range[animate?"animate":"css"]({width:(that.options.isRTL?valPercent:100-valPercent)+"%"},{queue:false,duration:o.animate})}if(oRange==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[animate?"animate":"css"]({height:(doVertFlip?100-valPercent:valPercent)+"%"},o.animate)}if(oRange==="max"&&this.orientation==="vertical"){this.range[animate?"animate":"css"]({height:(doVertFlip?valPercent:100-valPercent)+"%"},{queue:false,duration:o.animate})}}},_handleEvents:{keydown:function(event){var allowed,curVal,newVal,step,index=$(event.target).data("ui-slider-handle-index");switch(event.keyCode){case $.ui.keyCode.HOME:case $.ui.keyCode.END:case $.ui.keyCode.PAGE_UP:case $.ui.keyCode.PAGE_DOWN:case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:event.preventDefault();if(!this._keySliding){this._keySliding=true;$(event.target).addClass("ui-state-active");allowed=this._start(event,index);if(allowed===false){return }}break}step=this.options.step;if(this.options.values&&this.options.values.length){curVal=newVal=this.values(index)}else{curVal=newVal=this.value()}var adjust=(function(that){return function(minMax,offset){if(curVal===minMax){return }newVal=that._trimAlignValue(curVal+offset)}})(this);switch(event.keyCode){case $.ui.keyCode.HOME:newVal=this._valueMin();break;case $.ui.keyCode.END:newVal=this._valueMax();break;case $.ui.keyCode.PAGE_UP:newVal=this._trimAlignValue(curVal+((this._valueMax()-this._valueMin())/this.numPages));break;case $.ui.keyCode.PAGE_DOWN:newVal=this._trimAlignValue(curVal-((this._valueMax()-this._valueMin())/this.numPages));break;case $.ui.keyCode.UP:adjust(this._valueMax(),step);break;case $.ui.keyCode.RIGHT:if(this.options.isRTL){adjust(this._valueMin(),-step)}else{adjust(this._valueMax(),step)}break;case $.ui.keyCode.DOWN:adjust(this._valueMin(),-step);break;case $.ui.keyCode.LEFT:if(this.options.isRTL){adjust(this._valueMax(),step)}else{adjust(this._valueMin(),-step)}break}this._slide(event,index,newVal)},keyup:function(event){var index=$(event.target).data("ui-slider-handle-index");if(this._keySliding){this._keySliding=false;this._stop(event,index);this._change(event,index);$(event.target).removeClass("ui-state-active")}}}});
/*
 * jQuery UI Tabs 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/tabs/
 */
var tabs=$.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:false,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(function(){var rhash=/#.*$/;return function(anchor){var anchorUrl,locationUrl;anchor=anchor.cloneNode(false);anchorUrl=anchor.href.replace(rhash,"");locationUrl=location.href.replace(rhash,"");try{anchorUrl=decodeURIComponent(anchorUrl)}catch(error){}try{locationUrl=decodeURIComponent(locationUrl)}catch(error){}return anchor.hash.length>1&&anchorUrl===locationUrl}})(),_create:function(){var that=this,options=this.options;this.running=false;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",options.collapsible);this._processTabs();options.active=this._initialActive();if($.isArray(options.disabled)){options.disabled=$.unique(options.disabled.concat($.map(this.tabs.filter(".ui-state-disabled"),function(li){return that.tabs.index(li)}))).sort()}if(this.options.active!==false&&this.anchors.length){this.active=this._findActive(options.active)}else{this.active=$()}this._refresh();if(this.active.length){this.load(options.active)}},_initialActive:function(){var active=this.options.active,collapsible=this.options.collapsible,locationHash=location.hash.substring(1);if(active===null){if(locationHash){this.tabs.each(function(i,tab){if($(tab).attr("aria-controls")===locationHash){active=i;return false}})}if(active===null){active=this.tabs.index(this.tabs.filter(".ui-tabs-active"))}if(active===null||active===-1){active=this.tabs.length?0:false}}if(active!==false){active=this.tabs.index(this.tabs.eq(active));if(active===-1){active=collapsible?false:0}}if(!collapsible&&active===false&&this.anchors.length){active=0}return active},_getCreateEventData:function(){return{tab:this.active,panel:!this.active.length?$():this._getPanelForTab(this.active)}},_tabKeydown:function(event){var focusedTab=$(this.document[0].activeElement).closest("li"),selectedIndex=this.tabs.index(focusedTab),goingForward=true;if(this._handlePageNav(event)){return }switch(event.keyCode){case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:selectedIndex++;break;case $.ui.keyCode.UP:case $.ui.keyCode.LEFT:goingForward=false;selectedIndex--;break;case $.ui.keyCode.END:selectedIndex=this.anchors.length-1;break;case $.ui.keyCode.HOME:selectedIndex=0;break;case $.ui.keyCode.SPACE:event.preventDefault();clearTimeout(this.activating);this._activate(selectedIndex);return ;case $.ui.keyCode.ENTER:event.preventDefault();clearTimeout(this.activating);this._activate(selectedIndex===this.options.active?false:selectedIndex);return ;default:return }event.preventDefault();clearTimeout(this.activating);selectedIndex=this._focusNextTab(selectedIndex,goingForward);if(!event.ctrlKey&&!event.metaKey){focusedTab.attr("aria-selected","false");this.tabs.eq(selectedIndex).attr("aria-selected","true");this.activating=this._delay(function(){this.option("active",selectedIndex)},this.delay)}},_panelKeydown:function(event){if(this._handlePageNav(event)){return }if(event.ctrlKey&&event.keyCode===$.ui.keyCode.UP){event.preventDefault();this.active.focus()}},_handlePageNav:function(event){if(event.altKey&&event.keyCode===$.ui.keyCode.PAGE_UP){this._activate(this._focusNextTab(this.options.active-1,false));return true}if(event.altKey&&event.keyCode===$.ui.keyCode.PAGE_DOWN){this._activate(this._focusNextTab(this.options.active+1,true));return true}},_findNextTab:function(index,goingForward){var lastTabIndex=this.tabs.length-1;function constrain(){if(index>lastTabIndex){index=0}if(index<0){index=lastTabIndex}return index}while($.inArray(constrain(),this.options.disabled)!==-1){index=goingForward?index+1:index-1}return index},_focusNextTab:function(index,goingForward){index=this._findNextTab(index,goingForward);this.tabs.eq(index).focus();return index},_setOption:function(key,value){if(key==="active"){this._activate(value);return }if(key==="disabled"){this._setupDisabled(value);return }this._super(key,value);if(key==="collapsible"){this.element.toggleClass("ui-tabs-collapsible",value);if(!value&&this.options.active===false){this._activate(0)}}if(key==="event"){this._setupEvents(value)}if(key==="heightStyle"){this._setupHeightStyle(value)}},_sanitizeSelector:function(hash){return hash?hash.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var options=this.options,lis=this.tablist.children(":has(a[href])");options.disabled=$.map(lis.filter(".ui-state-disabled"),function(tab){return lis.index(tab)});this._processTabs();if(options.active===false||!this.anchors.length){options.active=false;this.active=$()}else{if(this.active.length&&!$.contains(this.tablist[0],this.active[0])){if(this.tabs.length===options.disabled.length){options.active=false;this.active=$()}else{this._activate(this._findNextTab(Math.max(0,options.active-1),false))}}else{options.active=this.tabs.index(this.active)}}this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"});if(!this.active.length){this.tabs.eq(0).attr("tabIndex",0)}else{this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0});this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})}},_processTabs:function(){var that=this,prevTabs=this.tabs,prevAnchors=this.anchors,prevPanels=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(event){if($(this).is(".ui-state-disabled")){event.preventDefault()}}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){if($(this).closest("li").is(".ui-state-disabled")){this.blur()}});this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return $("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=$();this.anchors.each(function(i,anchor){var selector,panel,panelId,anchorId=$(anchor).uniqueId().attr("id"),tab=$(anchor).closest("li"),originalAriaControls=tab.attr("aria-controls");if(that._isLocal(anchor)){selector=anchor.hash;panelId=selector.substring(1);panel=that.element.find(that._sanitizeSelector(selector))}else{panelId=tab.attr("aria-controls")||$({}).uniqueId()[0].id;selector="#"+panelId;panel=that.element.find(selector);if(!panel.length){panel=that._createPanel(panelId);panel.insertAfter(that.panels[i-1]||that.tablist)}panel.attr("aria-live","polite")}if(panel.length){that.panels=that.panels.add(panel)}if(originalAriaControls){tab.data("ui-tabs-aria-controls",originalAriaControls)}tab.attr({"aria-controls":panelId,"aria-labelledby":anchorId});panel.attr("aria-labelledby",anchorId)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel");if(prevTabs){this._off(prevTabs.not(this.tabs));this._off(prevAnchors.not(this.anchors));this._off(prevPanels.not(this.panels))}},_getList:function(){return this.tablist||this.element.find("ol:not(.ui-tabs-skip),ul:not(.ui-tabs-skip)").eq(0)},_createPanel:function(id){return $("<div>").attr("id",id).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",true)},_setupDisabled:function(disabled){if($.isArray(disabled)){if(!disabled.length){disabled=false}else{if(disabled.length===this.anchors.length){disabled=true}}}for(var i=0,li;(li=this.tabs[i]);i++){if(disabled===true||$.inArray(i,disabled)!==-1){$(li).addClass("ui-state-disabled").attr("aria-disabled","true")}else{$(li).removeClass("ui-state-disabled").removeAttr("aria-disabled")}}this.options.disabled=disabled},_setupEvents:function(event){var events={};if(event){$.each(event.split(" "),function(index,eventName){events[eventName]="_eventHandler"})}this._off(this.anchors.add(this.tabs).add(this.panels));this._on(true,this.anchors,{click:function(event){event.preventDefault()}});this._on(this.anchors,events);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(heightStyle){var maxHeight,parent=this.element.parent();if(heightStyle==="fill"){maxHeight=parent.height();maxHeight-=this.element.outerHeight()-this.element.height();this.element.siblings(":visible").each(function(){var elem=$(this),position=elem.css("position");if(position==="absolute"||position==="fixed"){return }maxHeight-=elem.outerHeight(true)});this.element.children().not(this.panels).each(function(){maxHeight-=$(this).outerHeight(true)});this.panels.each(function(){$(this).height(Math.max(0,maxHeight-$(this).innerHeight()+$(this).height()))}).css("overflow","auto")}else{if(heightStyle==="auto"){maxHeight=0;this.panels.each(function(){maxHeight=Math.max(maxHeight,$(this).height("").height())}).height(maxHeight)}}},_eventHandler:function(event){var options=this.options,active=this.active,anchor=$(event.currentTarget),tab=anchor.closest("li"),clickedIsActive=tab[0]===active[0],collapsing=clickedIsActive&&options.collapsible,toShow=collapsing?$():this._getPanelForTab(tab),toHide=!active.length?$():this._getPanelForTab(active),eventData={oldTab:active,oldPanel:toHide,newTab:collapsing?$():tab,newPanel:toShow};event.preventDefault();if(tab.hasClass("ui-state-disabled")||tab.hasClass("ui-tabs-loading")||this.running||(clickedIsActive&&!options.collapsible)||(this._trigger("beforeActivate",event,eventData)===false)){return }options.active=collapsing?false:this.tabs.index(tab);this.active=clickedIsActive?$():tab;if(this.xhr){this.xhr.abort()}if(!toHide.length&&!toShow.length){$.error("jQuery UI Tabs: Mismatching fragment identifier.")}if(toShow.length){this.load(this.tabs.index(tab),event)}this._toggle(event,eventData)},_toggle:function(event,eventData){var that=this,toShow=eventData.newPanel,toHide=eventData.oldPanel;this.running=true;function complete(){that.running=false;that._trigger("activate",event,eventData)}function show(){eventData.newTab.closest("li").addClass("ui-tabs-active ui-state-active");if(toShow.length&&that.options.show){that._show(toShow,that.options.show,complete)}else{toShow.show();complete()}}if(toHide.length&&this.options.hide){this._hide(toHide,this.options.hide,function(){eventData.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");show()})}else{eventData.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");toHide.hide();show()}toHide.attr("aria-hidden","true");eventData.oldTab.attr({"aria-selected":"false","aria-expanded":"false"});if(toShow.length&&toHide.length){eventData.oldTab.attr("tabIndex",-1)}else{if(toShow.length){this.tabs.filter(function(){return $(this).attr("tabIndex")===0}).attr("tabIndex",-1)}}toShow.attr("aria-hidden","false");eventData.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(index){var anchor,active=this._findActive(index);if(active[0]===this.active[0]){return }if(!active.length){active=this.active}anchor=active.find(".ui-tabs-anchor")[0];this._eventHandler({target:anchor,currentTarget:anchor,preventDefault:$.noop})},_findActive:function(index){return index===false?$():this.tabs.eq(index)},_getIndex:function(index){if(typeof index==="string"){index=this.anchors.index(this.anchors.filter("[href$='"+index+"']"))}return index},_destroy:function(){if(this.xhr){this.xhr.abort()}this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();this.tablist.unbind(this.eventNamespace);this.tabs.add(this.panels).each(function(){if($.data(this,"ui-tabs-destroy")){$(this).remove()}else{$(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}});this.tabs.each(function(){var li=$(this),prev=li.data("ui-tabs-aria-controls");if(prev){li.attr("aria-controls",prev).removeData("ui-tabs-aria-controls")}else{li.removeAttr("aria-controls")}});this.panels.show();if(this.options.heightStyle!=="content"){this.panels.css("height","")}},enable:function(index){var disabled=this.options.disabled;if(disabled===false){return }if(index===undefined){disabled=false}else{index=this._getIndex(index);if($.isArray(disabled)){disabled=$.map(disabled,function(num){return num!==index?num:null})}else{disabled=$.map(this.tabs,function(li,num){return num!==index?num:null})}}this._setupDisabled(disabled)},disable:function(index){var disabled=this.options.disabled;if(disabled===true){return }if(index===undefined){disabled=true}else{index=this._getIndex(index);if($.inArray(index,disabled)!==-1){return }if($.isArray(disabled)){disabled=$.merge([index],disabled).sort()}else{disabled=[index]}}this._setupDisabled(disabled)},load:function(index,event){index=this._getIndex(index);var that=this,tab=this.tabs.eq(index),anchor=tab.find(".ui-tabs-anchor"),panel=this._getPanelForTab(tab),eventData={tab:tab,panel:panel},complete=function(jqXHR,status){if(status==="abort"){that.panels.stop(false,true)}tab.removeClass("ui-tabs-loading");panel.removeAttr("aria-busy");if(jqXHR===that.xhr){delete that.xhr}};if(this._isLocal(anchor[0])){return }this.xhr=$.ajax(this._ajaxSettings(anchor,event,eventData));if(this.xhr&&this.xhr.statusText!=="canceled"){tab.addClass("ui-tabs-loading");panel.attr("aria-busy","true");this.xhr.done(function(response,status,jqXHR){setTimeout(function(){panel.html(response);that._trigger("load",event,eventData);complete(jqXHR,status)},1)}).fail(function(jqXHR,status){setTimeout(function(){complete(jqXHR,status)},1)})}},_ajaxSettings:function(anchor,event,eventData){var that=this;return{url:anchor.attr("href"),beforeSend:function(jqXHR,settings){return that._trigger("beforeLoad",event,$.extend({jqXHR:jqXHR,ajaxSettings:settings},eventData))}}},_getPanelForTab:function(tab){var id=$(tab).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+id))}});
/*
 * jQuery UI Effects 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/effects-core/
 */
var dataSpace="ui-effects-",jQuery=$;$.effects={effect:{}};
/*
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
(function(jQuery,undefined){var stepHooks="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",rplusequals=/^([\-+])=\s*(\d+\.?\d*)/,stringParsers=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[execResult[1],execResult[2],execResult[3],execResult[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[execResult[1]*2.55,execResult[2]*2.55,execResult[3]*2.55,execResult[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(execResult){return[parseInt(execResult[1],16),parseInt(execResult[2],16),parseInt(execResult[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(execResult){return[parseInt(execResult[1]+execResult[1],16),parseInt(execResult[2]+execResult[2],16),parseInt(execResult[3]+execResult[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(execResult){return[execResult[1],execResult[2]/100,execResult[3]/100,execResult[4]]}}],color=jQuery.Color=function(color,green,blue,alpha){return new jQuery.Color.fn.parse(color,green,blue,alpha)},spaces={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},propTypes={"byte":{floor:true,max:255},percent:{max:1},degrees:{mod:360,floor:true}},support=color.support={},supportElem=jQuery("<p>")[0],colors,each=jQuery.each;supportElem.style.cssText="background-color:rgba(1,1,1,.5)";support.rgba=supportElem.style.backgroundColor.indexOf("rgba")>-1;each(spaces,function(spaceName,space){space.cache="_"+spaceName;space.props.alpha={idx:3,type:"percent",def:1}});function clamp(value,prop,allowEmpty){var type=propTypes[prop.type]||{};if(value==null){return(allowEmpty||!prop.def)?null:prop.def}value=type.floor?~~value:parseFloat(value);if(isNaN(value)){return prop.def}if(type.mod){return(value+type.mod)%type.mod}return 0>value?0:type.max<value?type.max:value}function stringParse(string){var inst=color(),rgba=inst._rgba=[];string=string.toLowerCase();each(stringParsers,function(i,parser){var parsed,match=parser.re.exec(string),values=match&&parser.parse(match),spaceName=parser.space||"rgba";if(values){parsed=inst[spaceName](values);inst[spaces[spaceName].cache]=parsed[spaces[spaceName].cache];rgba=inst._rgba=parsed._rgba;return false}});if(rgba.length){if(rgba.join()==="0,0,0,0"){jQuery.extend(rgba,colors.transparent)}return inst}return colors[string]}color.fn=jQuery.extend(color.prototype,{parse:function(red,green,blue,alpha){if(red===undefined){this._rgba=[null,null,null,null];return this}if(red.jquery||red.nodeType){red=jQuery(red).css(green);green=undefined}var inst=this,type=jQuery.type(red),rgba=this._rgba=[];if(green!==undefined){red=[red,green,blue,alpha];type="array"}if(type==="string"){return this.parse(stringParse(red)||colors._default)}if(type==="array"){each(spaces.rgba.props,function(key,prop){rgba[prop.idx]=clamp(red[prop.idx],prop)});return this}if(type==="object"){if(red instanceof color){each(spaces,function(spaceName,space){if(red[space.cache]){inst[space.cache]=red[space.cache].slice()}})}else{each(spaces,function(spaceName,space){var cache=space.cache;each(space.props,function(key,prop){if(!inst[cache]&&space.to){if(key==="alpha"||red[key]==null){return }inst[cache]=space.to(inst._rgba)}inst[cache][prop.idx]=clamp(red[key],prop,true)});if(inst[cache]&&jQuery.inArray(null,inst[cache].slice(0,3))<0){inst[cache][3]=1;if(space.from){inst._rgba=space.from(inst[cache])}}})}return this}},is:function(compare){var is=color(compare),same=true,inst=this;each(spaces,function(_,space){var localCache,isCache=is[space.cache];if(isCache){localCache=inst[space.cache]||space.to&&space.to(inst._rgba)||[];each(space.props,function(_,prop){if(isCache[prop.idx]!=null){same=(isCache[prop.idx]===localCache[prop.idx]);return same}})}return same});return same},_space:function(){var used=[],inst=this;each(spaces,function(spaceName,space){if(inst[space.cache]){used.push(spaceName)}});return used.pop()},transition:function(other,distance){var end=color(other),spaceName=end._space(),space=spaces[spaceName],startColor=this.alpha()===0?color("transparent"):this,start=startColor[space.cache]||space.to(startColor._rgba),result=start.slice();end=end[space.cache];each(space.props,function(key,prop){var index=prop.idx,startValue=start[index],endValue=end[index],type=propTypes[prop.type]||{};if(endValue===null){return }if(startValue===null){result[index]=endValue}else{if(type.mod){if(endValue-startValue>type.mod/2){startValue+=type.mod}else{if(startValue-endValue>type.mod/2){startValue-=type.mod}}}result[index]=clamp((endValue-startValue)*distance+startValue,prop)}});return this[spaceName](result)},blend:function(opaque){if(this._rgba[3]===1){return this}var rgb=this._rgba.slice(),a=rgb.pop(),blend=color(opaque)._rgba;return color(jQuery.map(rgb,function(v,i){return(1-a)*blend[i]+a*v}))},toRgbaString:function(){var prefix="rgba(",rgba=jQuery.map(this._rgba,function(v,i){return v==null?(i>2?1:0):v});if(rgba[3]===1){rgba.pop();prefix="rgb("}return prefix+rgba.join()+")"},toHslaString:function(){var prefix="hsla(",hsla=jQuery.map(this.hsla(),function(v,i){if(v==null){v=i>2?1:0}if(i&&i<3){v=Math.round(v*100)+"%"}return v});if(hsla[3]===1){hsla.pop();prefix="hsl("}return prefix+hsla.join()+")"},toHexString:function(includeAlpha){var rgba=this._rgba.slice(),alpha=rgba.pop();if(includeAlpha){rgba.push(~~(alpha*255))}return"#"+jQuery.map(rgba,function(v){v=(v||0).toString(16);return v.length===1?"0"+v:v}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}});color.fn.parse.prototype=color.fn;function hue2rgb(p,q,h){h=(h+1)%1;if(h*6<1){return p+(q-p)*h*6}if(h*2<1){return q}if(h*3<2){return p+(q-p)*((2/3)-h)*6}return p}spaces.hsla.to=function(rgba){if(rgba[0]==null||rgba[1]==null||rgba[2]==null){return[null,null,null,rgba[3]]}var r=rgba[0]/255,g=rgba[1]/255,b=rgba[2]/255,a=rgba[3],max=Math.max(r,g,b),min=Math.min(r,g,b),diff=max-min,add=max+min,l=add*0.5,h,s;if(min===max){h=0}else{if(r===max){h=(60*(g-b)/diff)+360}else{if(g===max){h=(60*(b-r)/diff)+120}else{h=(60*(r-g)/diff)+240}}}if(diff===0){s=0}else{if(l<=0.5){s=diff/add}else{s=diff/(2-add)}}return[Math.round(h)%360,s,l,a==null?1:a]};spaces.hsla.from=function(hsla){if(hsla[0]==null||hsla[1]==null||hsla[2]==null){return[null,null,null,hsla[3]]}var h=hsla[0]/360,s=hsla[1],l=hsla[2],a=hsla[3],q=l<=0.5?l*(1+s):l+s-l*s,p=2*l-q;return[Math.round(hue2rgb(p,q,h+(1/3))*255),Math.round(hue2rgb(p,q,h)*255),Math.round(hue2rgb(p,q,h-(1/3))*255),a]};each(spaces,function(spaceName,space){var props=space.props,cache=space.cache,to=space.to,from=space.from;color.fn[spaceName]=function(value){if(to&&!this[cache]){this[cache]=to(this._rgba)}if(value===undefined){return this[cache].slice()}var ret,type=jQuery.type(value),arr=(type==="array"||type==="object")?value:arguments,local=this[cache].slice();each(props,function(key,prop){var val=arr[type==="object"?key:prop.idx];if(val==null){val=local[prop.idx]}local[prop.idx]=clamp(val,prop)});if(from){ret=color(from(local));ret[cache]=local;return ret}else{return color(local)}};each(props,function(key,prop){if(color.fn[key]){return }color.fn[key]=function(value){var vtype=jQuery.type(value),fn=(key==="alpha"?(this._hsla?"hsla":"rgba"):spaceName),local=this[fn](),cur=local[prop.idx],match;if(vtype==="undefined"){return cur}if(vtype==="function"){value=value.call(this,cur);vtype=jQuery.type(value)}if(value==null&&prop.empty){return this}if(vtype==="string"){match=rplusequals.exec(value);if(match){value=cur+parseFloat(match[2])*(match[1]==="+"?1:-1)}}local[prop.idx]=value;return this[fn](local)}})});color.hook=function(hook){var hooks=hook.split(" ");each(hooks,function(i,hook){jQuery.cssHooks[hook]={set:function(elem,value){var parsed,curElem,backgroundColor="";if(value!=="transparent"&&(jQuery.type(value)!=="string"||(parsed=stringParse(value)))){value=color(parsed||value);if(!support.rgba&&value._rgba[3]!==1){curElem=hook==="backgroundColor"?elem.parentNode:elem;while((backgroundColor===""||backgroundColor==="transparent")&&curElem&&curElem.style){try{backgroundColor=jQuery.css(curElem,"backgroundColor");curElem=curElem.parentNode}catch(e){}}value=value.blend(backgroundColor&&backgroundColor!=="transparent"?backgroundColor:"_default")}value=value.toRgbaString()}try{elem.style[hook]=value}catch(e){}}};jQuery.fx.step[hook]=function(fx){if(!fx.colorInit){fx.start=color(fx.elem,hook);fx.end=color(fx.end);fx.colorInit=true}jQuery.cssHooks[hook].set(fx.elem,fx.start.transition(fx.end,fx.pos))}})};color.hook(stepHooks);jQuery.cssHooks.borderColor={expand:function(value){var expanded={};each(["Top","Right","Bottom","Left"],function(i,part){expanded["border"+part+"Color"]=value});return expanded}};colors=jQuery.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);(function(){var classAnimationActions=["add","remove","toggle"],shorthandStyles={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};$.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(_,prop){$.fx.step[prop]=function(fx){if(fx.end!=="none"&&!fx.setAttr||fx.pos===1&&!fx.setAttr){jQuery.style(fx.elem,prop,fx.end);fx.setAttr=true}}});function getElementStyles(elem){var key,len,style=elem.ownerDocument.defaultView?elem.ownerDocument.defaultView.getComputedStyle(elem,null):elem.currentStyle,styles={};if(style&&style.length&&style[0]&&style[style[0]]){len=style.length;while(len--){key=style[len];if(typeof style[key]==="string"){styles[$.camelCase(key)]=style[key]}}}else{for(key in style){if(typeof style[key]==="string"){styles[key]=style[key]}}}return styles}function styleDifference(oldStyle,newStyle){var diff={},name,value;for(name in newStyle){value=newStyle[name];if(oldStyle[name]!==value){if(!shorthandStyles[name]){if($.fx.step[name]||!isNaN(parseFloat(value))){diff[name]=value}}}}return diff}if(!$.fn.addBack){$.fn.addBack=function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector))}}$.effects.animateClass=function(value,duration,easing,callback){var o=$.speed(duration,easing,callback);return this.queue(function(){var animated=$(this),baseClass=animated.attr("class")||"",applyClassChange,allAnimations=o.children?animated.find("*").addBack():animated;allAnimations=allAnimations.map(function(){var el=$(this);return{el:el,start:getElementStyles(this)}});applyClassChange=function(){$.each(classAnimationActions,function(i,action){if(value[action]){animated[action+"Class"](value[action])}})};applyClassChange();allAnimations=allAnimations.map(function(){this.end=getElementStyles(this.el[0]);this.diff=styleDifference(this.start,this.end);return this});animated.attr("class",baseClass);allAnimations=allAnimations.map(function(){var styleInfo=this,dfd=$.Deferred(),opts=$.extend({},o,{queue:false,complete:function(){dfd.resolve(styleInfo)}});this.el.animate(this.diff,opts);return dfd.promise()});$.when.apply($,allAnimations.get()).done(function(){applyClassChange();$.each(arguments,function(){var el=this.el;$.each(this.diff,function(key){el.css(key,"")})});o.complete.call(animated[0])})})};$.fn.extend({addClass:(function(orig){return function(classNames,speed,easing,callback){return speed?$.effects.animateClass.call(this,{add:classNames},speed,easing,callback):orig.apply(this,arguments)}})($.fn.addClass),removeClass:(function(orig){return function(classNames,speed,easing,callback){return arguments.length>1?$.effects.animateClass.call(this,{remove:classNames},speed,easing,callback):orig.apply(this,arguments)}})($.fn.removeClass),toggleClass:(function(orig){return function(classNames,force,speed,easing,callback){if(typeof force==="boolean"||force===undefined){if(!speed){return orig.apply(this,arguments)}else{return $.effects.animateClass.call(this,(force?{add:classNames}:{remove:classNames}),speed,easing,callback)}}else{return $.effects.animateClass.call(this,{toggle:classNames},force,speed,easing)}}})($.fn.toggleClass),switchClass:function(remove,add,speed,easing,callback){return $.effects.animateClass.call(this,{add:add,remove:remove},speed,easing,callback)}})})();(function(){$.extend($.effects,{version:"1.11.4",save:function(element,set){for(var i=0;i<set.length;i++){if(set[i]!==null){element.data(dataSpace+set[i],element[0].style[set[i]])}}},restore:function(element,set){var val,i;for(i=0;i<set.length;i++){if(set[i]!==null){val=element.data(dataSpace+set[i]);if(val===undefined){val=""}element.css(set[i],val)}}},setMode:function(el,mode){if(mode==="toggle"){mode=el.is(":hidden")?"show":"hide"}return mode},getBaseline:function(origin,original){var y,x;switch(origin[0]){case"top":y=0;break;case"middle":y=0.5;break;case"bottom":y=1;break;default:y=origin[0]/original.height}switch(origin[1]){case"left":x=0;break;case"center":x=0.5;break;case"right":x=1;break;default:x=origin[1]/original.width}return{x:x,y:y}},createWrapper:function(element){if(element.parent().is(".ui-effects-wrapper")){return element.parent()}var props={width:element.outerWidth(true),height:element.outerHeight(true),"float":element.css("float")},wrapper=$("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),size={width:element.width(),height:element.height()},active=document.activeElement;try{active.id}catch(e){active=document.body}element.wrap(wrapper);if(element[0]===active||$.contains(element[0],active)){$(active).focus()}wrapper=element.parent();if(element.css("position")==="static"){wrapper.css({position:"relative"});element.css({position:"relative"})}else{$.extend(props,{position:element.css("position"),zIndex:element.css("z-index")});$.each(["top","left","bottom","right"],function(i,pos){props[pos]=element.css(pos);if(isNaN(parseInt(props[pos],10))){props[pos]="auto"}});element.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})}element.css(size);return wrapper.css(props).show()},removeWrapper:function(element){var active=document.activeElement;if(element.parent().is(".ui-effects-wrapper")){element.parent().replaceWith(element);if(element[0]===active||$.contains(element[0],active)){$(active).focus()}}return element},setTransition:function(element,list,factor,value){value=value||{};$.each(list,function(i,x){var unit=element.cssUnit(x);if(unit[0]>0){value[x]=unit[0]*factor+unit[1]}});return value}});function _normalizeArguments(effect,options,speed,callback){if($.isPlainObject(effect)){options=effect;effect=effect.effect}effect={effect:effect};if(options==null){options={}}if($.isFunction(options)){callback=options;speed=null;options={}}if(typeof options==="number"||$.fx.speeds[options]){callback=speed;speed=options;options={}}if($.isFunction(speed)){callback=speed;speed=null}if(options){$.extend(effect,options)}speed=speed||options.duration;effect.duration=$.fx.off?0:typeof speed==="number"?speed:speed in $.fx.speeds?$.fx.speeds[speed]:$.fx.speeds._default;effect.complete=callback||options.complete;return effect}function standardAnimationOption(option){if(!option||typeof option==="number"||$.fx.speeds[option]){return true}if(typeof option==="string"&&!$.effects.effect[option]){return true}if($.isFunction(option)){return true}if(typeof option==="object"&&!option.effect){return true}return false}$.fn.extend({effect:function(){var args=_normalizeArguments.apply(this,arguments),mode=args.mode,queue=args.queue,effectMethod=$.effects.effect[args.effect];if($.fx.off||!effectMethod){if(mode){return this[mode](args.duration,args.complete)}else{return this.each(function(){if(args.complete){args.complete.call(this)}})}}function run(next){var elem=$(this),complete=args.complete,mode=args.mode;function done(){if($.isFunction(complete)){complete.call(elem[0])}if($.isFunction(next)){next()}}if(elem.is(":hidden")?mode==="hide":mode==="show"){elem[mode]();done()}else{effectMethod.call(elem[0],args,done)}}return queue===false?this.each(run):this.queue(queue||"fx",run)},show:(function(orig){return function(option){if(standardAnimationOption(option)){return orig.apply(this,arguments)}else{var args=_normalizeArguments.apply(this,arguments);args.mode="show";return this.effect.call(this,args)}}})($.fn.show),hide:(function(orig){return function(option){if(standardAnimationOption(option)){return orig.apply(this,arguments)}else{var args=_normalizeArguments.apply(this,arguments);args.mode="hide";return this.effect.call(this,args)}}})($.fn.hide),toggle:(function(orig){return function(option){if(standardAnimationOption(option)||typeof option==="boolean"){return orig.apply(this,arguments)}else{var args=_normalizeArguments.apply(this,arguments);args.mode="toggle";return this.effect.call(this,args)}}})($.fn.toggle),cssUnit:function(key){var style=this.css(key),val=[];$.each(["em","px","%","pt"],function(i,unit){if(style.indexOf(unit)>0){val=[parseFloat(style),unit]}});return val}})})();(function(){var baseEasings={};$.each(["Quad","Cubic","Quart","Quint","Expo"],function(i,name){baseEasings[name]=function(p){return Math.pow(p,i+2)}});$.extend(baseEasings,{Sine:function(p){return 1-Math.cos(p*Math.PI/2)},Circ:function(p){return 1-Math.sqrt(1-p*p)},Elastic:function(p){return p===0||p===1?p:-Math.pow(2,8*(p-1))*Math.sin(((p-1)*80-7.5)*Math.PI/15)},Back:function(p){return p*p*(3*p-2)},Bounce:function(p){var pow2,bounce=4;while(p<((pow2=Math.pow(2,--bounce))-1)/11){}return 1/Math.pow(4,3-bounce)-7.5625*Math.pow((pow2*3-2)/22-p,2)}});$.each(baseEasings,function(name,easeIn){$.easing["easeIn"+name]=easeIn;$.easing["easeOut"+name]=function(p){return 1-easeIn(1-p)};$.easing["easeInOut"+name]=function(p){return p<0.5?easeIn(p*2)/2:1-easeIn(p*-2+2)/2}})})();var effect=$.effects;
/*
 * jQuery UI Effects Highlight 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/highlight-effect/
 */
var effectHighlight=$.effects.effect.highlight=function(o,done){var elem=$(this),props=["backgroundImage","backgroundColor","opacity"],mode=$.effects.setMode(elem,o.mode||"show"),animation={backgroundColor:elem.css("backgroundColor")};if(mode==="hide"){animation.opacity=0}$.effects.save(elem,props);elem.show().css({backgroundImage:"none",backgroundColor:o.color||"#ffff99"}).animate(animation,{queue:false,duration:o.duration,easing:o.easing,complete:function(){if(mode==="hide"){elem.hide()}$.effects.restore(elem,props);done()}})}}));;

// ***************************
// js.compressed/jquery/jquery.ui.touch-punch.min.js
// ***************************
/*!
 * jQuery UI Touch Punch 0.2.3
 *
 * Copyright 20112014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */
!function(a){function f(a,b){if(!(a.originalEvent.touches.length>1)){a.preventDefault();var c=a.originalEvent.changedTouches[0],d=document.createEvent("MouseEvents");d.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(d)}}if(a.support.touch="ontouchend"in document,a.support.touch){var e,b=a.ui.mouse.prototype,c=b._mouseInit,d=b._mouseDestroy;b._touchStart=function(a){var b=this;!e&&b._mouseCapture(a.originalEvent.changedTouches[0])&&(e=!0,b._touchMoved=!1,f(a,"mouseover"),f(a,"mousemove"),f(a,"mousedown"))},b._touchMove=function(a){e&&(this._touchMoved=!0,f(a,"mousemove"))},b._touchEnd=function(a){e&&(f(a,"mouseup"),f(a,"mouseout"),this._touchMoved||f(a,"click"),e=!1)},b._mouseInit=function(){var b=this;b.element.bind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),c.call(b)},b._mouseDestroy=function(){var b=this;b.element.unbind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),d.call(b)}}}(jQuery);;

// ***************************
// js.compressed/jquery/jquery.cookie.min.js
// ***************************
/*jshint eqnull:true */
/*!
 * jQuery Cookie Plugin v1.2
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2011, Klaus Hartl
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.opensource.org/licenses/GPL-2.0
 */
(function(a,b,c){function e(a){return a}function f(a){return decodeURIComponent(a.replace(d," "))}var d=/\+/g;var g=a.cookie=function(d,h,i){if(h!==c){i=a.extend({},g.defaults,i);if(h===null){i.expires=-1}if(typeof i.expires==="number"){var j=i.expires,k=i.expires=new Date;k.setDate(k.getDate()+j)}h=g.json?JSON.stringify(h):String(h);return b.cookie=[encodeURIComponent(d),"=",g.raw?h:encodeURIComponent(h),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}var l=g.raw?e:f;var m=b.cookie.split("; ");for(var n=0,o;o=m[n]&&m[n].split("=");n++){if(l(o.shift())===d){var p=l(o.join("="));return g.json?JSON.parse(p):p}}return null};g.defaults={};a.removeCookie=function(b,c){if(a.cookie(b)!==null){a.cookie(b,null,c);return true}return false}})(jQuery,document);

// ***************************
// js.compressed/responsive.js
// ***************************
/*=======================================================================*\
|| ###################################################################### ||
|| # vBulletin 5.6.1 Patch Level 1
|| # ------------------------------------------------------------------ # ||
|| # Copyright 2000-2020 MH Sub I, LLC dba vBulletin. All Rights Reserved.  # ||
|| # This file may not be redistributed in whole or significant part.   # ||
|| # ----------------- VBULLETIN IS NOT FREE SOFTWARE ----------------- # ||
|| # http://www.vbulletin.com | http://www.vbulletin.com/license.html   # ||
|| ###################################################################### ||
\*========================================================================*/
window.vBulletin=window.vBulletin||{};window.vBulletin.phrase=window.vBulletin.phrase||{};window.vBulletin.phrase.precache=window.vBulletin.phrase.precache||[];window.vBulletin.phrase.precache=$.merge(window.vBulletin.phrase.precache,[]);window.vBulletin=window.vBulletin||{};window.vBulletin.Responsive=window.vBulletin.Responsive||{};window.vBulletin.Responsive.bodyWidth=0;window.vBulletin.Responsive.scrollToFixedBreakPoint=480;vBulletin.Responsive.DocReady={load:function(){Modernizr.addTest("firefox",function(){return !!navigator.userAgent.match(/firefox/i)});Modernizr.addTest("opera",function(){return !!navigator.userAgent.match(/opera/i)});vBulletin.Responsive.MediaQueries.setResizeEvent();vBulletin.Responsive.MediaQueries.handleResizeEvent();vBulletin.Responsive.ChannelContent.cloneAndMoveToolbarButtons();vBulletin.Responsive.ChannelContent.initToolbarShrink();vBulletin.Responsive.ChannelContent.initPmToolbarShrink();vBulletin.Responsive.SearchResultsToolbar.createMobileView();vBulletin.Responsive.Debug.wrap();vBulletin.Responsive.ConversationContent.checkForSignature();vBulletin.Responsive.Touch.override()}};vBulletin.Responsive.Touch={override:function(){var B="touch";if($("html").hasClass(B)){var F="no-touch";var E=navigator.userAgent.toLowerCase();var A="Firefox".toLowerCase();var D=E.indexOf(A);var G="Windows NT 6.1".toLowerCase();var C=E.indexOf(G);if(D!==-1&&C!==-1){$("html").removeClass(B).addClass(F)}}}};vBulletin.Responsive.Debug={wrap:function(){var B="debug-information";var A="debug-information-wrapper";if($("#"+B).length&&!$("#"+A).length){$("#"+B).wrap('<div id="'+A+'" />')}}};vBulletin.Responsive.ChannelContent={cloneAndMoveToolbarButtons:function(){var B=$(".js-movable-toolbar-button"),C=$(".js-movable-toolbar-button-clone"),I=B,J=$(".js-movable-toolbar-button-container"),A=0,E={};function G(){var K=parseInt($(this).data("js-movable-button-clone-id")||0,10);A=Math.max(A,K)}B.each(G);C.each(G);++A;B=B.filter(function(){var K=$(this),L="uniq-"+K.attr("class").split(/\s+/).sort().join("-")+"-"+K.attr("id");L=L.replace("-h-hide-on-small","");if(E[L]){K.addClass("h-hide-on-small");return false}E[L]=true;return true});if(J.length<1){var H=false;if(B.length>0){console.warn("Responsive warning: .js-movable-toolbar-button-container is not available.");var F=B.eq(0).closest(".canvas-widget");if(F.length==1){J=$("<div />").addClass("h-right h-clear hide-on-editmode b-button-group h-margin-bottom-l js-movable-toolbar-button-container h-hide-on-large");if(F.is(".b-module--contiguous")){var D=F.closest(".canvas-layout-row");J.removeClass("h-right").addClass("b-button-group--contiguous-layout").prependTo(D);$("<div />").addClass("js-movable-toolbar-button-container-marker-desktop h-hide-imp").prependTo(D);$("<div />").addClass("js-movable-toolbar-button-container-marker-small h-hide-imp").insertBefore(F)}else{J.prependTo(F)}console.log("Responsive: Created .js-movable-toolbar-button-container");H=true}}if(!H){return }}B=B.filter(function(){var L=$(this),M=L.data("js-movable-button-clone-id");if(M){var K=false;C.each(function(){var N=$(this);if(N.data("js-movable-button-clone-id")==M){K=true;return false}});if(K){return false}}return true});C.each(function(){var L=$(this),M=L.data("js-movable-button-clone-id"),K=false;I.each(function(N,P){var O=$(P).data("js-movable-button-clone-id");if(O==M){K=true;return false}});if(!K){L.remove()}});B=B.reverse();B.each(function(){var L=$(this);if(!L.data("js-movable-button-clone-id")){var K=L.clone().removeAttr("id").removeClass("js-movable-toolbar-button").addClass("h-hide-on-large js-movable-toolbar-button-clone").data("js-movable-button-clone-id",A).off("click").on("click",function(){L.click()}).prependTo(J);L.addClass("h-hide-on-small").data("js-movable-button-clone-id",A);++A}})},initToolbarShrink:function(){function B(G){$(".js-movable-toolbar-button-container, .js-movable-toolbar-button-clone").toggleClass("h-hide-on-large",G);$(".js-movable-toolbar-button, .js-button-filter-my-label").toggleClass("h-hide-imp",!G)}function A(J,H){var I=H.closest(".conversation-toolbar-wrapper"),G=I.next(".js-under-toolbar-pagenav");if(G.length==1&&G.parent().is(":visible")){$(".js-toolbar-pagenav").toggleClass("h-hide-on-xsmall",J).toggleClass("h-hide-imp",!J);G.toggleClass("h-show-on-xsmall",J);$(".js-subtoolbar-list-header").toggleClass("h-hide",!J)}}function F(G){A(false,G);B(true)}function D(G){A(true,G);B(false)}function C(G){A(false,G);B(false)}function E(){var H=$(this),G=[F,D,C];A(true,H);B(true);$.each(G,function(I,J){if(vBulletin.Responsive.Debounce.checkElementShrinkRequirement(H)=="need_shrink"){J(H)}else{return false}})}$(".conversation-toolbar > .js-shrink-event-parent").on("vbulletin:shrink",E).on("vbulletin:unshrink",E)},initPmToolbarShrink:function(){function A(D){$(".js-movable-toolbar-button-container, .js-movable-toolbar-button-clone").toggleClass("h-hide-on-large",D);$(".js-movable-toolbar-button, .js-button-filter-my-label").toggleClass("h-hide-imp",!D)}function C(D){A(false)}function B(){var E=$(this),D=[C];A(true);$.each(D,function(F,G){if(vBulletin.Responsive.Debounce.checkElementShrinkRequirement(E)=="need_shrink"){G(E)}else{return false}})}$(".js-pm-floating-toolbar-content.js-shrink-event-parent, .js-pm-floating-toolbar-content > .js-shrink-event-parent").on("vbulletin:shrink",B).on("vbulletin:unshrink",B)},movePmToolbarButtonContainer:function(){var A=$(".js-movable-toolbar-button-container.b-button-group--contiguous-layout");if(!A.length){return }if($("body").is(".l-small")){A.insertAfter(".js-movable-toolbar-button-container-marker-small")}else{A.insertAfter(".js-movable-toolbar-button-container-marker-desktop")}},};vBulletin.Responsive.SearchResultsToolbar={selector:".search-results-widget .conversation-toolbar",createMobileView:function(){var A=vBulletin.Responsive.SearchResultsToolbar.selector;var C=A+".desktop";var B=$(A);B.addClass("desktop");if($(C).find(".toolbar-pagenav").length){$("<div>").addClass("conversation-toolbar mobile-search-results").insertAfter(B);this.copyElementsToMobileSearchResultsToolbar()}},copyElementsToMobileSearchResultsToolbar:function(){var B=vBulletin.Responsive.SearchResultsToolbar.selector;var E=B+".desktop";var F=B+".mobile-search-results";var D=$(E);var C=$(F);var A=D.find(".toolset-right").clone(true,true);C.append(A)}};vBulletin.Responsive.Search={cloneTagsLink:function(){if(!$("#rx-tags-column").length){var C=$(".form-row-tags");if(C.length){var A=$(".form-row-tags > .field_column");var D=$(".tag-editor-wrapper > span.add-tag-link");var B=D.clone();B.on("click",function(){$(".tag-editor-wrapper > span.add-tag-link").click()});A.css("display","block");D.addClass("h-hide-on-small");C.append("<div id='rx-tags-column' class='field_column'></div>");B.appendTo($("#rx-tags-column"))}}}};vBulletin.Responsive.MediaQueries={init:function(){vBulletin.Responsive.bodyWidth=$("#vb-page-body").width()},setResizeEvent:function(){var A=this.handleResizeEvent;$(window).resize(function(){A()});$(window).on("orientationchange",A)},handleResizeEvent:function(){if($("#vb-page-body").width()!=vBulletin.Responsive.bodyWidth){vBulletin.Responsive.bodyWidth=$("#vb-page-body").width();if(Modernizr.mq("only screen and (max-width: 767px)")){vBulletin.Responsive.Search.cloneTagsLink()}if(Modernizr.mq("only screen and (max-width: 479px)")){vBulletin.Responsive.Debug.wrap()}if(vBulletin.contentslider&&typeof vBulletin.contentslider.handleWindowResize=="function"){vBulletin.contentslider.handleWindowResize()}}}};vBulletin.Responsive.ConversationContent={checkForSignature:function(){$(".conversation-content .videoscontainer").each(function(){if(!$(this).siblings("div.post-signature").length){$(this).addClass("no-signature")}})}};
/*
 * jQuery throttle / debounce - v1.1 - 3/7/2010
 * http://benalman.com/projects/jquery-throttle-debounce-plugin/
 *
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function(B,C){var $=B.jQuery||B.Cowboy||(B.Cowboy={}),A;$.throttle=A=function(E,F,J,I){var H,D=0;if(typeof F!=="boolean"){I=J;J=F;F=C}function G(){var O=this,M=+new Date()-D,N=arguments;function L(){D=+new Date();J.apply(O,N)}function K(){H=C}if(I&&!H){L()}H&&clearTimeout(H);if(I===C&&M>E){L()}else{if(F!==true){H=setTimeout(I?K:L,I===C?E-M:E)}}}if($.guid){G.guid=J.guid=J.guid||$.guid++}return G};$.debounce=function(D,E,F){return F===C?A(D,E,false):A(D,F,E!==false)}})(this);$.extend(vBulletin.Responsive.Debounce,{areElementsOnOneRow:function(C){var B=C.first().position().top,A=true;C.each(function(E,G){var F=$(G),D=F.position().top;if(D!=B){A=false;return false}});return A},doAnyElementsOverlap:function(C){function B(H,G){var E=H.offset(),D=G.offset(),F=H[0].getBoundingClientRect(),I=G[0].getBoundingClientRect();E.bottom=E.top+F.height-1;E.right=E.left+F.width-1;D.bottom=D.top+I.height-1;D.right=D.left+I.width-1;return !(E.right<D.left||E.bottom<D.top||D.right<E.left||D.bottom<E.top)}var A=false;C.each(function(D,E){if(D<C.length-1){if(B($(E),C.eq(D+1))){A=true;return false}}});return A},checkElementShrinkRequirement:function(C){var B=C.find("> .js-shrink-event-child").filter(":visible");if(B.length<1){var A=C.data("vbulletin-shrink-triggered");if(typeof A!="undefined"&&A=="1"){return"need_unshrink"}else{return"no_children"}}if(!vBulletin.Responsive.Debounce.areElementsOnOneRow(B)||vBulletin.Responsive.Debounce.doAnyElementsOverlap(B)){C.data("vbulletin-shrink-triggered","1");return"need_shrink"}else{var A=C.data("vbulletin-shrink-triggered");if(typeof A!="undefined"&&A=="1"){return"need_unshrink"}}return"no_change"},checkShrinkEvent:function(A){if(typeof A=="undefined"){A=$(".js-shrink-event-parent")}A.each(function(B,C){var E=$(C),D=vBulletin.Responsive.Debounce.checkElementShrinkRequirement(E);switch(D){case"need_shrink":E.trigger("vbulletin:shrink");break;case"need_unshrink":E.trigger("vbulletin:unshrink");break;case"no_children":case"no_change":default:break}})},init:function(){var B=0;var A=function(){var F=new Date();var G=F.getTime();if(B>0){console.log(G-B)}B=G};var E=function(){var F=$(".l-row");if(F.length<1){return }F.reverse().each(function(){var I=$(this);if(I.width()>=768){I.removeClass("l-small");return true}var G=I.find("> .l-col__flex-1, > .l-col__flex-2, > .l-col__flex-3, > .l-col__flex-4, > .l-col__flex-5, > .l-col__flex-6"),H=false;I.removeClass("l-small");G.reverse().each(function(){if(this.offsetWidth<this.scrollWidth){H=true;return false}});if(H){I.addClass("l-small")}})};var D=function(){var F=$(".l-row > .l-col__large-1, .l-row > .l-col__large-2, .l-row > .l-col__large-3, .l-row > .l-col__large-4, .l-row > .l-col__large-5, .l-row > .l-col__large-6, .l-row > .l-col__large-7, .l-row > .l-col__large-8, .l-row > .l-col__large-9, .l-row > .l-col__large-10, .l-row > .l-col__large-11, .l-row > .l-col__large-12, .l-row > .l-col__fixed-1, .l-row > .l-col__flex-1, .l-row > .l-col__fixed-2, .l-row > .l-col__flex-2, .l-row > .l-col__fixed-3, .l-row > .l-col__flex-3, .l-row > .l-col__fixed-4, .l-row > .l-col__flex-4, .l-row > .l-col__fixed-5, .l-row > .l-col__flex-5, .l-row > .l-col__fixed-6, .l-row > .l-col__flex-6, .l-row > .l-col__small-1, .l-row > .l-col__small-2, .l-row > .l-col__small-3, .l-row > .l-col__small-4");if(F.length<1){return }F.reverse().each(function(){var J=$(this),H=J.width(),G=parseInt(J.css("marginLeft"),10),I=parseInt(J.css("marginRight"),10);if(G<0){H+=G}if(I<0){H+=I}if(H<480){J.addClass("l-column-xsmall")}else{J.removeClass("l-column-xsmall")}if(H<768){J.addClass("l-column-small")}else{J.removeClass("l-column-small")}if(H>=768){J.addClass("l-column-desktop")}else{J.removeClass("l-column-desktop")}})};var C=function(){var F=$(".ui-dialog:visible .ui-dialog-content");F.each(function(G,J){var L=$(J);L.trigger("vbulletin:dialogresize");L.dialog("option","position",{my:"center",at:"center",of:window,collision:"flipfit"});if(!L.is(".js-no-responsive-resize")){L.closest(".ui-dialog").hide();var H=$(window).width();L.closest(".ui-dialog").show();var M=L.dialog("option","width");if(M>H){if(!L.data("original-dialog-width")){L.data("original-dialog-width",M)}L.dialog("option","width",H)}else{if(M<H){var I=L.data("original-dialog-width");if(I&&M<I){var K=Math.min(I,H);L.dialog("option","width",K)}}}}})};vBulletin.Responsive.Debounce.registerCallback(vBulletin.Responsive.Debounce.checkBrowserSize);vBulletin.Responsive.Debounce.registerCallback(E);vBulletin.Responsive.Debounce.registerCallback(D);vBulletin.Responsive.Debounce.registerCallback(C);vBulletin.Responsive.Debounce.registerCallback(vBulletin.Responsive.Debounce.checkShrinkEvent);vBulletin.Responsive.Debounce.registerCallback(vBulletin.Responsive.ChannelContent.movePmToolbarButtonContainer);$(window).on("resize",$.debounce(300,vBulletin.Responsive.Debounce.runCallbacks));vBulletin.Responsive.Debounce.runCallbacks()},callbacks:[],registerCallback:function(A){vBulletin.Responsive.Debounce.callbacks.push(A)},registerCallbackOnce:function(B){var A=false;$.each(vBulletin.Responsive.Debounce.callbacks,function(){if(B==this||(""+B)==(""+this)){A=true;return false}});if(!A){vBulletin.Responsive.Debounce.callbacks.push(B)}},runCallbacks:function(){if(vBulletin.Responsive.Debounce.callbacks.length>0){var B,A=vBulletin.Responsive.Debounce.callbacks.length;for(B=0;B<A;++B){vBulletin.Responsive.Debounce.callbacks[B]()}}},});$(document).ready(function(){vBulletin.Responsive.DocReady.load();vBulletin.Responsive.Debounce.init()});;

// ***************************
// js.compressed/jquery/jquery.elastic-1.6.11.custom.min.js
// ***************************
/**
*	@name							Elastic
*	@descripton						Elastic is jQuery plugin that grow and shrink your textareas automatically
*	@version						1.6.11
*	@requires						jQuery 1.2.6+
*
*	@author							Jan Jarfalk
*	@author-email					jan.jarfalk@unwrongest.com
*	@author-website					http://www.unwrongest.com
*
*	@licence						MIT License - http://www.opensource.org/licenses/mit-license.php
*/
/*
*  Modified for vBulletin:
*  - Replace twin DOM node instead of adding a new one for every elastic textarea
*  - Added namespace to events bound by the plugin to the textarea to allow us to programmatically trigger events specific to this plugin
*  - Added checking for CSS box-sizing in determining the actual height and width of the textarea
*/
(function(e){jQuery.fn.extend({elastic:function(){var t=["paddingTop","paddingRight","paddingBottom","paddingLeft","fontSize","lineHeight","fontFamily","width","fontWeight","border-top-width","border-right-width","border-bottom-width","border-left-width","borderTopStyle","borderTopColor","borderRightStyle","borderRightColor","borderBottomStyle","borderBottomColor","borderLeftStyle","borderLeftColor"];return this.each(function(){function a(){var e=n().width;if(i.width()!==e){i.css({width:e+"px"});l(true)}}function f(e,t){var i=parseInt(e,10);if(n().height!==i){r.css({height:i+"px",overflow:t})}}function l(e){var t=r.val().replace(/&/g,"&").replace(/ {2}/g,"").replace(/<|>/g,">").replace(/\n/g,"<br />");var s=i.html().replace(/<br>/ig,"<br />");if(e||t+""!==s){i.html(t+"");if(Math.abs(i.height()+lineHeight-n().height)>3){var o=i.height()+lineHeight;if(o>=maxheight){f(maxheight,"auto")}else if(o<=minheight){f(minheight,"hidden")}else{f(o,"hidden")}}}}if(this.type!=="textarea"){return false}var n=function(){return s=="border-box"?{height:r.outerHeight(),width:r.outerWidth()}:s=="padding-box"?{height:r.innerHeight(),width:r.innerWidth()}:{height:r.height(),width:r.width()}};var r=jQuery(this),i=jQuery("<div />").css({position:"absolute",display:"none","word-wrap":"break-word","white-space":"pre-wrap"}).addClass("elastic-twin-div"),s=r.css("box-sizing")||r.css("-moz-box-sizing")||r.css("-webkit-box-sizing")||"content-box";lineHeight=parseInt(r.css("line-height"),10)||parseInt(r.css("font-size"),"10"),minheight=n().height||lineHeight*3,maxheight=parseInt(r.css("max-height"),10)||Number.MAX_VALUE,goalheight=0;if(maxheight<0){maxheight=Number.MAX_VALUE}var o=e("> .elastic-twin-div",r.parent());if(o.length==1){o.replaceWith(i)}else{i.appendTo(r.parent())}var u=t.length;while(u--){i.css(t[u].toString(),r.css(t[u].toString()))}r.css({overflow:"hidden"});r.bind("keyup.elastic change.elastic cut.elastic paste.elastic",function(){l()});e(window).bind("resize.elastic",a);r.bind("resize.elastic focus.elastic",a);r.bind("update.elastic",l);r.bind("blur.elastic",function(){if(i.height()<maxheight){if(i.height()>minheight){r.height(i.height())}else{r.height(minheight)}}});r.bind("input.elastic paste.elastic",function(e){setTimeout(l,250)});l()})}})})(jQuery);

// ***************************
// js.compressed/jquery/jquery.form.min.js
// ***************************
/*
 jQuery Form Plugin
 version: 2.85 (23-SEP-2011)
 @requires jQuery v1.3.2 or later

 Examples and documentation at: http://malsup.com/jquery/form/
 Dual licensed under the MIT and GPL licenses:
   http://www.opensource.org/licenses/mit-license.php
   http://www.gnu.org/licenses/gpl.html
*/
'use strict';(function(c){function p(){if(c.fn.ajaxSubmit.debug){var a="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(a):window.opera&&window.opera.postError&&window.opera.postError(a)}}c.fn.ajaxSubmit=function(a){function d(b){function d(){function a(){try{var c=(r.contentWindow?r.contentWindow.document:r.contentDocument?r.contentDocument:r.document).readyState;p("state = "+c);"uninitialized"==c.toLowerCase()&&setTimeout(a,50)}catch(C){p("Server abort: ",
C," (",C.name,")"),k(2),x&&clearTimeout(x),x=void 0}}var b=h.attr("target"),g=h.attr("action");m.setAttribute("target",z);f||m.setAttribute("method","POST");g!=e.url&&m.setAttribute("action",e.url);e.skipEncodingOverride||f&&!/post/i.test(f)||h.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});e.timeout&&(x=setTimeout(function(){u=!0;k(1)},e.timeout));var d=[];try{if(e.extraData)for(var l in e.extraData)d.push(c('<input type="hidden" name="'+l+'" />').attr("value",e.extraData[l]).appendTo(m)[0]);
e.iframeTarget||(v.appendTo("body"),r.attachEvent?r.attachEvent("onload",k):r.addEventListener("load",k,!1));setTimeout(a,15);m.submit()}finally{m.setAttribute("action",g),b?m.setAttribute("target",b):h.removeAttr("target"),c(d).remove()}}function k(a){if(!g.aborted&&!D){try{t=r.contentWindow?r.contentWindow.document:r.contentDocument?r.contentDocument:r.document}catch(w){p("cannot access response document: ",w),a=2}if(1===a&&g)g.abort("timeout");else if(2==a&&g)g.abort("server abort");else if(t&&
t.location.href!=e.iframeSrc||u){r.detachEvent?r.detachEvent("onload",k):r.removeEventListener("load",k,!1);a="success";var b;try{if(u)throw"timeout";var d="xml"==e.dataType||t.XMLDocument||c.isXMLDoc(t);p("isXml="+d);if(!d&&window.opera&&(null==t.body||""==t.body.innerHTML)&&--A){p("requeing onLoad callback, DOM not available");setTimeout(k,250);return}var f=t.body?t.body:t.documentElement;g.responseText=f?f.innerHTML:null;g.responseXML=t.XMLDocument?t.XMLDocument:t;d&&(e.dataType="xml");g.getResponseHeader=
function(a){return{"content-type":e.dataType}[a]};f&&(g.status=Number(f.getAttribute("status"))||g.status,g.statusText=f.getAttribute("statusText")||g.statusText);var h=(e.dataType||"").toLowerCase(),m=/(json|script|text)/.test(h);if(m||e.textarea){var l=t.getElementsByTagName("textarea")[0];if(l)g.responseText=l.value,g.status=Number(l.getAttribute("status"))||g.status,g.statusText=l.getAttribute("statusText")||g.statusText;else if(m){var y=t.getElementsByTagName("pre")[0],q=t.getElementsByTagName("body")[0];
y?g.responseText=y.textContent?y.textContent:y.innerText:q&&(g.responseText=q.textContent?q.textContent:q.innerText)}}else"xml"!=h||g.responseXML||null==g.responseText||(g.responseXML=E(g.responseText));try{B=F(g,h,e)}catch(w){a="parsererror",g.error=b=w||a}}catch(w){p("error caught: ",w),a="error",g.error=b=w||a}g.aborted&&(p("upload aborted"),a=null);g.status&&(a=200<=g.status&&300>g.status||304===g.status?"success":"error");"success"===a?(e.success&&e.success.call(e.context,B,"success",g),n&&c.event.trigger("ajaxSuccess",
[g,e])):a&&(void 0==b&&(b=g.statusText),e.error&&e.error.call(e.context,g,a,b),n&&c.event.trigger("ajaxError",[g,e,b]));n&&c.event.trigger("ajaxComplete",[g,e]);n&&!--c.active&&c.event.trigger("ajaxStop");e.complete&&e.complete.call(e.context,g,a);D=!0;e.timeout&&clearTimeout(x);setTimeout(function(){e.iframeTarget||v.remove();g.responseXML=null},100)}}}var m=h[0],l,n,u,x;var q=!!c.fn.prop;if(b)if(q)for(l=0;l<b.length;l++)q=c(m[b[l].name]),q.prop("disabled",!1);else for(l=0;l<b.length;l++)q=c(m[b[l].name]),
q.removeAttr("disabled");if(c(":input[name=submit],:input[id=submit]",m).length)alert('Error: Form elements must not have name or id of "submit".');else{var e=c.extend(!0,{},c.ajaxSettings,a);e.context=e.context||e;var z="jqFormIO"+(new Date).getTime();if(e.iframeTarget){var v=c(e.iframeTarget);q=v.attr("name");null==q?v.attr("name",z):z=q}else v=c('<iframe name="'+z+'" src="'+e.iframeSrc+'" />'),v.css({position:"absolute",top:"-1000px",left:"-1000px"});var r=v[0];var g={aborted:0,responseText:null,
responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(a){var b="timeout"===a?"timeout":"aborted";p("aborting upload... "+b);this.aborted=1;v.attr("src",e.iframeSrc);g.error=b;e.error&&e.error.call(e.context,g,b,a);n&&c.event.trigger("ajaxError",[g,e,b]);e.complete&&e.complete.call(e.context,g,b)}};(n=e.global)&&!c.active++&&c.event.trigger("ajaxStart");n&&c.event.trigger("ajaxSend",[g,e]);if(e.beforeSend&&
!1===e.beforeSend.call(e.context,g,e))e.global&&c.active--;else if(!g.aborted){(b=m.clk)&&(q=b.name)&&!b.disabled&&(e.extraData=e.extraData||{},e.extraData[q]=b.value,"image"==b.type&&(e.extraData[q+".x"]=m.clk_x,e.extraData[q+".y"]=m.clk_y));e.forceSync?d():setTimeout(d,10);var B,t,A=50,D,E=c.parseXML||function(a,b){window.ActiveXObject?(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)):b=(new DOMParser).parseFromString(a,"text/xml");return b&&b.documentElement&&"parsererror"!=
b.documentElement.nodeName?b:null},G=c.parseJSON||function(a){return window.eval("("+a+")")},F=function(a,b,e){var d=a.getResponseHeader("content-type")||"",f="xml"===b||!b&&0<=d.indexOf("xml");a=f?a.responseXML:a.responseText;f&&"parsererror"===a.documentElement.nodeName&&c.error&&c.error("parsererror");e&&e.dataFilter&&(a=e.dataFilter(a,b));"string"===typeof a&&("json"===b||!b&&0<=d.indexOf("json")?a=G(a):("script"===b||!b&&0<=d.indexOf("javascript"))&&c.globalEval(a));return a}}}}if(!this.length)return p("ajaxSubmit: skipping submit process - no element selected"),
this;var h=this;"function"==typeof a&&(a={success:a});var f=this.attr("method");var b=this.attr("action");(b=(b="string"===typeof b?c.trim(b):"")||window.location.href||"")&&(b=(b.match(/^([^#]+)/)||[])[1]);a=c.extend(!0,{url:b,success:c.ajaxSettings.success,type:f||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},a);b={};this.trigger("form-pre-serialize",[this,a,b]);if(b.veto)return p("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(a.beforeSerialize&&
!1===a.beforeSerialize(this,a))return p("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var k=this.formToArray(a.semantic);if(a.data)for(n in a.extraData=a.data,a.data)if(c.isArray(a.data[n]))for(var m in a.data[n])k.push({name:n,value:a.data[n][m]});else{var u=a.data[n];u=c.isFunction(u)?u():u;k.push({name:n,value:u})}if(a.beforeSubmit&&!1===a.beforeSubmit(k,this,a))return p("ajaxSubmit: submit aborted via beforeSubmit callback"),this;this.trigger("form-submit-validate",[k,this,a,
b]);if(b.veto)return p("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var n=c.param(k);"GET"==a.type.toUpperCase()?(a.url+=(0<=a.url.indexOf("?")?"&":"?")+n,a.data=null):a.data=n;var l=[];a.resetForm&&l.push(function(){h.resetForm()});a.clearForm&&l.push(function(){h.clearForm()});if(!a.dataType&&a.target){var A=a.success||function(){};l.push(function(b){var d=a.replaceTarget?"replaceWith":"html";c(a.target)[d](b).each(A,arguments)})}else a.success&&l.push(a.success);a.success=
function(b,c,d){for(var f=a.context||a,k=0,m=l.length;k<m;k++)l[k].apply(f,[b,c,d||h,h])};n=0<c("input:file",this).length;m="multipart/form-data"==h.attr("enctype")||"multipart/form-data"==h.attr("encoding");!1!==a.iframe&&(n||a.iframe||m)?a.closeKeepAlive?c.get(a.closeKeepAlive,function(){d(k)}):d(k):c.ajax(a);this.trigger("form-submit-notify",[this,a]);return this};c.fn.ajaxForm=function(a){if(0===this.length){var d=this.selector,h=this.context;if(!c.isReady&&d)return p("DOM not ready, queuing ajaxForm"),
c(function(){c(d,h).ajaxForm(a)}),this;p("terminating; zero elements found by selector"+(c.isReady?"":" (DOM not ready)"));return this}return this.ajaxFormUnbind().bind("submit.form-plugin",function(d){d.isDefaultPrevented()||(d.preventDefault(),c(this).ajaxSubmit(a))}).bind("click.form-plugin",function(a){var b=a.target,d=c(b);if(!d.is(":submit,input:image")){b=d.closest(":submit");if(0==b.length)return;b=b[0]}var f=this;f.clk=b;"image"==b.type&&(void 0!=a.offsetX?(f.clk_x=a.offsetX,f.clk_y=a.offsetY):
"function"==typeof c.fn.offset?(d=d.offset(),f.clk_x=a.pageX-d.left,f.clk_y=a.pageY-d.top):(f.clk_x=a.pageX-b.offsetLeft,f.clk_y=a.pageY-b.offsetTop));setTimeout(function(){f.clk=f.clk_x=f.clk_y=null},100)})};c.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};c.fn.formToArray=function(a){var d=[];if(0===this.length)return d;var h=this[0],f=a?h.getElementsByTagName("*"):h.elements;if(!f)return d;var b,k,m,p;var n=0;for(m=f.length;n<m;n++){var l=f[n];if(b=l.name)if(a&&
h.clk&&"image"==l.type)l.disabled||h.clk!=l||(d.push({name:b,value:c(l).val()}),d.push({name:b+".x",value:h.clk_x},{name:b+".y",value:h.clk_y}));else if((k=c.fieldValue(l,!0))&&k.constructor==Array)for(l=0,p=k.length;l<p;l++)d.push({name:b,value:k[l]});else null!==k&&"undefined"!=typeof k&&d.push({name:b,value:k})}!a&&h.clk&&(a=c(h.clk),f=a[0],(b=f.name)&&!f.disabled&&"image"==f.type&&(d.push({name:b,value:a.val()}),d.push({name:b+".x",value:h.clk_x},{name:b+".y",value:h.clk_y})));return d};c.fn.formSerialize=
function(a){return c.param(this.formToArray(a))};c.fn.fieldSerialize=function(a){var d=[];this.each(function(){var h=this.name;if(h){var f=c.fieldValue(this,a);if(f&&f.constructor==Array)for(var b=0,k=f.length;b<k;b++)d.push({name:h,value:f[b]});else null!==f&&"undefined"!=typeof f&&d.push({name:this.name,value:f})}});return c.param(d)};c.fn.fieldValue=function(a){for(var d=[],h=0,f=this.length;h<f;h++){var b=c.fieldValue(this[h],a);null===b||"undefined"==typeof b||b.constructor==Array&&!b.length||
(b.constructor==Array?c.merge(d,b):d.push(b))}return d};c.fieldValue=function(a,d){var h=a.name,f=a.type,b=a.tagName.toLowerCase();void 0===d&&(d=!0);if(d&&(!h||a.disabled||"reset"==f||"button"==f||("checkbox"==f||"radio"==f)&&!a.checked||("submit"==f||"image"==f)&&a.form&&a.form.clk!=a||"select"==b&&-1==a.selectedIndex))return null;if("select"==b){b=a.selectedIndex;if(0>b)return null;d=[];a=a.options;h=(f="select-one"==f)?b+1:a.length;for(b=f?b:0;b<h;b++){var k=a[b];if(k.selected){var m=k.value;
m||(m=k.attributes&&k.attributes.value&&!k.attributes.value.specified?k.text:k.value);if(f)return m;d.push(m)}}return d}return c(a).val()};c.fn.clearForm=function(){return this.each(function(){c("input,select,textarea",this).clearFields()})};c.fn.clearFields=c.fn.clearInputs=function(){var a=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var c=this.type,h=this.tagName.toLowerCase();a.test(c)||"textarea"==h?this.value="":"checkbox"==
c||"radio"==c?this.checked=!1:"select"==h&&(this.selectedIndex=-1)})};c.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})};c.fn.enable=function(a){void 0===a&&(a=!0);return this.each(function(){this.disabled=!a})};c.fn.selected=function(a){void 0===a&&(a=!0);return this.each(function(){var d=this.type;"checkbox"==d||"radio"==d?this.checked=a:"option"==this.tagName.toLowerCase()&&(d=c(this).parent("select"),
a&&d[0]&&"select-one"==d[0].type&&d.find("option").selected(!1),this.selected=a)})};c.fn.ajaxSubmit.debug=!1})(jQuery);
;

// ***************************
// js.compressed/jquery/jquery.selectBox.min.js
// ***************************
jQuery&&function(b){b.extend(b.fn,{selectBox:function(x,k){var y,p="",z=navigator.platform.match(/mac/i),E=function(a,c){if(navigator.userAgent.match(/iPad|iPhone|Android|IEMobile|BlackBerry/i)||"select"!==a.tagName.toLowerCase())return!1;a=b(a);if(a.data("selectBox-control")||a.is(":hidden")&&(!c||!c.allowHidden))return!1;var e=b('<a class="selectBox" />'),d=a.attr("multiple")||1<parseInt(a.attr("size"));c=c||{};e.addClass(a.attr("class")).attr("title",a.attr("title")||"").attr("tabindex",
parseInt(a.attr("tabindex"))).css("display","inline-block").bind("focus.selectBox",function(){this!==document.activeElement&&document.body!==document.activeElement&&b(document.activeElement).blur();e.hasClass("selectBox-active")||(e.addClass("selectBox-active"),a.trigger("focus"))}).bind("blur.selectBox",function(){e.hasClass("selectBox-active")&&(e.removeClass("selectBox-active"),a.trigger("blur"))});b(window).data("selectBox-bindings")||b(window).data("selectBox-bindings",!0).bind("scroll.selectBox",
l).bind("resize.selectBox",l);a.attr("disabled")&&e.addClass("selectBox-disabled");a.bind("click.selectBox",function(a){e.focus();a.preventDefault()});if(d){var f=t(a,"inline");e.append(f).data("selectBox-options",f).addClass("selectBox-inline selectBox-menuShowing").bind("keydown.selectBox",function(b){A(a,b)}).bind("keypress.selectBox",function(b){B(a,b)}).bind("mousedown.selectBox",function(a){b(a.target).is("A.selectBox-inline")&&a.preventDefault();e.hasClass("selectBox-focus")||e.focus()}).insertAfter(a);
e.width(a.css("fontSize",e.css("fontSize")).outerWidth());if(!a[0].style.height){d=a.attr("size")?parseInt(a.attr("size")):5;var h=e.clone().removeAttr("id").css({position:"absolute",top:"-9999em"}).show().appendTo("body");h.find(".selectBox-options").html("<li><a></a></li>");var g=parseInt(h.find(".selectBox-options A:first").html("&nbsp;").outerHeight());h.remove();e.height(g*d)}}else d=b('<span class="selectBox-label" />'),h=b('<span class="selectBox-arrow" />'),d.attr("class",C(a)).text(D(a)),
f=t(a,"dropdown"),f.appendTo("BODY"),e.data("selectBox-options",f).addClass("selectBox-dropdown").append(d).append(h).bind("mousedown.selectBox",function(b){e.hasClass("selectBox-menuShowing")?l():(b.stopPropagation(),f.data("selectBox-down-at-x",b.screenX).data("selectBox-down-at-y",b.screenY),m(a))}).bind("keydown.selectBox",function(b){A(a,b)}).bind("keypress.selectBox",function(b){B(a,b)}).bind("open.selectBox",function(b,c){c&&!0===c._selectBox||m(a)}).bind("close.selectBox",function(a,b){b&&
!0===b._selectBox||l()}).insertAfter(a),e.width(a.css("fontSize",e.css("fontSize")).width()),h=e.width()-h.outerWidth()-parseInt(d.css("paddingLeft"))-parseInt(d.css("paddingRight")),d.width(h);u(e);d=b(".selectBox-label",e);h=parseInt(d.css("paddingLeft"))-4+parseInt(d.css("paddingRight"));g=e.width()+h;g<=e.parent().innerWidth()&&(e.width(g),d.width(d.width()+h));a.addClass("selectBox").data("selectBox-control",e).data("selectBox-settings",c).hide()},t=function(a,c){var e=function(a,c){a.children("OPTION, OPTGROUP").each(function(){if(b(this).is("OPTION"))if(0<
b(this).length){var a=b(this),d=c,f=b("<li />"),h=b("<a />");f.addClass(a.attr("class"));f.data(a.data());h.attr("rel",a.val()).text(a.text());f.append(h);a.attr("disabled")&&f.addClass("selectBox-disabled");a.prop("selected")&&f.addClass("selectBox-selected");d.append(f)}else c.append("<li></li>");else a=b('<li class="selectBox-optgroup" />'),a.text(b(this).attr("label")),c.append(a),c=e(b(this),c)});return c};switch(c){case "inline":var d=b('<ul class="selectBox-options" />');d=e(a,d);d.find("A").bind("mouseover.selectBox",
function(c){n(a,b(this).parent())}).bind("mouseout.selectBox",function(c){v(a,b(this).parent())}).bind("mousedown.selectBox",function(b){b.preventDefault();a.selectBox("control").hasClass("selectBox-active")||a.selectBox("control").focus()}).bind("mouseup.selectBox",function(c){l();q(a,b(this).parent(),c)});u(d);return d;case "dropdown":d=b('<ul class="selectBox-dropdown-menu selectBox-options" />');d=e(a,d);d.data("selectBox-select",a).css("display","none").appendTo("BODY").find("A").bind("mousedown.selectBox",
function(a){a.preventDefault();a.screenX===d.data("selectBox-down-at-x")&&a.screenY===d.data("selectBox-down-at-y")&&(d.removeData("selectBox-down-at-x").removeData("selectBox-down-at-y"),l())}).bind("mouseup.selectBox",function(c){if(c.screenX!==d.data("selectBox-down-at-x")||c.screenY!==d.data("selectBox-down-at-y"))d.removeData("selectBox-down-at-x").removeData("selectBox-down-at-y"),q(a,b(this).parent()),l()}).bind("mouseover.selectBox",function(c){n(a,b(this).parent())}).bind("mouseout.selectBox",
function(c){v(a,b(this).parent())});c=a.attr("class")||"";if(""!==c){c=c.split(" ");for(var f in c)d.addClass(c[f]+"-selectBox-dropdown-menu")}u(d);return d}},C=function(a){return("selectBox-label "+(b(a).find("OPTION:selected").attr("class")||"")).replace(/\s+$/,"")},D=function(a){return b(a).find("OPTION:selected").text()||""},w=function(a){a=b(a);var c=a.data("selectBox-control");c&&c.find(".selectBox-label").attr("class",C(a)).text(D(a))},m=function(a){a=b(a);var c=a.data("selectBox-control")||
b(),e=a.data("selectBox-settings")||{},d=c.data("selectBox-options")||b();if(c.hasClass("selectBox-disabled"))return!1;l();var f=parseInt(c.css("borderBottomWidth"))||0;d.width(c.innerWidth()).css({top:c.offset().top+c.outerHeight()-f,left:c.offset().left});if(a.triggerHandler("beforeopen"))return!1;f=function(){a.triggerHandler("open",{_selectBox:!0});var e=b(window).scrollTop(),f=e+b(window).height(),k=d.offset().top,l=k+d.outerHeight();0<=k-e&&0<=f-l||d.css("top",parseFloat(d.css("top"))-(c.outerHeight()+
d.outerHeight()))};switch(e.menuTransition){case "fade":d.fadeIn(e.menuSpeed,f);break;case "slide":d.slideDown(e.menuSpeed,f);break;default:d.show(e.menuSpeed,f)}e.menuSpeed||f();e=d.find(".selectBox-selected:first");r(a,e,!0);n(a,e);c.addClass("selectBox-menuShowing");b(document).bind("mousedown.selectBox",function(a){b(a.target).parents().addBack().hasClass("selectBox-options")||l()})},l=function(){0!==b(".selectBox-dropdown-menu:visible").length&&(b(document).unbind("mousedown.selectBox"),b(".selectBox-dropdown-menu").each(function(){var a=
b(this),c=a.data("selectBox-select")||b(),e=c.data("selectBox-control")||b(),d=c.data("selectBox-settings")||{};if(c.triggerHandler("beforeclose"))return!1;var f=function(){c.triggerHandler("close",{_selectBox:!0})};switch(d.menuTransition){case "fade":a.fadeOut(d.menuSpeed,f);break;case "slide":a.slideUp(d.menuSpeed,f);break;default:a.hide(d.menuSpeed,f)}d.menuSpeed||f();e.removeClass("selectBox-menuShowing")}))},q=function(a,c,e){a=b(a);c=b(c);var d=a.data("selectBox-control")||b();a.data("selectBox-settings");
if(d.hasClass("selectBox-disabled")||0===c.length||c.hasClass("selectBox-disabled"))return!1;a.attr("multiple")?e.shiftKey&&d.data("selectBox-last-selected")?(c.toggleClass("selectBox-selected"),e=c.index()>d.data("selectBox-last-selected").index()?c.siblings().slice(d.data("selectBox-last-selected").index(),c.index()):c.siblings().slice(c.index(),d.data("selectBox-last-selected").index()),e=e.not(".selectBox-optgroup, .selectBox-disabled"),c.hasClass("selectBox-selected")?e.addClass("selectBox-selected"):
e.removeClass("selectBox-selected")):z&&e.metaKey||!z&&e.ctrlKey?c.toggleClass("selectBox-selected"):(c.siblings().removeClass("selectBox-selected"),c.addClass("selectBox-selected")):(c.siblings().removeClass("selectBox-selected"),c.addClass("selectBox-selected"));d.hasClass("selectBox-dropdown")&&d.find(".selectBox-label").text(c.text());var f=0,h=[];a.attr("multiple")?d.find(".selectBox-selected A").each(function(){h[f++]=b(this).attr("rel")}):h=c.find("A").attr("rel");d.data("selectBox-last-selected",
c);a.val()!==h&&(a.val(h),w(a),a.trigger("change"));return!0},n=function(a,c){a=b(a);c=b(c);((a.data("selectBox-control")||b()).data("selectBox-options")||b()).find(".selectBox-hover").removeClass("selectBox-hover");c.addClass("selectBox-hover")},v=function(a,c){a=b(a);b(c);((a.data("selectBox-control")||b()).data("selectBox-options")||b()).find(".selectBox-hover").removeClass("selectBox-hover")},r=function(a,c,e){if(c&&0!==c.length){a=b(a);a=a.data("selectBox-control")||b();var d=a.data("selectBox-options")||
b();a=a.hasClass("selectBox-dropdown")?d:d.parent();d=parseInt(c.offset().top-a.position().top);var f=parseInt(d+c.outerHeight());e?a.scrollTop(c.offset().top-a.offset().top+a.scrollTop()-a.height()/2):(0>d&&a.scrollTop(c.offset().top-a.offset().top+a.scrollTop()),f>a.height()&&a.scrollTop(c.offset().top+c.outerHeight()-a.offset().top+a.scrollTop()-a.height()))}},A=function(a,c){a=b(a);var e=a.data("selectBox-control")||b(),d=e.data("selectBox-options")||b(),f=a.data("selectBox-settings")||{},h;if(!e.hasClass("selectBox-disabled"))switch(c.keyCode){case 8:c.preventDefault();
p="";break;case 9:case 27:l();v(a);break;case 13:e.hasClass("selectBox-menuShowing")?(q(a,d.find("LI.selectBox-hover:first"),c),e.hasClass("selectBox-dropdown")&&l()):m(a);break;case 38:case 37:c.preventDefault();if(e.hasClass("selectBox-menuShowing")){var g=d.find(".selectBox-hover").prev("LI");e=d.find("LI:not(.selectBox-optgroup)").length;for(h=0;(0===g.length||g.hasClass("selectBox-disabled")||g.hasClass("selectBox-optgroup"))&&!(g=g.prev("LI"),0===g.length&&(g=f.loopOptions?d.find("LI:last"):
d.find("LI:first")),++h>=e););n(a,g);q(a,g,c);r(a,g)}else m(a);break;case 40:case 39:if(c.preventDefault(),e.hasClass("selectBox-menuShowing")){g=d.find(".selectBox-hover").next("LI");e=d.find("LI:not(.selectBox-optgroup)").length;for(h=0;(0===g.length||g.hasClass("selectBox-disabled")||g.hasClass("selectBox-optgroup"))&&!(g=g.next("LI"),0===g.length&&(g=f.loopOptions?d.find("LI:first"):d.find("LI:last")),++h>=e););n(a,g);q(a,g,c);r(a,g)}else m(a)}},B=function(a,c){a=b(a);var e=a.data("selectBox-control")||
b(),d=e.data("selectBox-options")||b();if(!e.hasClass("selectBox-disabled"))switch(c.keyCode){case 9:case 27:case 13:case 38:case 37:case 40:case 39:break;default:e.hasClass("selectBox-menuShowing")||m(a),c.preventDefault(),clearTimeout(y),p+=String.fromCharCode(c.charCode||c.keyCode),d.find("A").each(function(){if(b(this).text().substr(0,p.length).toLowerCase()===p.toLowerCase())return n(a,b(this).parent()),r(a,b(this).parent()),!1}),y=setTimeout(function(){p=""},1E3)}},F=function(a,c){a=b(a);a.val(c);
c=a.val();null!==c||a.attr("multiple")||(a[0].selectedIndex=0,c=a.val());var e=a.data("selectBox-control");if(e){var d=a.data("selectBox-settings")||{};e=e.data("selectBox-options")||b();w(a);e.find(".selectBox-selected").removeClass("selectBox-selected");e.find("A").each(function(){if("object"===typeof c)for(var a=0;a<c.length;a++)b(this).attr("rel")==c[a]&&b(this).parent().addClass("selectBox-selected");else b(this).attr("rel")==c&&b(this).parent().addClass("selectBox-selected")});d.change&&d.change.call(a)}},
u=function(a){b(a).css("MozUserSelect","none").bind("selectstart",function(a){a.preventDefault()})};switch(x){case "control":return b(this).data("selectBox-control");case "settings":if(!k)return b(this).data("selectBox-settings");b(this).each(function(){b(this).data("selectBox-settings",b.extend(!0,b(this).data("selectBox-settings"),k))});break;case "options":if(void 0===k)return b(this).data("selectBox-control").data("selectBox-options");b(this).each(function(){var a=b(this);var c=a.data("selectBox-control")||
b();a.data("selectBox-settings");switch(typeof k){case "string":a.html(k);break;case "object":for(f in a.html(""),k)if(null!==k[f])if("object"===typeof k[f]){var e=b('<optgroup label="'+f+'" />');for(d in k[f])e.append('<option value="'+d+'">'+k[f][d]+"</option>");a.append(e)}else e=b('<option value="'+f+'">'+k[f]+"</option>"),a.append(e)}if(c){c.data("selectBox-options").remove();var d=c.hasClass("selectBox-dropdown")?"dropdown":"inline";var f=t(a,d);c.data("selectBox-options",f);switch(d){case "inline":c.append(f);
break;case "dropdown":w(a),b("BODY").append(f)}}});break;case "value":if(void 0===k)return b(this).val();b(this).each(function(){F(this,k)});break;case "refresh":b(this).each(function(){var a=b(this);a.selectBox("options",a.html())});break;case "enable":b(this).each(function(){var a=b(this);a.attr("disabled",!1);(a=a.data("selectBox-control"))&&a.removeClass("selectBox-disabled")});break;case "disable":b(this).each(function(){var a=b(this);a.attr("disabled",!0);(a=a.data("selectBox-control"))&&a.addClass("selectBox-disabled")});
break;case "destroy":b(this).each(function(){var a=b(this);var c=a.data("selectBox-control");c&&((c.data("selectBox-options")||b()).remove(),c.remove(),a.removeClass("selectBox").removeData("selectBox-control").data("selectBox-control",null).removeData("selectBox-settings").data("selectBox-settings",null).show())});break;default:b(this).each(function(){E(this,x)})}return b(this)}})}(jQuery);
;

// ***************************
// js.compressed/storage.js
// ***************************
/*=======================================================================*\
|| ###################################################################### ||
|| # vBulletin 5.6.1 Patch Level 1
|| # ------------------------------------------------------------------ # ||
|| # Copyright 2000-2020 MH Sub I, LLC dba vBulletin. All Rights Reserved.  # ||
|| # This file may not be redistributed in whole or significant part.   # ||
|| # ----------------- VBULLETIN IS NOT FREE SOFTWARE ----------------- # ||
|| # http://www.vbulletin.com | http://www.vbulletin.com/license.html   # ||
|| ###################################################################### ||
\*========================================================================*/
vBulletin=vBulletin||{};vBulletin.createStorageTools=function(G,J,D){try{localStorage.removeItem("vbcache-")}catch(H){}function I(L){if(!L.loaded){L.loaded=true;try{var K=localStorage.getItem(G+L.name);if(K){K=JSON.parse(K);if(L.istimed){L.cache.values=K.values||L.cache.values;L.cache.times=K.times||L.cache.times;C(L)}else{L.cache.values=K}}}catch(M){}}}function E(M){try{var L=G+M.name,K=M.cache;if(!M.istimed){K=K.values}localStorage.removeItem(L);localStorage.setItem(L,JSON.stringify(K))}catch(N){}}function C(N){var K=false,L=N.cache.values,O=N.cache.times;for(var M in L){if(O[M]<N.latest){delete L[M];delete O[M];K=true}}if(K){E(N)}}function F(L,N,K,M){this.loaded=false;this.name=L;this.cache={values:{},times:{},};this.istimed=!!N;if(this.istimed){this.latest=K;this.current=M}}F.prototype={get:function(L){I(this);var K=this.cache.values;return(K.hasOwnProperty(L)?K[L]:null)},getAll:function(){I(this);return this.cache.values},isSet:function(K){I(this);return this.cache.values.hasOwnProperty(K)},set:function(L,M){I(this);var K=L;if(!$.isPlainObject(L)){K={};K[L]=M}for(_key in K){this.cache.values[_key]=K[_key];if(this.istimed){this.cache.times[_key]=this.current}}E(this)},unset:function(K){I(this);delete this.cache.values[K];delete this.cache.times[K];E(this)},};function A(K){var L={path:J,domain:D};if(K.permanent){L.expires=365}$.cookie(K.name,JSON.stringify(K.cache),L)}function B(K,N){this.name=G+K;this.permanent=N;try{var L=$.cookie(this.name);if(L){this.cache=$.parseJSON(L)}}catch(M){}this.cache=this.cache||{}}B.prototype={get:function(L,K){return(this.cache.hasOwnProperty(L)?this.cache[L]:(K!==undefined?K:null))},getAll:function(){return this.cache},set:function(K,L){this.cache[K]=L;A(this)},unset:function(K){delete this.cache[K];A(this)}};return{createStorage:function(K){return new F(K)},createStorageTimed:function(L,K,M){return new F(L,true,K,M)},createArrayCookie:function(K,L){return new B(K,L)}}};;

// ***************************
// js.compressed/sitedata.js
// ***************************
/*=======================================================================*\
|| ###################################################################### ||
|| # vBulletin 5.6.1 Patch Level 1
|| # ------------------------------------------------------------------ # ||
|| # Copyright 2000-2020 MH Sub I, LLC dba vBulletin. All Rights Reserved.  # ||
|| # This file may not be redistributed in whole or significant part.   # ||
|| # ----------------- VBULLETIN IS NOT FREE SOFTWARE ----------------- # ||
|| # http://www.vbulletin.com | http://www.vbulletin.com/license.html   # ||
|| ###################################################################### ||
\*========================================================================*/
vBulletin=vBulletin||{};vBulletin.createSiteDataTools=function(G){var C={},D,J,I,H,K={},F,A;function E(){var M=[],L=[];(new Set(A)).forEach(function(N){M.push(N)});M=M.filter(function(N){return(!F.isSet(N))});(new Set(J)).forEach(function(N){L.push(N)});L=L.filter(function(N){return(!D.isSet(N+H))});vBulletin.loadingIndicator.suppressNextAjaxIndicator();$.ajax({url:G+"/ajax/loaddata",async:false,data:({options:M,phrases:L}),type:"POST",dataType:"json",success:function(N){if(N&&!N.hasOwnProperty("errors")){A.length=0;J.length=0;var Q={},P=N.options;$.each(M,function(T,S){Q[S]=(P.hasOwnProperty(S)?P[S]:null)});F.set(Q);var R={},O=N.phrases;$.each(L,function(T,S){R[S+H]=(O.hasOwnProperty(S)?O[S]:S)});D.set(R)}else{console.warn("Unexpected result when fetching options",N)}},error:function(P,O,N){console.warn("Error when fetching options: {0}".format(N))}})}function B(M,L){L=L.replace(/\{sitename\}/g,K.get("bbtitle")).replace(/\{musername\}/g,I.musername).replace(/\{username\}/g,I.username).replace(/\{userid\}/g,I.userid).replace(/\{registerurl\}/g,I.registerurl).replace(/\{activationurl\}/g,I.activationurl).replace(/\{helpurl\}/g,I.helpurl).replace(/\{contacturl\}/g,I.contacturl).replace(/\{homeurl\}/g,I.baseurl).replace(/\{date\}/g,I.datenow).replace(/\{register_page\}/g,I.registerurl).replace(/\{activation_page\}/g,I.activationurl).replace(/\{help_page\}/g,I.helpurl).replace(/\{sessionurl\}/g,"").replace(/\{sessionurl_q\}/g,"");for(var N=1;N<M.length;++N){L=L.replace(new RegExp("%"+N+"\\$s","gm"),M[N])}return L}C.init=function(M,L,O,N){I=M;H="-"+L;D=O;J=N};C.get=function(){if(arguments.length<1){console.log("vBulletin.phrase.get() called with no parameters");return""}var L=arguments;if(Array.isArray(L[0])){L=L[0]}var M=L[0]+H;if(!D.isSet(M)){J.push(L[0]);E()}var N=D.get(M);if(!N){return M}return B(L,N)};C.register=function(L){$.merge(J,$.makeArray(L))};K.init=function(M,L){F=M;A=L};K.get=function(L){if(!F.isSet(L)){A.push(L);E(L)}return F.get(L)};K.register=function(L){$.merge(A,$.makeArray(L))};return{phrase:C,options:K,}};;

// ***************************
// js.compressed/ajax.js
// ***************************
/*=======================================================================*\
|| ###################################################################### ||
|| # vBulletin 5.6.1 Patch Level 1
|| # ------------------------------------------------------------------ # ||
|| # Copyright 2000-2020 MH Sub I, LLC dba vBulletin. All Rights Reserved.  # ||
|| # This file may not be redistributed in whole or significant part.   # ||
|| # ----------------- VBULLETIN IS NOT FREE SOFTWARE ----------------- # ||
|| # http://www.vbulletin.com | http://www.vbulletin.com/license.html   # ||
|| ###################################################################### ||
\*========================================================================*/
vBulletin=vBulletin||{};vBulletin.createAjaxTools=function(G,A){var F={};var C=function(K){return'<textarea style="border:1px solid #999;margin-top:10px;height:120px;width:100%;">'+K+"</textarea>"};var J=function(O){var K=[];for(var M=0;M<O.length;M++){var L=($.isArray(O[M])?O[M][0]:O[M]),N=vBulletin.phrase.get(O[M]);if($("#debug-information").length==1&&L!=N){N+=" ("+L+")"}K.push(N)}return K};var E=function(M){for(var K=0;K<M.length;K++){var L=M[K];if($.isArray(L)&&L[0]=="exception_trace"){M.splice(K,1);return L[1]}}return""};var B=function(K,L){return(function(N,Q,P){var M="";if(typeof N.status!="undefined"){M+=" "+N.status}if(Q!=null){M+=" "+Q}if(typeof P!="undefined"){M+=" "+P}var O=vBulletin.phrase.get(K.error_phrase)+"<br /><br />"+vBulletin.phrase.get("error_information_x",M);console.log(L+" Error callback: "+K.url);F.logAjaxError(N,Q,P);openAlertDialog({title:vBulletin.phrase.get(K.title_phrase),message:O,iconType:"error",onAfterClose:K.after_error,})})};var H=function(N,O,M,L,R,P){var T=N.errors;if(!T){T=[N.error]}if(O.api_error){var S=O.api_error.apply(L,[T,N,O]);if(!S){return }}var K=function(U){P.data=P.data.replace(/securitytoken=[^&]*(&|$)/,"securitytoken="+U.newtoken+"$1");$.ajax(P)};if(A!=0){if(F.hasError(T,["inlinemodauth_required",])){D("inlinemod_auth",K,A,"cplogin");return }if(N.userid==0&&F.hasError(T,[/^humanverify_/,"no_create_permissions","session_timed_out_login","not_logged_no_permission","no_permission","no_delete_permissions","no_featured_permissions",])){var Q=function(){D("login",K,A,(O.cpaction?"cplogin":""))};if(!I(K,Q,A)){Q()}return }}F.showApiError(T,N,O)};F.hasError=function(Q,L){if(!$.isArray(Q)){return false}var K=L;if(!$.isArray(K)){K=[L]}for(var N=0;N<Q.length;N++){var O=Q[N];if($.isArray(O)){O=O[0]}for(var M=0;M<K.length;M++){var P=K[M];if($.type(P)=="regexp"){if(P.test(O)){return true}}else{if(P==O){return true}}}}return false};F.logApiError=function(K){console.dir(J(K))};F.showApiError=function(P,N,L){var M={title_phrase:"error",after_error:null,};$.extend(true,M,L);var O=E(P),K=J(P);if($("#debug-information").length==1){if(O){K.push(C(O))}K.push(C(JSON.stringify(N)))}K="<ul>\n<li>"+K.join("</li>\n<li>")+"</li>\n</ul>";openAlertDialog({title:vBulletin.phrase.get(M.title_phrase),message:K,iconType:"error",onAfterClose:M.after_error})};F.logAjaxError=function(K,M,L){console.dir({textStatus:M,jqXHRStatus:K.status,errorThrown:L})};F.ajax=function(L){var K={type:"POST",dataType:"json",title_phrase:"error",error_phrase:"error",api_error:false,after_error:null,};$.extend(true,K,L);if(!K.url){K.url=G+K.call;K.call=""}if(!K.error){K.error=B(K,"ajax")}var M=this;K.success=function(N,O,P){if(!N){if(!K.allowEmptyResponse){N={errors:[["invalid_server_response_please_try_again"]]}}}if(N&&(N.errors||N.error)){H(N,K,L,M,F.ajax,this)}else{if(L.success){L.success.apply(this,arguments)}}};return $.ajax(K)};F.ajaxForm=function(L){var K={dataType:"json",title_phrase:"error",error_phrase:"error",api_error:false,after_error:null,iframe:false,};$.extend(K,L);if(!K.error){K.error=B(K,"ajaxForm")}K.beforeSubmit=function(Q,N,P){if(L.beforeSubmit){if(L.beforeSubmit.apply(this,arguments)===false){return false}}var O=$("button, .b-button",N);O.prop("disabled",true);$(document).one("ajaxComplete",function(){O.prop("disabled",false)});return true};var M=this;K.success=function(O,P,Q,N){if(!O){if(!K.allowEmptyResponse){O={errors:[["invalid_server_response_please_try_again"]]}}}if(O&&(O.errors||O.error)){H(O,K,L,M,F.ajaxForm,this)}else{if(L.success){L.success.apply(this,arguments)}}};this.ajaxForm(K)};var I=function(M,L,K){if(typeof (vBfb)!="undefined"&&vBfb.isFbLogin()){vBfb.makeAuthEvent(function(N){F.ajax({call:"/auth/login-external",data:{provider:"facebook",auth:N.accessToken,userid:K},success:function(O){vBulletin.doReplaceSecurityToken(O.newtoken);return M(O)},api_error:L})})();return true}return false};var D=function(Q,P,N,L){var M,K;var O=openConfirmDialog({title:vBulletin.phrase.get(Q),message:vBulletin.phrase.get("loading")+"...",width:400,dialogClass:"loading",buttonLabel:{yesLabel:vBulletin.phrase.get("login"),noLabel:vBulletin.phrase.get("cancel")},onClickYesWithAjax:true,onClickYes:function(){K.text("").addClass("h-hide");F.ajax({call:"/auth/ajax-login",data:M.serializeArray(),success:function(R){vBulletin.doReplaceSecurityToken(R.newtoken);O.dialog("close");return P(R)},api_error:function(R){K.html(vBulletin.phrase.get(R[0])).removeClass("h-hide");K.find("a").attr("target","_blank")},title_phrase:Q})},});F.ajax({call:"/auth/login-dialog",data:{logintype:L,userid:N,isAjaxTemplateRender:true,isAjaxTemplateRenderWithData:true,},success:function(R){O.removeClass("loading");$(".dialog-content .message",O).html(R.template);O.dialog("option","position",{of:window});M=O.find(".js-login-form");K=$(".js-error-box",M);var S=$('[type="text"], [type="password"]',O);S.on("keydown",function(T){if(T.which==13){T.preventDefault();$("#btnConfirmDialogYes",O).click()}});S.filter(":visible").first().focus()},api_error:F.showApiError,title_phrase:Q,error_phrase:"error_loading_delete_form",after_error:function(){O.dialog("close")}})};F.library={};F.library.inlineMod=function(K){D("inlinemod_auth",K,A,"cplogin")};return F};;

// ***************************
// js.compressed/global.js
// ***************************
/*=======================================================================*\
|| ###################################################################### ||
|| # vBulletin 5.6.1 Patch Level 1
|| # ------------------------------------------------------------------ # ||
|| # Copyright 2000-2020 MH Sub I, LLC dba vBulletin. All Rights Reserved.  # ||
|| # This file may not be redistributed in whole or significant part.   # ||
|| # ----------------- VBULLETIN IS NOT FREE SOFTWARE ----------------- # ||
|| # http://www.vbulletin.com | http://www.vbulletin.com/license.html   # ||
|| ###################################################################### ||
\*========================================================================*/
(function(H){H(".js-module__hide-if-empty:not(:has(*))").each(function(){var O=H(this);if(/\s/.test(O.html())){O.closest(".js-module").hide()}});jQuery.ajaxPrefilter(function(O){if(O.crossDomain){O.contents.script=false}});H.ajaxPrefilter("script",function(O){O.cache=true});window.vBulletin.normalizeAjaxUrl=function(O){if(O.indexOf("http://")==0){return O.substring(5)}else{if(O.indexOf("https://")==0){return O.substring(6)}else{return O}}};window.vBulletin.getAjaxBaseurl=function(){return window.vBulletin.normalizeAjaxUrl(pageData.baseurl)};vBulletin.getAbsoluteUrl=(function(){var O;return function(P){if(!O){O=document.createElement("a")}O.href=P;return O.href}})();vBulletin.regexEscape=function(O){return O.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")};vBulletin.isInternalUrl=(function(){var O=vBulletin.normalizeAjaxUrl(pageData.baseurl),P=new RegExp("^"+vBulletin.regexEscape(O));return function(Q){Q=vBulletin.normalizeAjaxUrl(vBulletin.getAbsoluteUrl(Q));return P.test(Q)}})();vBulletin.isInternalJSUrl=(function(){var O=vBulletin.normalizeAjaxUrl(pageData.baseurl),P=new RegExp("^"+vBulletin.regexEscape(O+"/js/")+".*.js");return function(Q){Q=vBulletin.normalizeAjaxUrl(vBulletin.getAbsoluteUrl(Q));return P.test(Q)}})();vBulletin.isAbsoluteUrl=(function(){var O=new RegExp("^(?:[a-z]+:)?//","i");return function(P){return O.test(P)}})();vBulletin.isEmptyList=function(O){return((H.isArray(O)&&O.length==0)||(H.isPlainObject(O)&&H.isEmptyObject(O)))};H.ajaxPrefilter(function(O,S,Q){if(O.url&&(!vBulletin.isInternalUrl(O.url)||vBulletin.isInternalJSUrl(O.url))){return }if(typeof (O.data)=="undefined"){O.data="securitytoken="+pageData.securitytoken;if(typeof O.formData!=="undefined"){if(Array.isArray(O.formData)){O.formData.push({name:"securitytoken",value:pageData.securitytoken})}}}else{if(typeof FormData!=="undefined"&&O.data instanceof FormData){O.data.append("securitytoken",pageData.securitytoken)}else{var P=true;var R=O.data.split("&");H.each(R,function(T,U){if(U.match(/^securitytoken=/)){P=false;return false}});if(P){O.data+="&securitytoken="+pageData.securitytoken}}}});H.ajaxPrefilter(function(O,Q,P){(function(){var S=vBulletin.getAjaxBaseurl();if((Q.url.indexOf(S)==0&&Q.url.substr(S.length).indexOf("/ajax/render/")==0)||(Q&&Q.data&&Q.data.isAjaxTemplateRender)){var R=O.success;O.success=function(){console.log("Intercept AJAX template render calls: Start (URL: {0})".format(O.url));var Y=arguments[0];if(!Y||typeof Y!="object"||H.isEmptyObject(Y)){if(typeof R=="function"){return R.apply(this,arguments)}return false}if(Q.data&&Q.data.isAjaxTemplateRenderWithData){arguments[0]=Y}else{arguments[0]=Y.template;arguments[1]=Y.errors}var d=Y.css_links;if(!d||d.length==0){console.log("Intercept AJAX template render calls: No CSS");if(typeof R=="function"){console.log("Intercept AJAX template render calls: Calling original success handler");return R.apply(this,arguments)}}else{console.log("Intercept AJAX template render calls: Has CSS");var X=/sheet=([^&]+)&/,f=d.pop(),a=(f.match(X)!=null);d.push(f);var T=function(h){var j=h.match(X);var g={};if(j&&j[1]){H.each(j[1].split(","),function(k,l){g[l]=h})}else{g[h.replace(/^.*\//g,"")]=h}return g};var Z={};H("head link[rel=stylesheet]").each(function(){H.extend(Z,T(H(this).attr("href")))});var c={};H.each(d,function(g,h){H.extend(c,T(h))});var e=[];H.each(c,function(g,h){if(g&&typeof Z[g]=="undefined"){if(a){e.push(g)}else{e.push(h)}}});if(e.length==0){console.log("Intercept AJAX template render calls: Needed CSS is already on the page");if(typeof R=="function"){console.log("Intercept AJAX template render calls: Calling original success handler");return R.apply(this,arguments)}}else{var V=[];if(a){console.log("Intercept AJAX template render calls: found DB CSS");V.push(f.replace(/sheet=[^&]+&/,"sheet="+e.join(",")+"&"))}else{console.log("Intercept AJAX template render calls: found FS CSS");V=e}var U=this,b=arguments;console.log("Intercept AJAX template render calls: Fetching CSS: {0}".format(V.join(", ")));var W=function(h){if(h.length==0){console.log("Intercept AJAX template render calls: Done. Calling original callback.");window.setTimeout(function(){if(typeof R=="function"){return R.apply(U,b)}},50);return }var g=H("<div />").append(h.shift()).text();console.log("Intercept AJAX template render calls: Fetching CSS file: {0}".format(g));H.get(g,{cache:true},function(k){var j=H("<link />",{rel:"stylesheet",type:"text/css",href:g}),l=H(".js-additional-css");if(l.length==1){l.before(j)}else{H("head").append(j)}}).then(function(){console.log("Intercept AJAX template render calls: Fetched CSS file: {0}".format(g));if(H(".js-debug-css-template-list").length>0){var k=T(g),j=H("<ol />");H.each(k,function(n,o){if(a){j.append(H("<li />").append(n))}else{j.append(H("<li />").append(o))}});var l=H(".js-debug-css-template-list").append(H("<li />").append(vBulletin.phrase.get("added_via_ajax_call")+":").append(j));var m=l.prev("b");m.text(parseInt(m.text(),10)+1)}W(h)},function(){console.warn("Intercept AJAX template render calls: Failed to fetch CSS file: {0}".format(g));W(h)})};W(V)}}}}})()});String.prototype.format=function(){var P=this,O=arguments.length;while(O--){P=P.replace(new RegExp("\\{"+O+"\\}","gm"),arguments[O])}return P};jQuery.fn.reverse=[].reverse;window.vBulletin=window.vBulletin||{};vBulletin.getStackTrace=function(){var O=new Error();return O.stack};vBulletin.isRtl=function(){return(H("html").attr("dir")=="rtl")};if(typeof H.cookie.defaults=="object"){H.cookie.defaults.secure=((pageData.baseurl.substr(0,5).toLowerCase()=="https")||location.protocol=="https:")}var F=vBulletin.createStorageTools(pageData.cookie_prefix,pageData.cookie_path,pageData.cookie_domain);vBulletin.storagetools=F;jQuery.fn.swipeable=function(P){P=P||{};if(typeof P=="object"){P.swiping=P.swiping||function(){};P.swipeend=P.swipeend||function(){};P.swipeleft=P.swipeleft||function(){};P.swiperight=P.swiperight||function(){};P.swipeup=P.swipeup||function(){};P.swipedown=P.swipedown||function(){}}var W=false,Y=false,V={start:null,previous:null,current:null,moved:null,totalMoved:null,target:null,};function X(a){var Z={x:0,y:0};try{Z={x:a.pageX||a.originalEvent.touches[0].pageX||0,y:a.pageY||a.originalEvent.touches[0].pageY||0,}}catch(a){}return Z}function T(Z,a){return{x:Z.x-a.x,y:Z.y-a.y,}}function R(){if(!V.totalMoved){return false}var d=40,c=Math.abs(V.totalMoved.x),b=Math.abs(V.totalMoved.y),a=Math.max(c,b),Z=Math.min(c,b);if(a<d){return false}if(a<=(Z*2)){return false}if(c>b){return V.totalMoved.x<0?"left":"right"}else{return V.totalMoved.y<0?"up":"down"}}function U(Z){W=true;Y=false;V.start=X(Z);V.previous=X(Z);V.current=X(Z);V.moved={x:0,y:0};V.totalMoved={x:0,y:0};V.target=Z.target;if(Z.type!="touchstart"){Z.preventDefault()}}function S(Z){if(W){V.current=X(Z);V.moved=T(V.current,V.previous);V.totalMoved=T(V.current,V.start);if(V.moved.x||V.moved.y){Y=true}P.swiping.call(this,Z,V);V.previous=V.current}}function O(Z){if(W){if(Z.type=="mouseup"&&Z.target!=V.target){Q.call(this,Z)}else{if(Z.type=="mouseleave"){Q.call(this,Z)}}}W=false;Z.preventDefault()}function Q(b){var Z=R();if(Z){var a="swipe"+Z;P[a].call(this,b,V)}P.swipeend.call(this,b,V);W=false;V={start:null,previous:null,current:null,moved:null,totalMoved:null,target:null,};if(Y){Y=false;return false}}return this.each(function(){var Z=H(this);if(P=="disable"){Z.off(".vbswipeable","body")}else{Z.on("mousedown.vbswipeable touchstart.vbswipeable","body",U).on("mousemove.vbswipeable touchmove.vbswipeable","body",S).on("mouseup.vbswipeable mouseleave.vbswipeable touchcancel.vbswipeable","body",O).on("click.vbswipeable touchend.vbswipeable","body",Q)}})};H.widget("ui.dialog",H.ui.dialog,{_allowInteraction:function(O){if(this._super(O)){return true}if(O.target.ownerDocument!=this.document[0]){return true}if(H(O.target).closest(".cke_dialog").length){return true}if(H(O.target).closest(".cke").length){return true}}});(function(){var O=jQuery.fn.dialog;jQuery.fn.dialog=function(){if(typeof arguments[0]=="object"){var P=function(){};if(typeof arguments[0].open=="function"){P=arguments[0].open}arguments[0].open=function(){var R=H(this);window.setTimeout(function(){vBulletin.Responsive.Debounce.runCallbacks();R.closest(".ui-dialog").find(".ui-dialog-titlebar-close .ui-icon").removeClass("ui-icon ui-icon-closethick").addClass("b-icon b-icon__x-square--gray")},0);R.closest(".ui-dialog").find(".ui-dialog-content").removeClass("h-hide");return P.apply(this,arguments)};var Q=function(){};if(typeof arguments[0].close=="function"){Q=arguments[0].close}arguments[0].close=function(){H(this).closest(".ui-dialog").find(".ui-dialog-content").addClass("h-hide");return Q.apply(this,arguments)}}return O.apply(this,arguments)}})();(function(){var O=jQuery.fn.selectBox;jQuery.fn.selectBox=function(){var P=H(this);if(typeof P.attr("tabindex")=="undefined"){P.attr("tabindex","0")}var Q=O.apply(this,arguments);H(".selectBox-arrow").addClass("b-icon b-icon__arrow-down-s");return Q}})();(function D(){(function(){var O=H(".js-login-menu");O.find(".js-comp-menu-dropdown__trigger").on("click",function(){setTimeout(function(){O.find(".js-login-username").focus()},0)});(function(){var V=H(".js-top-menu-user--list"),P=[".js-header__notifications-label",".js-pmchat__messages-label",".js-menu__username-label"],T=P.slice(0).reverse();function S(){var W=vBulletin.Responsive.Debounce.checkElementShrinkRequirement(V);return W=="need_shrink"}function Q(W,X){H(W).toggleClass("h-hide-imp",!X)}function R(){H.each(P,function(X,W){Q(W,false);if(!S()){return false}})}function U(){H.each(T,function(X,W){Q(W,true);if(S()){Q(W,false);return false}})}V.on("vbulletin:shrink",R).on("vbulletin:unshrink",U)})();(function(){var T=H(".js-top-menu-sitebuilder--list"),S=T.find(".b-top-menu__item"),W=S.find(".js-top-menu-link"),U=T.closest(".js-top-menu-sitebuilder");function Z(){var a=vBulletin.Responsive.Debounce.checkElementShrinkRequirement(T);return a=="need_shrink"}function P(a){W.toggleClass("b-top-menu__item-link--compact",a)}function V(a){U.toggleClass("b-top-menu__background--compact",a)}function X(a){vBulletin.CompMenuHorizontal.convertDropdownProgressive({$parent:T,$children:S,removeMenu:!a,})}var Y=[P,V,X,];function R(){H.each(Y,function(a,b){b(true);if(!Z()){return false}})}function Q(){var a=Y.length;while(--a>=0){Y[a](false);if(Z()){Y[a](true);break}}}T.on("vbulletin:shrink",R).on("vbulletin:unshrink",Q)})()})();H(".ui-tabs .ui-tabs-nav > li").addClass("ui-state-disabled");H(".announcement-tabs .ui-tabs-nav > li").removeClass("ui-state-disabled")})();window.vBulletin.runBeforeCallback=function(Q,P){if(H.isArray(Q)){Q.unshift(P)}else{var O=Q;Q=function(){P.apply(this,arguments);if(typeof O=="function"){O.apply(this,arguments)}}}return Q};window.vBulletin.pageHasSelectors=function(O){if(H.isArray(O)&&O.length>0&&H.trim(O.toString())!=""){var P=false;H.each(O,function(Q,R){if(H(R).length>0){P=true;return false}});return P}return true};window.vBulletin.areJsonObjectsEqual=function(Q,O){var P=function(T,S){for(var R in T){if(T.hasOwnProperty(R)&&S.hasOwnProperty(R)){var V=T[R],U=S[R];if(V!=U){if(V instanceof Array&&U instanceof Array){if(H(V).not(U).length>0||H(U).not(V).length>0){return false}else{continue}}else{return false}}}else{return false}}return true};return(Object.keys(Q).length==Object.keys(O).length)?P(Q,O):false};window.vBulletin.ajaxSetup=(function(){var O=false;return{init:function(){if(O){return }O=true;H.ajaxSetup({contentType:"application/x-www-form-urlencoded; charset=UTF-8"})}}})();window.vBulletin.ajaxSetup.init();window.vBulletin.ajaxProfile=(function(){var Q=[],R=false,P=true,O=false;return{init:function(){if(R){return }R=true;H(function(){if(H("#debug-information").length==0){P=false}H("<ol />").attr("id","debug-ajax-request-list").hide().css({height:"150px",overflow:"auto",padding:"4px",border:"1px solid #CCC",background:"#EEE","margin-top":"2px","margin-bottom":"4px"}).appendTo(H("#debug-information #debug-ajax-request-count").closest("li"));H("#debug-information #debug-ajax-request-count").css("cursor","pointer").on("click",function(){H("#debug-ajax-request-list").toggle()});O=true});function S(){if(O){H("#debug-information #debug-ajax-request-count").text(Q.length);H.each(Q,function(){if(!this.displayed){this.displayed=true;this.relUrl=this.url.indexOf(pageData.baseurl)==0?this.url.substring(pageData.baseurl.length):this.url;H("<li />").addClass("js-request-counter-"+this.requestCounter).text(this.relUrl).appendTo(H("#debug-ajax-request-list"))}var T=this.totalTimeTaken-this.networkTimeTaken;var U='{0} <span style="font-size:x-small;">({1}, <span title="Request Time: {2}ms, Processing Time: {3}ms, Total Time: {4}ms" style="text-decoration:underline;">{2}ms, {3}ms</span>){5}</span>'.format(this.relUrl,this.status,this.networkTimeTaken,T,this.totalTimeTaken,(this.errorThrown?" Error: "+this.errorThrown:""));H("#debug-ajax-request-list .js-request-counter-"+this.requestCounter).html(U)})}}H.ajaxPrefilter(function(T,W,U){if(!P){return }var V=Q.length;Q.push({displayed:false,url:T.url,relUrl:"",startTimeStamp:(new Date()).getTime(),endTimeStamp:0,finalTimeStamp:0,textStatus:"UNKNOWN",errorThrown:"",requestCounter:V,networkTimeTaken:0,totalTimeTaken:0});T.success=vBulletin.runBeforeCallback(T.success,function(Y,Z,X){Q[V].endTimeStamp=(new Date()).getTime()});T.error=vBulletin.runBeforeCallback(T.error,function(X,Z,Y){Q[V].endTimeStamp=(new Date()).getTime();Q[V].errorThrown=Y});T.complete=vBulletin.runBeforeCallback(T.complete,function(X,Y){Q[V].finalTimeStamp=(new Date()).getTime();Q[V].status=Y;Q[V].networkTimeTaken=Q[V].endTimeStamp-Q[V].startTimeStamp;Q[V].totalTimeTaken=Q[V].finalTimeStamp-Q[V].startTimeStamp;S()})})}}})();window.vBulletin.ajaxProfile.init();window.vBulletin.loadingIndicator=(function(){var T=0,S=false,R=false,P=0,O=0;function Q(V){if(V){var X=H(".js-loading-indicator"),W=X.outerWidth(),U=vBulletin.isRtl(),Y=U?"margin-right":"margin-left";if(W>0){X.css(Y,-(W/2))}X.removeClass("h-hide");H("body").css("cursor","wait")}else{H(".js-loading-indicator").addClass("h-hide");H("body").css("cursor","auto")}}return{init:function(){if(S){return }H(document).ajaxStart(function(){window.vBulletin.loadingIndicator.show("ajaxStart")});H(document).ajaxStop(function(){window.vBulletin.loadingIndicator.hide("ajaxStop")});S=true},show:function(U){if(P>0&&U=="ajaxStart"){--P;++O;console.log("vBulletin.loadingIndicator.show ajax indicator suppressed");return }++T;console.log("vBulletin.loadingIndicator.show Counter: "+T+" Source: "+(U||"Unspecified"));if(T>0){R=window.setTimeout(function(){if(R){Q(true);R=false}},1000)}},hide:function(U){if(O>0&&U=="ajaxStop"){--O;console.log("vBulletin.loadingIndicator.hide ajax indicator suppressed");return }--T;T=T<0?0:T;if(!U){T=0}console.log("vBulletin.loadingIndicator.hide Counter: "+T+" Source: "+(U||"Unspecified"));if(T<1){if(R){window.clearTimeout(R);R=false}Q(false)}},suppressNextAjaxIndicator:function(){++P}}})();window.vBulletin.phrase=window.vBulletin.phrase||{};window.vBulletin.phrase.precache=window.vBulletin.phrase.precache||[];window.vBulletin.phrase.precache=H.merge(window.vBulletin.phrase.precache,["cancel","no","ok","yes","admin","admin_auth","april","attach_link","attach_video","august","cancel","cancel_edit","close","compare_versions","conversation","december","done","edit_conversation","email_addresses_must_match","error","error_loading_ckeditor_script","error_loading_editor","error_loading_post","error_posting_comment_code","error_saving_vote","error_x","existing_reply_will_be_deleted","february","flag_a_post","follow","follow_error","following","following_pending","following_remove","friday_min","go_to_first_new_post","hour","inlinemod_auth_password_empty","invalid_data","invalid_data_requested","invalid_email_address","invalid_request","invalid_server_response_please_try_again","invalid_special_channel_subscribe_request","invalid_user_permissions","invalid_username_specified","invalid_username_specified_maxlength_x","invalid_username_specified_minlength_x","invalid_query_definition_x","january","join","joined","join_error","july","june","leave","loading","logged_out_while_editing_post","login","login_success_admin_auth","march","may","minute","moderator","monday_min","new_posts","no","no_create_permissions","no_icon","no_leave_channel_permission","no_one_voted","no_permission","no_update_permissions","no_valid_tags_found","not_logged_no_permission","november","now","october","onbeforeunload_message_while_editing_post","people_who_liked","physically_remove_blog","physically_remove_comment","physically_remove_media","physically_remove_reply","physically_remove_topic","physically_remove_visitorMessage","please_enter_a_username","please_enter_a_valid_url_and_click_attach","please_enter_link_url","please_enter_video_url","please_enter_your_comment","please_enter_your_email_address","please_enter_your_reason_why_you_want_to_flag_this_post","please_provide_search_string","post_comment","post_history","posttype_blog","posttype_comment","posttype_media","posttype_reply","posttype_topic","posttype_visitorMessage","preview","refer_a_friend","saturday_min","search","see_less","see_more","select_option_and_click_delete_button_blog","select_option_and_click_delete_button_comment","select_option_and_click_delete_button_media","select_option_and_click_delete_button_reply","select_option_and_click_delete_button_topic","select_option_and_click_delete_button_visitorMessage","send_report","september","soft_delete_blog","soft_delete_comment","soft_delete_media","soft_delete_notes_blog","soft_delete_notes_comment","soft_delete_notes_media","soft_delete_notes_reply","soft_delete_notes_topic","soft_delete_notes_visitorMessage","soft_delete_reply","soft_delete_topic","soft_delete_visitorMessage","sunday_min","thanks_for_signing_up_log_in","the_report_has_been_sent","time","tuesday_min","thursday_min","unable_to_check_admin_permissions","unable_to_contact_server_please_try_again","unexpected_error","unfollow_error","unvote_cap","usernametaken","vote_a_post","vote_cap","wednesday_min","yes","you_have_a_pending_edit_unsaved"]);window.vBulletin.options=window.vBulletin.options||{};window.vBulletin.options.precache=window.vBulletin.options.precache||["bbtitle","crontab","bbtitle","markinglimit","threadpreview"];var C=vBulletin.createSiteDataTools(vBulletin.getAjaxBaseurl());C.phrase.init(pageData,pageData.languageid,F.createStorageTimed("phrase",pageData.phrasedate,pageData.current_server_datetime),vBulletin.phrase.precache);H.extend(vBulletin.phrase,C.phrase);C.options.init(F.createStorageTimed("options",pageData.optionsdate,pageData.current_server_datetime),vBulletin.options.precache);H.extend(vBulletin.options,C.options);vBulletin.ajaxtools=vBulletin.createAjaxTools(vBulletin.getAjaxBaseurl(),pageData.userid);vBulletin.ajaxlib=vBulletin.ajaxtools.library;vBulletin.AJAX=vBulletin.ajaxtools.ajax;vBulletin.ajaxForm=vBulletin.ajaxtools.ajaxForm;window.vBulletin.getScrollbarWidth=function(){if(H("body").data("scrollbar-width")){return H("body").data("scrollbar-width")}var O=H('<div style="width:50px;height:50px;overflow:auto;position:absolute;top:-99999px;"><div /></div>').appendTo("body"),Q=O.children(),P=Q.innerWidth()-Q.height(99).innerWidth();O.remove();H("body").data("scrollbar-width",P);return P};window.vBulletin.assertUserHasAdminPermission=function(R,Q,O,P){if(H(Q).data("in-progress")){return false}H("body").css("cursor","wait");H(Q).data("in-progress",true);vBulletin.AJAX({call:"/ajax/api/user/currentUserHasAdminPermission",data:{adminPermission:R},complete:function(){H("body").css("cursor","auto");H(Q).data("in-progress",null)},success:function(S){if(S===true){O()}else{vBulletin.error("error","unable_to_check_admin_permissions");H("#config-dialog .loader").hide()}},api_error:(typeof P=="undefined"?undefined:function(S){if(vBulletin.ajaxtools.hasError(S,"inlinemodauth_required")){vBulletin.ajaxlib.inlineMod(P);return false}return true}),error_phrase:"unable_to_check_admin_permissions",})};vBulletin.selectTabByIndex=function(O){var P=this instanceof H?this:H(this);if(P.length&&O>-1&&P.hasClass("ui-tabs")){P.data("noPushState",true).tabs("option","active",O).data("noPushState",null).find(".ui-tabs-nav li").removeClass("ui-state-focus").eq(O).addClass("ui-state-focus").find("a").focus()}};H.ui.tabs.prototype._isLocal=function(){return true};(function(){var O=H.ui.tabs.prototype._processTabs;H.ui.tabs.prototype._processTabs=function(){var P=O.apply(this,arguments);this.panels.removeClass("h-hide");return P}})();vBulletin.tabify=function(P){var Q=this instanceof H?this:H(this);if(Q.length){var O={tabOptions:{},tabHistory:null,allowHistory:false,tabParamAsQueryString:true,hash:"",getTabIndexByHash:function(){return -1}};P=H.extend({},O,P);if(P.tabHistory instanceof vBulletin.history.instance&&P.tabHistory.isEnabled()){Q.on("tabscreate",function(U,W){var R=vBulletin.parseQueryString(location.search,["_"]),X=Object.keys(R).length,T=vBulletin.getSelectedTabHashOrPath(Q,P.tabParamAsQueryString),V=P.tabHistory.getState();if(((P.tabParamAsQueryString&&X>1&&typeof R.tab!="undefined")||(!P.tabParamAsQueryString&&X>0))&&(!V||H.isEmptyObject(V.data))){var S={from:"tabs",tab:T};P.tabHistory.setDefaultState(S,document.title,location.href)}P.tabHistory.setStateChange(function(d){var c=P.tabHistory.getState();if(c.data.from=="tabs"){P.tabHistory.log(c.data,c.title,c.url);var a=P.getTabIndexByHash(c.data.tab),Y=vBulletin.parseQueryString(c.url,["tab","_"]);if(Q.tabs("option","selected")!=a){vBulletin.selectTabByIndex.call(Q,a);if(!H.isEmptyObject(Y)){H(window).trigger("statechange.filter",["tabs",Y])}}else{if(!H.isEmptyObject(Y)){H(window).trigger("statechange.filter",["tabs",Y])}else{var Z,b,f;if(c.data.tab){b=P.tabParamAsQueryString?H(c.data.tab):H('.ui-tabs .ui-tabs-panel[data-url-path="'+c.data.tab+'"]')}Z=(b&&b.length&&b)||H(Q.closest(".canvas-widget").data("widget-default-tab"));f=H(".toolbar-filter-overlay .filter-options .js-default-checked",Z);if(f.length){f.prop("checked",true).first().data("bypass-filter-display",true).trigger("change",[true]).data("bypass-filter-display",null);H(".filtered-by",Z).addClass("h-hide").find(".filter-text-wrapper").empty()}else{H(".conversation-toolbar .js-default-checked",Z).first().trigger("click",[true])}}}}},"tabs");if(typeof P.tabOptions.create=="function"){P.tabOptions.create.call(Q[0],U,W)}})}if(P.allowHistory&&P.tabHistory instanceof vBulletin.history.instance){Q.on("tabsbeforeactivate",function(W,X){var R=X.newPanel,U=X.newTab;if(typeof P.tabOptions.beforeActivate=="function"&&P.tabOptions.beforeActivate.call(this,W,X)===false){return false}var T,Y=(P.tabParamAsQueryString?R.selector:H(U.context).data("url-path")),V=undefined;if(!P.tabParamAsQueryString){V=[];Q.find(".ui-tabs-nav > li > a, .widget-tabs-panel").each(function(Z,b){var a=H(this).data("url-path");if(H.inArray(a,V)==-1){V.push(a)}})}if(!P.tabHistory.isEnabled()){T=vBulletin.makeFilterUrlFromSelectedFilters(R,Y.replace("#",""),P.tabParamAsQueryString,V,P.hash);location.href=T;return false}if(!Q.data("noPushState")){var S={from:"tabs",tab:Y};T=vBulletin.makeFilterUrlFromSelectedFilters(R,Y.replace("#",""),P.tabParamAsQueryString,V);P.tabHistory.pushState(S,document.title,T)}else{Q.data("noPushState",null)}})}Q.tabs(P.tabOptions)}return Q};vBulletin.getSelectedTabHashOrPath=function(P,Q){var O;if(Q){O=P.find(".ui-tabs-nav > .ui-tabs-active > a").prop("hash")}else{O=P.find(".ui-tabs-nav > .ui-tabs-active > a").data("url-path")}return O||""};vBulletin.parseUrl=function(P){var O=document.createElement("a"),Q;O.href=P||"/";Q=O.pathname;if(Q.indexOf("/")!=0){Q="/"+Q}return{protocol:O.protocol,hostname:O.hostname,port:O.port,pathname:Q,search:O.search,hash:O.hash}};vBulletin.makeHistoryUrl=function(T,O,R,P,S){var Q=vBulletin.makePaginatedUrl(T,O);Q=vBulletin.makeTabUrl(Q,R.tab,R.tabParamAsQueryString);Q=vBulletin.makeFilterUrl(Q,P.filterName,P.filterValue,P.context,S);return Q};vBulletin.makeTabUrl=function(P,R,V,T,S){if(P){var U=vBulletin.parseUrl(P),W;if(V){S=S||"tab";W=new RegExp("([?+|&+])"+S+"=\\w+[-\\w]*","i");if(U.search.match(W)){P=U.pathname+U.search.replace(W,"$1{0}={1}".format(S,R))}else{if(U.search){P="{0}{1}&{2}={3}".format(U.pathname,U.search,S,R)}else{P="{0}?{1}={2}".format(U.pathname,S,R)}}}else{var Q=U.pathname.replace(/\/$/,""),O=Q.split("/");W="\\/"+O[O.length-(Q.match(/\/page([0-9]+)/)?2:1)]+"$";P=U.pathname.replace(new RegExp(W),"/"+R)+U.search}}else{P="/"}if(T){P+="#"+T}return P};vBulletin.makePaginatedUrl=function(Q,P){if(Q){var O=Q.match(/\/page[0-9]+/);if(O){if(P>1){Q=Q.replace(O[0],"/page"+P)}else{Q=Q.replace(O[0],"")}}else{if(P>1){if(Q.match(/\?/)){Q=Q.replace(/\?/,"/page"+P+"?")}else{if(Q.match(/\#/)){Q=Q.replace(/\#.*/,"/page"+P)}else{Q+="/page"+P}}}}}return Q};vBulletin.makeFilterUrl=function(O,T,X,P,S,Q){Q=Q||false;O=O||location.href;var Y=H(".filtered-by",P),V=vBulletin.parseUrl(O),Z=V.search;var U=H(".js-button-filter.js-default-checked.js-checked",P);if(U.data("filter-name")==T&&U.data("filter-value")==X){Q=true}if(!Q&&((Y.data("clicked")&&H('.toolbar-filter-overlay input[name="{0}"][value="{1}"]'.format(T,X),P).hasClass("js-default-checked"))||(H('.toolbar-search-form input[name="{0}"]'.format(T),P).length&&!X))){Q=true;Y.data("clicked",null)}O=V.pathname;if(Z&&Z.length>1){if(Z.match(new RegExp(T+"=","i"))){var R=vBulletin.parseQueryString(Z);if(!H.isEmptyObject(R)){var W="";H.each(R,function(a,b){if(!Q||a!=T){W+="{0}={1}&".format(a,(a==T?X:b))}});if(W){O+="?"+W.substring(0,W.length-1)}}}else{if(!Q){O+=Z+"&{0}={1}".format(T,encodeURIComponent(X))}else{O+=Z}}}else{if(!Q){O+="?{0}={1}".format(T,encodeURIComponent(X))}}if(S){O+="#"+S}return O};vBulletin.getSelectedFilters=function(O,P){var Q={};if(!P){var R=O.serializeArray();H.each(R,function(U,V){if(V.name!="securitytoken"){if(V.name.slice(-2)=="[]"){var T=V.name.split("[]");Q[T[0]]=Q[T[0]]||[];Q[T[0]].push(V.value)}else{Q[V.name]=V.value}}})}else{var S=O.parent().find(".filtered-by .filter-text").filter(":visible");O.find(":input:radio:checked").each(function(U,W){var V=H(W);if((V.hasClass("js-default-checked")||V.data("bypass-filter-display")==1)&&(S.length==0||S.filter('[data-filter-name={0}][data-filter-value="{1}"]').length==0)){return true}if(W.name.slice(-2)=="[]"){var T=W.name.split("[]");Q[T[0]]=Q[T[0]]||[];Q[T[0]].push(W.value)}else{Q[W.name]=W.value}})}return Q};vBulletin.makeFilterUrlFromSelectedFilters=function(S,T,c,Y,V){var a,R=location.pathname.replace(/\/$/,"").replace(/\/page[0-9]+/,""),Q=H(".toolbar-filter-overlay",S),X=vBulletin.getSelectedFilters(Q,true),Z=H(".pagenav-form .js-pagenum",S).val()||1,U=H(".toolbar-search-form .js-filter-search",S).val()||"",e=H(S).closest(".canvas-widget"),b=H(".conversation-toolbar-wrapper",S).length?(H(".conversation-toolbar-wrapper",S).data("allow-history")=="1"):(H(S).data("allow-history")=="1"),P=new vBulletin.history.instance(b),O=e.data("widget-default-tab")||e.find(".ui-tabs-nav > li:first-child a").attr("href");if(H.isEmptyObject(X)){H(".conversation-toolbar .js-button-filters",S).each(function(){var f=H(".js-button-filter.js-checked:not(.js-default-checked)",this);if(f.length){X[f.data("filter-name")]=f.data("filter-name")}})}if(!c){var d=new RegExp("\\/("+Y.join("|")+")/?$"),W=R.match(d);if(W){R=R.replace(new RegExp(W[0]),"/"+T)}else{R+="/"+T}}if(Z>1&&P.isEnabled()){R+="/page"+Z}if(c&&T&&O!=("#"+T)){X.tab=T;if(!P.isEnabled()){R+="?tab="+T}}if(!P.isEnabled()){return R+(V?"#"+V:"")}if(U){X.q=U}a=H.param(X);return R+(a?"?"+a:"")+(V?"#"+V:"")};vBulletin.parseQueryString=function(R,P){var O={},S;if(R&&R.length>1){S=R.indexOf("?");P=(P instanceof Array)?P:[];if(S!=-1){var Q=R.substring(S+1).split("&");H.each(Q,function(T,V){var U=V.split("=");if(P.length==0||(H.inArray(U[0],P)==-1)){O[U[0]]=decodeURIComponent((U[1]||"")).replace(/\+/g," ")}})}}return O};vBulletin.togglePageScrolling=function(Q){var T=H(window),P=T.scrollTop(),S=T.scrollLeft(),O="scroll.vbtogglepagescrolling";function R(){T.scrollTop(P).scrollLeft(S)}T.off(O);if(!Q){T.on(O,R)}};vBulletin.pagination=function(U){var c={context:document,onPageChanged:null,tabParamAsQueryString:true,allowHistory:false};if(U&&typeof U=="object"){H.extend(c,U)}var Q,R=H(".pagenav-controls .pagenav-form",c.context),b=Number(H(".defaultpage",R).val())||Number(H(".js-pagenum",R).val())||1,W=new vBulletin.history.instance(c.allowHistory);R.data("object-instance",this);if(W.isEnabled()){var X=vBulletin.parseQueryString(location.search,["_"]),S=location.pathname.match(/\/page([0-9]+)/),P=W.getState();if(S&&Number(S[1])>1&&H.isEmptyObject(X)&&(!P||H.isEmptyObject(P.data))){Q=vBulletin.makePaginatedUrl(location.href,b);var Y={from:"pagination",page:b,tab:c.tabParamAsQueryString?"#"+R.closest(".ui-tabs-panel").attr("id"):vBulletin.getSelectedTabHashOrPath(R.closest(".ui-tabs"),false)};W.setDefaultState(Y,document.title,Q)}W.setStateChange(function(m){var d=W.getState();if(d.data.from=="pagination"){W.log(d.data,d.title,d.url);if(location.search){var o=vBulletin.parseQueryString(location.search,["_"]);if(!H.isEmptyObject(o)||o.tab=="groups-tab"){delete o.tab;H(window).trigger("statechange.filter",["pagination",o]);return }}var j,g,q,n,l;if(d.data.tab){j=c.tabParamAsQueryString?H(d.data.tab):H('.ui-tabs .ui-tabs-panel[data-url-path="'+d.data.tab+'"]')}g=(j&&j.length&&j)||c.context;q=H(".conversation-toolbar .filter-wrapper",g).data("object-instance");if(q){q.resetFilters(true)}if(d.data.tab){n=j.closest(".ui-tabs");$tabAnchor=c.tabParamAsQueryString?n.find('.ui-tabs-nav > li > a[href*="{0}"]'.format(d.data.tab)):n.find('.ui-tabs-nav > li > a[data-url-path="'+d.data.tab+'"]');if(!$tabAnchor.parent().hasClass("ui-tabs-active")){var k=$tabAnchor.parent().index();vBulletin.selectTabByIndex.call(n,k);return }}var r=H(".pagenav-controls .pagenav-form",g);var h=r.data("object-instance");if(h&&typeof h.getOption=="function"&&typeof h.getOption("onPageChanged")=="function"){var f=d.data.page||b;h.getOption("onPageChanged").apply(r.get(0),[f,false,!location.search,location.search])}}},"pagination")}function O(){return parseInt((H(".pagetotal",this).html()||"").replace(/[^\d]+/g,""),10)||1}function V(e,j){var h=O.apply(this),d=H(".arrow[rel=next]",this),g=H(".arrow[rel=prev]",this);if(e<1){e=1}else{if(e>h){e=h}}H(".js-pagenum",this).val(e);if(e==h){d.addClass("h-disabled").removeAttr("href")}else{d.removeClass("h-disabled").attr("href",vBulletin.makePaginatedUrl(location.href,e+1))}if(e==1){g.addClass("h-disabled").removeAttr("href")}else{g.removeClass("h-disabled").attr("href",vBulletin.makePaginatedUrl(location.href,e-1))}if(typeof c.onPageChanged=="function"){c.onPageChanged.apply(this,[e,j])}if(h>1&&W.isEnabled()&&!j){var k=W.getState();if(!k||!k.data||!k.data.from||H.inArray(k.data.from,["filter_blogs","filter_groups"]==-1)){if(e==1){Q=H(".arrow[rel=next]",this).attr("href")}else{Q=H(".arrow[rel=prev]",this).attr("href")}if(Q){Q=vBulletin.makePaginatedUrl(Q,e);var f={from:"pagination",page:e,tab:c.tabParamAsQueryString?"#"+H(this).closest(".ui-tabs-panel").attr("id"):vBulletin.getSelectedTabHashOrPath(H(this).closest(".ui-tabs"),false)};W.pushState(f,document.title,Q)}}}}function a(d){var e=parseInt(d);if(e&&typeof e==="number"){H("input[name=result-id]",R).val(e)}}function T(d){H("a.see-all-btn",this).closest(".pagenav-controls")[d?"addClass":"removeClass"]("h-hide")}H(".arrow",R).off("click").on("click",function(f){var e=H(this),g=this.form||e.closest("form").get(0);if(!e.hasClass("h-disabled")){var d=parseInt(H(".js-pagenum",g).val())+((e.attr("rel")=="next")?1:-1);if(!W.isEnabled()&&c.allowHistory){if(!this.href||this.hash==this.href){this.href=vBulletin.makePaginatedUrl(location.href,d)}return true}V.apply(g,[d,false])}return false});function Z(){H(c.context).off("click",".js-pagenav .js-pagenav-button").on("click",".js-pagenav .js-pagenav-button",function(f){if(W.isEnabled()){var g=H(this),d=g.data("page"),e=H(".pagenav-form",c.context).get(0);V.apply(e,[d,false]);return false}return true}).off("mouseover",".js-pagenav .js-pagenav-button").on("mouseover",".js-pagenav .js-pagenav-button",function(f){var d=H(this);if(!d.prop("href")){d.prop("href",vBulletin.makePaginatedUrl(location.href,parseInt(d.data("page"),10)))}});H(".js-pagenav .js-pagenav-button",c.context).each(function(){this.href=vBulletin.makePaginatedUrl(location.href,parseInt(H(this).data("page")))});(function(){function d(){var h=H(this);var k=h.data("vbshrink-hidden-elements");if(typeof k!="undefined"){k.removeClass("h-hide-imp")}var g=h.find("> .js-pagenav-button").filter(":visible"),e=H(),f=H(),j=g.filter(".js-pagenav-current-button").data("page");g.each(function(t,n){var l=H(n),r=l.data("page"),m=l.is(".js-pagenav-prev-button, .js-pagenav-current-button, .js-pagenav-next-button"),s=l.is(".js-pagenav-first-button, .js-pagenav-last-button"),p=(r==(j-1)||r==(j+1)),o=(!s&&!p),q=(s?"1":(p?"2":"3"));if(!m){e=e.add(l);l.data("vbshrink-priority",q)}});H.each(["3","2","1"],function(l,m){e.each(function(n,p){var o=H(p);if(o.data("vbshrink-priority")!=m){return true}var q=vBulletin.Responsive.Debounce.checkElementShrinkRequirement(h);if(q=="need_shrink"){o.addClass("h-hide-imp");f=f.add(o)}else{return false}})});h.data("vbshrink-hidden-elements",f)}H(document).on("vbulletin:shrink vbulletin:unshrink",".js-pagenav",d);vBulletin.Responsive.Debounce.checkShrinkEvent(H(".js-pagenav"))})()}Z();H(".js-pagenum",R).off("keypress").on("keypress",function(f){if(f.keyCode==13){f.preventDefault();var d=parseInt(H(this).val(),10);var e=O.apply(this.form);if(d>e){d=e}if(d<1){d=1}if(W.isEnabled()){V.apply(this.form,[d,false])}else{if(c.allowHistory){location.href=vBulletin.makePaginatedUrl(location.href,d)}else{V.apply(this.form,[d,false])}}}});H(".js-pagenum",R).off("click").on("click",function(d){H(this).select()});this.updatePageInfo=function(e,d){if(e&&typeof e=="object"){var f=e.totalpages||1,g=H(".pagenav-controls .pagenav-form",c.context);H(".pagetotal",g).text(f);if(typeof e.showseemore!="undefined"){if(e.showseemore){T.apply(g,[false])}else{T.apply(g,[true])}}e.perpage=vBulletin.conversation.POSTS_PER_PAGE;if(d&&H(".pagenav-container",c.context).length>0){H.post(pageData.baseurl+"/ajax/render/pagenav",{pagenav:e},function(h){if(h){H(".pagenav-container",c.context).replaceWith(h.template);Z()}},"json")}V.apply(g.get(0),[e.pagenumber,d])}};this.updateResultId=function(d){a(d)};this.setOption=function(d,e){c[d]=e};this.getOption=function(d){return c[d]};this.updatePageNavigation=function(e,d,f){V.apply(e.get(0),[d,f])}};vBulletin.conversation=vBulletin.conversation||{};vBulletin.conversation.toggleCommentBox=function(){var O=H(this).closest(".js-comment-entry__parent").find(".js-comment-entry");O.slideToggle("fast",function(){var P=H(this).find(".js-comment-entry__textbox");if(P.is(":visible")){P.focus()}});O.find(".js-comment-entry__cancel").off("click").on("click",function(P){O.slideToggle();return false});return false};vBulletin.conversation.postComment=function(R,P){var X=this,U=H(X),T=U.closest(".js-comment-entry"),Q=T.find(".js-comment-entry__textbox"),V=H.trim(Q.val());if(!V){vBulletin.warning("post_comment","please_enter_your_comment",function(){Q.focus()});return false}H("body").css("cursor","wait");U.blur();var S=U.closest(".js-comment-entry__parent"),W=U.closest(".js-comment-entry--blog").length==1?1:0,O=U.closest(".js-comment-entry--article").length==1?1:0;vBulletin.AJAX({call:"/ajax/post-comment",data:({text:V,parentid:S.attr("data-node-id"),postindex:S.find(".js-post__content .b-post__count").text().replace("#",""),view:S.parent().hasClass("stream-view")?"stream":"thread",redirecturl:Q.hasClass(".reload-on-post")?1:0,isblogcomment:W,isarticlecomment:O,humanverify:{input:T.find('[name="humanverify[input]"]').val(),hash:T.find('[name="humanverify[hash]"]').val()},}),complete:function(){console.log("post-comment complete.");H("body").css("cursor","auto");vBulletin.hv.reset()},success:function(Y,a,b){if(typeof P=="function"){P.apply(X,[Y])}if(!W&&!O){T.slideToggle()}vBulletin.subscribe.updateSubscribeButton(Y.topic_subscribed);var Z=S.attr("data-node-id");vBulletin.markRead(Z)},api_error:vBulletin.hv.resetOnError,title_phrase:"conversation",error_phrase:"error_posting_comment_code",})};vBulletin.conversation.showIp=function(P){var R=H(this),Q=H(this).data("post-ip"),O=H(this).data("post-host");openAlertDialog({title:vBulletin.phrase.get("ip_info"),message:vBulletin.phrase.get("ip_address_is")+": "+Q+"<br />"+vBulletin.phrase.get("host_name_is")+': <span class="ip-host-name loading">...</span>',iconType:"none"});vBulletin.AJAX({call:"/ajax/api/node/getHostName",data:{ip:Q},success:function(S,T,U){H(".ip-host-name").removeClass("loading").html(S)}});return false};vBulletin.conversation.showPostHistory=function(R){var S=H(this);var Q=H(this).closest(".js-post").attr("data-node-id");var P=openConfirmDialog({title:vBulletin.phrase.get("post_history"),message:vBulletin.phrase.get("loading")+"...",width:800,dialogClass:"post-history-dialog dialog-container dialog-box loading",buttonLabel:{yesLabel:vBulletin.phrase.get("compare_versions"),noLabel:vBulletin.phrase.get("cancel")},onAfterClose:function(){if(this.id=="btnConfirmDialogYes"){var U=P.find(".post-history-form");var T={oldpost:U.find("input:radio[name=old]:checked").val()||1,newpost:U.find("input:radio[name=new]:checked").val()||1,nodeid:Q};H("#btnConfirmDialogYes").hide();var V=openConfirmDialog({title:vBulletin.phrase.get("post_history"),message:vBulletin.phrase.get("loading")+"...",width:800,dialogClass:"post-history-comparison-dialog dialog-container dialog-box loading",buttonLabel:{yesLabel:vBulletin.phrase.get("compare_versions"),noLabel:vBulletin.phrase.get("close")},onAfterClose:function(){H("#btnConfirmDialogYes").show()}});O(V,"post_history_form",T)}}});O(P,"post_history_form",{nodeid:Q});function O(T,U,V){V.isAjaxTemplateRenderWithData=true;vBulletin.AJAX({call:"/ajax/render/"+U,data:V,success:function(W){T.removeClass("loading").find(".dialog-content .message").html(W.template).end().dialog("option","position",{of:window})},after_error:function(){T.dialog("close")}})}};vBulletin.conversation.flagPost=function(P){var Q=H(this),O=H(this).closest(".js-post").attr("data-node-id");vBulletin.openPromptDialog({title:vBulletin.phrase.get("flag_a_post"),message:vBulletin.phrase.get("please_enter_your_reason_why_you_want_to_flag_this_post"),buttonLabel:{okLabel:vBulletin.phrase.get("send_report"),cancelLabel:vBulletin.phrase.get("cancel")},multiline:true,validation:{callback:vBulletin.openPromptDialog.validationString,showError:true},onClickOK:function(R){H("body").css("cursor","wait");vBulletin.AJAX({call:"/report/report",data:{reason:R,reportnodeid:O},success:function(S){H("#prompt-dialog").dialog("close");vBulletin.alert("flag_a_post","the_report_has_been_sent")},complete:function(){H("body").css("cursor","default")},error_phrase:"unable_to_contact_server_please_try_again",title_phrase:"flag_a_post"});return false}});return false};vBulletin.conversation.editPost=function(U,X){var Z=H(this),Q,Y,V=Z.closest(".conversation-list");if(Z.closest(".js-comments").length>0){Q="comment"}var R=H(".edit-conversation-container form",V);if(R.length>0){openAlertDialog({title:vBulletin.phrase.get("edit_conversation"),message:vBulletin.phrase.get("you_have_a_pending_edit_unsaved"),iconType:"warning",onAfterClose:function(){vBulletin.animateScrollTop(R.closest(".js-post").offset().top,{duration:"slow"})}});return }if(X&&X.isFilterSelected("conversations_on")){X.toggleNewConversations(false)}window.vBulletin.loadingIndicator.show();U.preventDefault();var P=Z.parent().attr("data-node-id"),O=(Q=="comment")?Z.closest(".js-comment"):Z.closest(".js-post__content-wrapper");if(V.hasClass("thread-view")){Y="thread"}else{if(V.hasClass("full-activity-view")){Y="full-activity-stream"}else{if(V.hasClass("activity-view")){Y="activity-stream"}else{Y="stream"}}}Q=Q||O.attr("data-node-type")||"";var T,W=H(".b-post__count",O).text()||"1";if(Q=="comment"&&(Y=="thread"||V.closest(".blog-conversation-content-widget").length==1)){T=Number(W.replace("#",""))}else{T=Number(W.replace("#",""))-1}var S=function(b,e,f,a){var g=H(".edit-conversation-container form",O).data("content-type");var c=vBulletin.triggerHandler.apply(a.get(0),["afterSave",H(document),b]);if(c===false){H("body").trigger(g+"_editform_onunload",[O]);window.vBulletin.loadingIndicator.hide();return }var d=pageData;d["posts-perpage"]=vBulletin.conversation.POSTS_PER_PAGE;if(Y=="thread"){d["comments-perpage"]=vBulletin.conversation.COMMENTS_PER_PAGE}if(b&&vBulletin.ajaxtools.hasError(b.warnings,"warning_spam_post")){vBulletin.ajaxtools.showApiError(b.warnings,b,{title_phrase:"warning",after_error:function(){if(b.warningReturnUrl){location.href=b.warningReturnUrl}else{window.location.reload(true)}}});return }var f=H.post(vBulletin.getAjaxBaseurl()+"/create-content/loadnode",{nodeid:P,view:Y,index:T,page:d,type:Q,isAjaxTemplateRender:true,isAjaxTemplateRenderWithData:true},function(n){if(n.error){openAlertDialog({title:vBulletin.phrase.get("conversation"),message:vBulletin.phrase.get(n.error),iconType:"error"})}else{var h=a.closest(".js-content-entry").data("current-channelid"),k=a.find('input[name="parentid"]:checked').val(),j=H(n.template);if(h>0&&k>0&&(h!=k)){window.location.reload(true);return }H("body").trigger(g+"_editform_onunload",[O]);if(X&&X.isFilterSelected("conversations_on")){X.toggleNewConversations(true)}Z.closest(".js-post").replaceWith(j);if(n.hasOwnProperty("template_article_title_info")){var l=H(".js-update-article-title-info"),p=H(n.template_article_title_info);if(l.length>0){l.empty().append(p)}}H("body").trigger(g+"_newcontent_onload",[j]);var o=j.attr("data-node-id");if(j.hasClass("js-conversation-starter")){var m=H(".js-post-title",j).first().text();document.title=m+" - "+vBulletin.options.get("bbtitle");H(".page-title-widget .js-main-title").text(m)}H(".js-select-box",j).selectBox();vBulletin.animateScrollTop(j.offset().top,{duration:"slow"})}},"json").error(function(){openAlertDialog({title:vBulletin.phrase.get("conversation"),message:vBulletin.phrase.get("error_loading_post"),iconType:"error"})}).complete(function(){window.vBulletin.loadingIndicator.hide()})};H.post(vBulletin.getAjaxBaseurl()+"/create-content/loadeditor",{nodeid:P,type:Q,view:Y,isAjaxTemplateRender:true},function(a,d){if(d){vBulletin.error("edit_conversation",d[0])}else{var b=function(){if(typeof vBulletin.upload=="undefined"||typeof vBulletin.tagEditor=="undefined"||typeof vBulletin.contentEntryBox.init=="undefined"){vBulletin.ckeditor.loadScripts("",{},b);return }O.addClass("b-post--edit");O.find(".js-post__content").first().addClass("b-post__content--edit");O.find(".b-post__footer").first().addClass("b-post__footer--edit");$container=O.find(".edit-conversation-container").first();O.closest(".js-album-detail").find(".conversation-body, .profile-media-uploadphotos, .js-photo-preview").addClass("h-hide-imp");vBulletin.contentEntryBox.init();vBulletin.hv.init($container.find(".js-human-verification"));vBulletin.contentEntryBox.setDefaultTab($container.find(".js-content-entry").first());$container.show();console.log($container);window.vBulletin.loadingIndicator.hide();var f=$container.find(".js-attach-list");vBulletin.upload.initializePhotoUpload(O);var e=H(".js-post[data-node-id={0}] .tag-editor-container .tag-input".format(P));if(e.length>0&&typeof vBulletin.tagEditor!="undefined"){var g=new vBulletin.tagEditor.instance(e.selector)}if(f.data("attach-count")>0){var h=$container.find(".b-toolbar__item").filter(function(){return H(this).data("panel")=="b-content-entry-panel__content--attachment"});if(!h.hasClass("b-toolbar__item--active")){h.trigger("click")}}vBulletin.contentEntryBox.afterPanelChange(O);if(vBulletin.flatpickr){vBulletin.flatpickr.initPickers()}};console.log("Edit mode: Adding Content Entry UI to DOM (contains parsed post text in the .js-editor-parsed-text element)");H(".edit-conversation-container",O).first().hide().html(a);var c=H(".edit-conversation-container form",O).data("content-type");H(window).off("beforeunload.editPost").on("beforeunload.editPost",function(){return vBulletin.phrase.get("onbeforeunload_message_while_editing_post")});H("body").trigger(c+"_editform_onload",[O,b]);vBulletin.ajaxForm.apply(H("form.js-contententry-form",O),[{dataType:"json",success:S,beforeSerialize:function(e){console.log("ajaxForm beforeSerialize (vBulletin.conversation.editPost)");e.trigger("beforeSave");var f=H("body").triggerHandler(c+"_editform_onbeforeserialize",[e]);return(f===false)?false:true},beforeSubmit:function(h,g,f){var e=vBulletin.contentEntryBox.validateForm.apply(g,[f]);if(e===false){return false}H(window).off("beforeunload.editPost");window.vBulletin.loadingIndicator.show();return true},complete:function(){window.vBulletin.loadingIndicator.hide();console.log("ajaxForm complete (vBulletin.conversation.editPost)")}}])}},"json").error(function(b,c,a){openAlertDialog({title:vBulletin.phrase.get("edit_conversation"),message:"HTTP {0} - {1}".format(b.status,a),iconType:"error"})}).complete(function(b,c,a){window.vBulletin.loadingIndicator.hide()})};vBulletin.conversation.votePost=function(S){var R=H(this).closest(".js-post").attr("data-node-id"),Q,P,O;H("body").css("cursor","wait");if(!H(this).hasClass("voted")){Q="vote";P="unvote_cap";O=true}else{Q="unvote";P="vote_cap";O=false}vBulletin.AJAX({call:"/ajax/api/reputation/"+Q,data:{nodeid:R},success:function(U){var T=H(".js-post[data-node-id="+R+"]");T.find(".votecount").html(U.votes);T.find(".js-post-control__vote").toggleClass("voted",O).find(".b-post-control__label").text(vBulletin.phrase.get(P))},complete:function(){H("body").css("cursor","default")},title_phrase:"error_saving_vote"})};vBulletin.conversation.showWhoVoted=function(P){var Q=H(this);if(Q.hasClass("novotepopup")){return }var O=Q.closest(".js-post").attr("data-node-id");vBulletin.qtip.apply(Q,"qtip-whovoted",{content:{title:{text:vBulletin.phrase.get("people_who_liked"),button:true},text:function(S,R){vBulletin.AJAX({call:"/ajax/api/reputation/fetchWhovoted",data:{nodeid:O},success:function(V){var X;if(V.length<1){X=vBulletin.phrase.get("no_one_voted")}else{X="<ul>";for(x in V){var T=pageData.baseurl+V[x].profileurl,a=pageData.baseurl_core+"/"+(V[x].avatarurl?V[x].avatarurl:"image.php?u="+V[x].userid+"&type=profile");var W=H("<img>").attr("src",a).attr("alt",V[x].username),Z=H("<a>").attr("href",T).addClass("avatar"),U=H("<a>").attr("href",T).addClass("username").html(V[x].musername),b=H("<li>").addClass("whovoteditem"),Y=H("<div>").addClass("usertitle").html(V[x].usertitle);Z.append(W);b.append(Z);b.append(U);b.append(Y);X+=H("<div>").append(b).html()}X+="</ul>"}console.log(X);R.set("content.text",X)}});return vBulletin.phrase.get("working_ellipsis")}},show:{event:"click",ready:true},hide:{event:"unfocus",fixed:true}})};vBulletin.conversation.processPostContent=function(O){O.css("border-bottom","").filter(".stream-view.activity-view").find(".list-item-poll form.poll").each(function(P,Q){if(H(this).is(":visible")&&H(".view-less-ctrl",this).hasClass("h-hide")){vBulletin.conversation.limitVisiblePollOptionsInAPost(this,3)}})};vBulletin.conversation.limitVisiblePollOptionsInAPost=function(S,R){if(typeof R=="undefined"){R=3}var P=0,Q=H("ul.poll li",S),O=parseInt(Q.css("line-height"),10);Q.each(function(T){H(this).removeClass("h-hide");var U=H(this).height();P+=U/O;if(P>R){H(this).addClass("h-hide")}else{H(this).css("display","")}});if(P>3){H(".view-more-ctrl",S).removeClass("h-hide").next(".js-button-group").addClass("h-hide").next(".view-less-ctrl").addClass("h-hide")}else{H(".view-more-ctrl",S).addClass("h-hide").next(".js-button-group").removeClass("h-hide").next(".view-less-ctrl").addClass("h-hide")}};vBulletin.conversation.bindEditFormEventHandlers=function(S){S=(S)?S.toLowerCase():"";if(H.inArray(S,["text","gallery","video","poll","link","comment","event"])!=-1||S=="all"){var Q=function(V,U){if(typeof U=="function"){console.log("Edit mode: initializeEditor");var T=V.find(".js-editor");if(T.length>0){vBulletin.ckeditor.initEditor(T,{success:function(W){if(typeof U=="function"){U();vBulletin.contentEntryBox.afterPanelChange(V);vBulletin.ckeditor.initEditorComponents(V);var X=this;window.setTimeout(function(){console.log("Edit mode: Adding post data to CKEditor (vBulletin.conversation.bindEditFormEventHandlers)");X.setData(T.prev(".js-editor-parsed-text").html(),function(){var Y=vBulletin.ckeditor.getEditor(W);vBulletin.ckeditor.fixTableFunctionality.call(vBulletin.ckeditor,{},Y);setTimeout(function(){vBulletin.ckeditor.modifyImagePaths(H(Y.container.$))},0);Y.focus()})},0)}},error:function(X){if(typeof U=="function"){U()}T.prop("disabled",false).removeClass("ckeditor-load-on-focus").closest(".js-content-entry").addClass("b-content-entry--no-ckeditor");var W=T.prev(".js-editor-parsed-text").html();if(W!=""){vBulletin.AJAX({call:"/ajax/api/editor/convertHtmlToBbcode",data:{nodeid:pageData.nodeid,data:W,allowsmilie:1,securitytoken:pageData.securitytoken},success:function(Y){T.html(Y.data)},error_phrase:"error_converting_message"})}},hideLoadingDialog:false})}else{if(typeof U=="function"){U();T.focus()}}}};var R=function(V){var U=V.find(".js-editor");if(U.length>0){var T=U.attr("id");if(vBulletin.ckeditor.editorExists(T)){vBulletin.ckeditor.destroyEditor(T)}}U.closest("form").remove()};var P={};P.comment=function(){H("body").off("comment_editform_onload").on("comment_editform_onload",function(U,V,T){if(typeof T=="function"){T();H(".js-editor",V).focus().filter(".autogrow").elastic().off("blur.elastic")}}).off("comment_editform_onunload").on("comment_editform_onunload",function(T,U){})};P.text=function(){H("body").off("text_editform_onload").on("text_editform_onload",function(U,V,T){Q(V,T)}).off("text_editform_onunload").on("text_editform_onunload",function(T,U){R(U)}).off("text_newcontent_onload").on("text_newcontent_onload",function(T,U){if(U.closest(".conversation-list.stream-view.activity-view").length>0){vBulletin.truncatePostContent(U)}})};P.event=function(){H("body").off("event_editform_onload").on("event_editform_onload",function(U,V,T){Q(V,T)}).off("event_editform_onunload").on("event_editform_onunload",function(T,U){R(U)}).off("event_newcontent_onload").on("event_newcontent_onload",function(T,U){if(U.closest(".conversation-list.stream-view.activity-view").length>0){vBulletin.truncatePostContent(U)}})};P.poll=function(){var T=function(U){U.find(".js-remove-button").prop("disabled",(U.find("li").length<=2))};H("body").off("poll_editform_onload").on("poll_editform_onload",function(V,W,U){Q(W,U);T(H(this).find(".b-poll-fieldset__poll-answers"))}).off("poll_editform_onunload").on("poll_editform_onunload",function(U,V){R(V)}).off("poll_newcontent_onload").on("poll_newcontent_onload",function(U,V){T(H(this).find(".b-poll-fieldset__poll-answers"));if(V.closest(".conversation-list.stream-view.activity-view").length>0){vBulletin.truncatePostContent(V);vBulletin.conversation.limitVisiblePollOptionsInAPost(H("form.poll",V),3)}})};P.gallery=function(){H("body").off("gallery_editform_onload").on("gallery_editform_onload",function(U,V,T){H('.b-toolbar__item[data-panel="b-content-entry-panel__content--gallery"]',V).trigger("click");Q(V,function(){if(typeof T=="function"){T()}vBulletin.upload.initializePhotoUpload(V)})}).off("gallery_editform_onunload").on("gallery_editform_onunload",function(T,U){R(U)}).off("gallery_newcontent_onload").on("gallery_newcontent_onload",function(T,U){if(U.closest(".conversation-list.stream-view.activity-view").length>0){vBulletin.truncatePostContent(U)}})};P.video=function(){H("body").off("video_editform_onload").on("video_editform_onload",function(U,V,T){H('.b-toolbar__item[data-panel="b-content-entry-panel__content--video"]',V).trigger("click");Q(V,function(){if(typeof T=="function"){T()}O(H(".b-content-entry-panel__content--video",V),"video")});H(".js-attach-button",V).off("click").on("click",function(Z){Z.preventDefault();var W=H(this),a=W.closest(".b-content-entry-panel__content--video"),Y=H(".b-link-input__url",a),X=H.trim(Y.val());if(!X){openAlertDialog({title:vBulletin.phrase.get("attach_video"),message:vBulletin.phrase.get("please_enter_video_url"),iconType:"warning",onAfterClose:function(){Y.focus()}});return false}W.prop("disabled",true);H(".js-contententry-buttons .b-button",a).prop("disabled",true);H("body").css("cursor","wait");H.post(vBulletin.getAjaxBaseurl()+"/link/getlinkdata",{url:X,isAjaxTemplateRender:true},function(c){if(c.error){openAlertDialog({title:vBulletin.phrase.get("attach_video"),message:vBulletin.phrase.get(c.error),iconType:"warning",onAfterClose:function(){Y.focus()}})}else{$template=H(c);a.find(".js-panel-content").append($template);O(a,"video");$template.fadeIn("slow",function(){Y.val("");H(".b-link-input",a).addClass("h-hide")});var b=V.closest("form");if($template.find("js-video-url")){b.data("content-type","video")}else{b.data("content-type","link")}}},"json").error(function(d,c,b){openAlertDialog({title:vBulletin.phrase.get("attach_video"),message:"HTTP {0} - {1}".format(d.status,b),iconType:"error"})}).complete(function(){H("body").css("cursor","default");W.prop("disabled",false);H(".js-contententry-buttons .b-button",a).prop("disabled",false)})})}).off("video_editform_onunload").on("video_editform_onunload",function(T,U){R(U)}).off("video_newcontent_onload").on("video_newcontent_onload",function(T,U){if(U.closest(".conversation-list.stream-view.activity-view").length>0){vBulletin.truncatePostContent(U)}})};P.link=function(){H("body").off("link_editform_onload").on("link_editform_onload",function(U,V,T){H('.b-toolbar__item[data-panel="b-content-entry-panel__content--link"]',V).trigger("click");Q(V,function(){if(typeof T=="function"){T()}O(H(".b-content-entry-panel__content--link",V),"link")});H(".js-attach-button",V).off("click").on("click",function(Z){Z.preventDefault();var W=H(this),a=W.closest(".b-content-entry-panel__content--link"),Y=H(".b-link-input__url",a),X=H.trim(Y.val());if(!X){openAlertDialog({title:vBulletin.phrase.get("error"),message:vBulletin.phrase.get("please_enter_a_valid_url_and_click_attach"),iconType:"warning",onAfterClose:function(){Y.focus()}});return false}if(!X.match(/^https?:\/\//)){X="http://"+X;Y.val(X)}W.prop("disabled",true);H(".js-contententry-buttons .b-button",a).prop("disabled",true);H("body").css("cursor","wait");H.post(vBulletin.getAjaxBaseurl()+"/link/getlinkdata",{url:X,isAjaxTemplateRender:true},function(d){if(d.error){openAlertDialog({title:vBulletin.phrase.get("attach_link"),message:vBulletin.phrase.get(d.error),iconType:"warning",onAfterClose:function(){Y.focus()}})}else{var c=H(d);c.find("img").error(function(){H(this).closest("li").remove()});a.find(".js-panel-content").append(c);O(a,"link");c.fadeIn("slow",function(){Y.val("");H(".b-link-input",a).addClass("h-hide")});var b=V.closest("form");if(c.find("js-video-url")){b.data("content-type","video")}else{b.data("content-type","link")}}},"json").error(function(d,c,b){openAlertDialog({title:vBulletin.phrase.get("attach_link"),message:"HTTP {0} - {1}".format(d.status,b),iconType:"error"})}).complete(function(){H("body").css("cursor","default");W.prop("disabled",false);H(".js-contententry-buttons .b-button",a).prop("disabled",false)})})}).off("link_editform_onunload").on("link_editform_onunload",function(T,U){R(U)}).off("link_newcontent_onload").on("link_newcontent_onload",function(T,U){if(U.closest(".conversation-list.stream-view.activity-view").length>0){vBulletin.truncatePostContent(U)}}).off("link_savepost_success").on("link_savepost_success",function(T,U){H(".b-link-input",U).removeClass("h-hide-imp")})};var O=function(U,V){H(".b-link-content__urlinfo .js-link-edit",U).on("click",function(X){X.preventDefault();var W=H(this).parent().parent();W.addClass("b-link-content__urlinfo-meta--edit-mode");H(".js-link-textbox",W).val(H.trim(H(".b-link-content__urlinfo-text",W).text())).trigger("focus");H(".js-link-save",W).on("click",function(Y){Y.preventDefault();H(".b-link-content__urlinfo-text",W).text(H(".js-link-textbox",W).val());W.removeClass("b-link-content__urlinfo-meta--edit-mode")})});H(".js-link-remove",U).on("click",function(W){W.preventDefault();H(this).closest(".b-content-entry-panel__content").find(".b-link-input").removeClass("h-hide");H(this).closest(".js-panel-content").empty();H(".b-link-input",U).removeClass("h-hide")});if(V=="link"){H(".js-link-preview-checkbox",U).off("click").on("click",function(){H(".b-link-content__thumbnail",U)[this.checked?"addClass":"removeClass"]("h-hide")});var T=H(".b-link-thumbnail-list__item",U).length;H(".b-link-thumbnail-list",U).jcarousel({scroll:1,wrap:null,size:T,rtl:vBulletin.isRtl(),buttonNextCallback:function(Y,X,W){H(".b-thumbnail-nav .b-thumbnail-nav__next-arrow",U).toggleClass("b-icon--disabled",!W)},buttonPrevCallback:function(Y,X,W){H(".b-thumbnail-nav .b-thumbnail-nav__prev-arrow",U).toggleClass("b-icon--disabled",!W)},initCallback:function(X,W){if(W=="init"&&T>0){H(".b-thumbnail-nav .b-thumbnail-nav__counter",U).html("1/"+T);H(".b-thumbnail-nav .b-thumbnail-nav__prev-arrow",U).off("click").on("click",function(){if(!H(this).hasClass("b-icon--disabled")){H(".jcarousel-container .jcarousel-prev",U).trigger("click")}});H(".b-thumbnail-nav .b-thumbnail-nav__next-arrow",U).off("click").on("click",function(){if(!H(this).hasClass("b-icon--disabled")){H(".jcarousel-container .jcarousel-next",U).trigger("click")}})}},itemVisibleInCallback:function(Z,X,W,Y){if(Y=="init"){return false}H(".b-thumbnail-nav .b-thumbnail-nav__counter",U).html(W+"/"+T);H('input[type="radio"]',X).prop("checked",true)},itemFallbackDimension:90})}};if(S!="all"){P[S].call()}else{H.each(P,function(T,U){U.call()})}}};vBulletin.isScrolledIntoView=function(Q,V){var W=false;if(H.isPlainObject(V)&&(V).toString()=="[object Object]"){W=true;V.top=0;V.bottom=0}Q=(Q instanceof H)?Q:H(Q);if(Q.length==0){return false}var O=H(window).scrollTop(),P=O+H(window).height(),T=Q.offset().top,R=T+Q.outerHeight(),U=T-O,S=P-R;if(W){V.top=U;V.bottom=S}return(U>=0&&S>=0)};vBulletin.scrollToFixed=function(S){var O=this,P={element:H(),fixedAt:"top",limit:0,triggerOnload:true,zIndex:99},Q=("scrollToFixed"+Math.random()).replace(".","");function R(Y){P=H.extend({},P,Y);if(P.element){P.element=(P.element instanceof H)?P.element:H(P.element);if(P.element.length>0){if(H.inArray(P.fixedAt,["top","bottom"])){P.fixedAt="top"}var V=P.element,T="scrolltofixed",U={width:V.width(),offset:V.offset(),"margin-top":parseInt(V.css("margin-top"),10),"margin-bottom":parseInt(V.css("margin-bottom"),10),cssPosition:V.css("position"),coordinates:{left:V.css("left"),top:V.css("top"),right:V.css("right"),bottom:V.css("bottom")}};var X=H("<div />").addClass("scrolltofixed-filler").hide().insertAfter(V);V.data("origOffsetTop",U.offset.top);V.css("z-index",P.zIndex);V.data("object-instance",O);var W=H(window).off("scroll."+Q).on("scroll."+Q,function(){if(V.is(":hidden")){return }var c=H(this).scrollTop();if(P.limit>0&&c>P.limit&&V.hasClass(T)){V.removeClass(T).css({position:"absolute",left:"auto",right:"auto",top:"auto",bottom:"auto",width:U.width})}else{if((P.limit>0&&c<P.limit&&c>U.offset.top&&!V.hasClass(T))||(P.limit<=0&&c>U.offset.top&&!V.hasClass(T))){X.css({display:V.css("display"),width:V.outerWidth(true),height:V.outerHeight(true),"float":V.css("float")});var Z=(vBulletin.Responsive&&vBulletin.Responsive.scrollToFixedBreakPoint)?vBulletin.Responsive.scrollToFixedBreakPoint:0;if(H("#vb-page-body").width()>Z){V.addClass(T).width(U.width).css({left:U.offset.left,right:"auto",width:U.width,top:(P.fixedAt=="top")?0:"auto",bottom:(P.fixedAt=="bottom")?0:"auto",position:""})}else{X.hide()}var b=U["margin-"+P.fixedAt];if(b){var a={};a[P.fixedAt]=-b+"px";V.animate(a,"fast")}}else{if(c<=U.offset.top&&V.hasClass(T)){X.hide();V.removeClass(T).css({position:"",width:"",left:"",top:"",right:"",bottom:""})}}}}).off("resize."+Q).on("resize."+Q,function(){V.removeClass(T).width("auto").css({position:"",left:""});U.width=V.width();U.offset=V.offset();H(this).trigger("scroll."+Q)});if(P.triggerOnload){W.trigger("scroll."+Q)}}}}this.updateLimit=function(T){if(!isNaN(Number(T))){P.limit=T;H(window).trigger("scroll."+Q)}};this.addLimit=function(T){if(!isNaN(Number(T))){P.limit+=T;H(window).trigger("scroll."+Q)}};this.reset=function(T){R(T)};R(S)};vBulletin.scrollToAnchor=function(R){R=R.replace(/(:|\.|\[|\]|,|\/)/g,"\\$1");var V=H(R);console.log("vBulletin.scrollToAnchor() hash: {0}, found: {1}".format(R,V.length));if(V.length>0){var P=V.show().offset().top-2;V.hide();var T=H("html,body"),U=H(".scrolltofixed-floating.scrolltofixed-top"),O=false;if(U.length>0){if(H(".list-container .list-item:first > a.anchor"+R).length==1){if(U.hasClass("scrolltofixed")){U.removeClass("scrolltofixed")}P=U.offset().top;O=true}else{if(U.hasClass("scrolltofixed")){P-=U.outerHeight()}}}function S(Y){var X=Y.show().offset().top;Y.hide();X-=(U.hasClass("scrolltofixed")?U.outerHeight():0);return Math.round(X)}function W(){T.stop(true)}var Q="scroll mousedown wheel DOMMouseScroll mousewheel keyup";T.off(Q,W).one(Q,W);T.animate({scrollTop:P},{duration:1000,step:function(X,Y){if(!O){Y.end=S(V)}},always:function(){H("a.anchor").show();V.show();T.off(Q,W)}});return false}H("a.anchor").show();return true};if(location.hash){vBulletin.scrollToAnchor(location.hash)}vBulletin.animateScrollTop=function(P,Q){console.log("vBulletin.animateScrollTop({0})".format(P));var O=H(".scrolltofixed-floating.scrolltofixed-top");if(O.length>0){var R=O.data("origOffsetTop")||O.offset().top;if(!O.hasClass("scrolltofixed")&&R<P){P-=O.outerHeight(true)}if(R<P){P-=O.outerHeight()}}H("html, body").animate({scrollTop:P},Q)};vBulletin.truncatePostContent=function(O){O=(O instanceof H)?O:H(O);if(O.selector==""){O=H("body")}H(".poll-desc.ellipsis, .message-body.ellipsis",O).each(function(){var P=H(this);truncatedHeight=P.height();P.removeClass("ellipsis");var Q=P.height();P.addClass("ellipsis");if(Q>truncatedHeight){P.closest(".list-item-body").find(".post-links").removeClass("hide-see-link").find(".see-link").off("click").on("click",function(){var S=H(this);if(S.hasClass("more")){P.removeClass("ellipsis")}else{P.addClass("ellipsis")}S.toggleClass("more less");var R=S.text();S.text(S.data("toggle-text")).data("toggle-text",R);return false})}});H(".list-item .see-link.more",O).each(function(P){var Q=H(this).closest(".list-item"),S=H(Q).find(".post-content");if(S.length>0){var V=false,T=false,X=H(this).text(),R="",W=H(S).html(),U=this;H(this).on("click",function(){nodeid=H(Q).attr("data-node-id");if(V){H(U).text(X);H(S).html(W);V=false}else{if(T){H(U).text(vBulletin.phrase.get("see_less"));V=true;H(S).html(R)}else{if(!T&&nodeid){vBulletin.AJAX({call:"/activity/fetchText",data:{nodeid:nodeid},success:function(Y){R=Y.nodeText;if(R.length<=W.length){H(U).addClass("ui-helper-hidden");postLink=H(U).closest(".post-links").html().replace("<span>|</span>","");H(U).closest(".post-links").html(postLink)}else{H(S).html(R);H(U).text(vBulletin.phrase.get("see_less"));console.log("loaded content for node "+nodeid);V=true;T=true;return false}},error:vBulletin.ajaxtools.logAjaxError,api_error:vBulletin.ajaxtools.logApiError,})}}}return false})}})};var L=((parseInt(pageData.threadmarking)>0)&&(parseInt(pageData.userid)>0)),A,E;function G(){}if(!L){A=F.createArrayCookie("discussion_view",true);E=F.createArrayCookie("channel_view",true)}vBulletin.discussionViewCookie=A;vBulletin.markreadcheck=function(){if(L){return }var Q=Math.round(Date.now()/1000)-vBulletin.options.get("markinglimit")*86400;function P(T){var R=T.getAll();for(var S in R){if(R[S]<Q){T.unset(S)}}}P(A);P(E);function O(U,S,W){var T=parseInt(U.data("lastcontent")),V;if(T<=Q){V=false}else{var R=parseInt(E.get(U.data("channel-id"),0));V=(T>R)}U.find(".icon").toggleClass(S,V).toggleClass(W,!V)}H(".forum-item").each(function(){O(H(this),"b-icon__speech-double-large--blue","b-icon__speech-double-large--gray")});H(".subforum-item").each(function(){O(H(this),"b-icon__speech-single2--blue","b-icon__speech-single2--gray")});H(".topic-item").each(function(){var S=parseInt(H(this).data("lastcontent")),R=parseInt(E.get(H(this).data("channel-id"),0)),T=parseInt(A.get(H(this).data("node-id"),0)),V=Math.max(R,T,Q);if(S<=V||H(this).hasClass("redirect")){H(this).addClass("read").removeClass("unread")}else{if(H(this).find(".topic-wrapper .js-go-to-first-unread").length==0){var U=H(this).find(".topic-wrapper .topic-title").attr("href");if(typeof (U)!="undefined"){U+=(U.indexOf("?")==-1?"?":"&amp;")+"goto=newpost";H("<a />").addClass("go-to-first-unread b-icon b-icon__double-arrow-down--blue js-go-to-first-unread").attr("href",U).attr("title",vBulletin.phrase.get("go_to_first_new_post")).html("&nbsp;").prependTo(H(this).find(".topic-wrapper"));H(this).find(".vb-icon-topic-status").attr("title",vBulletin.phrase.get("new_posts"))}}}})};vBulletin.markchannelsread=function(U,V,R){if(parseInt(U)){vBulletin.setChannelRead(U,V)}else{if(pageData.channelid&&parseInt(pageData.channelid)&&parseInt(pageData.threadmarking)>0&&parseInt(pageData.userid)>0){vBulletin.setChannelRead(pageData.channelid,V)}else{var P=[],Q=H(R).closest(".widget-content").find(".forum-list-container"),O=Q.find(".forum-item"),T=Q.find(".subforum-item");var S=function(W,Y){var X=parseInt(H(Y).attr("data-channel-id"),10);if(X){P.push(X)}};H.each(O,S);H.each(T,S);H.each(P,function(W,X){if(W>=P.length-1){vBulletin.setChannelRead(X,V)}else{vBulletin.setChannelRead(X,[])}})}}};vBulletin.markRead=function(O){if(!L){A.set(O,Math.round(Date.now()/1000))}else{vBulletin.AJAX({call:"/ajax/api/node/markRead",data:{nodeid:O},success:H.noop,api_error:H.noop,error:H.noop,})}};vBulletin.setChannelRead=function(O,P){var Q=Math.round(Date.now()/1000);success=((P.success&&typeof P.success=="function")?P.success:H.noop);if(!L){if(O==0){H.cookie(pageData.cookie_prefix+"lastvisit",Q)}else{E.set(O,Q)}success()}else{vBulletin.AJAX({call:"/ajax/api/node/markChannelsRead",data:{nodeid:O},success:success,api_error:vBulletin.ajaxtools.logApiError})}return true};vBulletin.ckeditor=vBulletin.ckeditor||{};window.CKEDITOR_BASEPATH=pageData.baseurl+"/js/ckeditor/";vBulletin.ckeditor.requiredScriptsLoaded=false;vBulletin.ckeditor.requiredScriptsLoadFailed=false;vBulletin.ckeditor.requiredScriptLoadingStarted=false;vBulletin.ckeditor.checkEnvironment=function(){return true};vBulletin.ckeditor.fireCallbacks=function(R,P,O,Q){if(O=="error"&&typeof P.error=="function"){P.error(R)}if(O=="success"&&typeof P.success=="function"){P.success.apply(Q,[R,Q])}if(typeof P.complete=="function"){P.complete(R)}};vBulletin.ckeditor.initEditor=function(Q,P){P=P||{};Q=vBulletin.ckeditor.verifyEditorId(Q);console.log("Ckeditor: initEditor({0})".format(Q));if(!vBulletin.ckeditor.checkEnvironment()){var O=H("#"+Q).closest(".js-content-entry");O.find("li[data-panel=b-content-entry-panel__content--toggle-editor]").addClass("h-hide");O.find("li[data-panel=b-content-entry-panel__content--smiley]").addClass("h-hide");O.find("form").append(H('<input type="hidden" name="nl2br" value="1" />'));vBulletin.ckeditor.fireCallbacks(Q,P,"error");return }if(vBulletin.ckeditor.requiredScriptsLoaded){vBulletin.ckeditor.doInitEditor(Q,P)}else{vBulletin.ckeditor.loadScripts(Q,P)}};vBulletin.ckeditor.loadScripts=function(Q,P,O){if(vBulletin.ckeditor.requiredScriptLoadingStarted){console.warn("Ckeditor: Trying to load required scripts more than once.");return }vBulletin.ckeditor.requiredScriptLoadingStarted=true;P=P||{};Q=Q||"";if(typeof (P.hideLoadingDialog)!=="undefined"&&!P.hideLoadingDialog){vBulletin.ckeditor.showLoadingDialog(Q)}var S=function(){if(P.showError||!vBulletin.ckeditor.requiredScriptsLoadFailed){vBulletin.warning("error","error_loading_ckeditor_script")}vBulletin.loadingIndicator.hide();vBulletin.ckeditor.requiredScriptsLoadFailed=true;vBulletin.ckeditor.fireCallbacks(Q,P,"error")};var R=function(){if(!vBulletin.ckeditor.requiredScriptsLoadFailed){if(typeof O=="function"){O()}if(typeof vBulletin.ckeditor.doInitEditor=="function"&&window.CKEDITOR){vBulletin.ckeditor.requiredScriptsLoaded=true;vBulletin.ckeditor.doInitEditor(Q,P)}else{setTimeout(R,10)}}else{vBulletin.ckeditor.fireCallbacks(Q,P,"error");if(!P.hideLoadingDialog){vBulletin.ckeditor.hideLoadingDialog(Q)}}};if(typeof vBulletin.ckeditor.doInitEditor!="function"&&!window.CKEDITOR){vBulletin.AJAX({url:vBulletin.getAjaxBaseurl()+"/ajax/render/ckeditor_javascript",success:function(U){var T=[];var V=/src="([^"]+)"/g;while(match=V.exec(U)){T.push(match[1])}var W=function(){if(T.length>0){console.log("Ckeditor: Calling getScript for: {0}".format(T[0]));H.getScript(T[0],function(X,Z,Y){if(Z!="success"){console.warn("Ckeditor: Error loading "+T[0]);S();return false}console.log("Ckeditor: Script loaded: "+T[0]);T.splice(0,1);W()}).fail(function(Y,Z,X){console.warn("Ckeditor: Error loading script: "+Z+" Exception: "+X);S()})}else{R()}};W()},error_phrase:"error_fetching_dialog"})}else{R()}};vBulletin.ckeditor.editorExists=function(O){return false};vBulletin.ckeditor.isEditorEmpty=function(O){return true};vBulletin.ckeditor.resetEditor=function(O){return false};vBulletin.ckeditor.getEditorContent=function(P){P=vBulletin.ckeditor.verifyEditorId(P);if(!P){return false}if(vBulletin.ckeditor.editorExists(P)){var O=vBulletin.ckeditor.getEditor(P);if(O&&O.getData){return H.trim(O.getData())}else{return false}}else{return H.trim(H("#"+P).val())}};vBulletin.ckeditor.focusEditor=function(P){P=vBulletin.ckeditor.verifyEditorId(P);if(!P){return }if(vBulletin.ckeditor.editorExists(P)){var O=vBulletin.ckeditor.getEditor(P);if(O){O.focus()}}else{H("#"+P).focus()}};vBulletin.ckeditor.loadingDialogStack={};vBulletin.ckeditor.showLoadingDialog=function(O){if((typeof vBulletin.ckeditor.loadingDialogStack[O]!="undefined")&&vBulletin.ckeditor.loadingDialogStack[O]){return }vBulletin.ckeditor.loadingDialogStack[O]=true;var P=H("#"+O);if(P.length>0&&P.is(":visible")){P.prop("disabled",true)}window.vBulletin.loadingIndicator.show("vBulletin.ckeditor.showLoadingDialog editorId: "+O)};vBulletin.ckeditor.hideLoadingDialog=function(O){if((typeof vBulletin.ckeditor.loadingDialogStack[O]=="undefined")||!vBulletin.ckeditor.loadingDialogStack[O]){return }vBulletin.ckeditor.loadingDialogStack[O]=false;H("#"+O).prop("disabled",false);window.vBulletin.loadingIndicator.hide("vBulletin.ckeditor.hideLoadingDialog editorId: "+O)};vBulletin.ckeditor.generatedIdCounter=0;vBulletin.ckeditor.verifyEditorId=function(P){P=P||"";if(typeof P=="string"){return P}else{if(typeof P=="object"&&typeof P.checkDirty!="undefined"&&typeof P.name!="undefined"){return P.name}else{var O=P instanceof H?P:H(P);if(!O.attr("id")){++vBulletin.ckeditor.generatedIdCounter;O.attr("id",("vb-cke-instance-"+vBulletin.ckeditor.generatedIdCounter))}return O.attr("id")}}};vBulletin.ckeditor.initEditorComponents=function(P,O){P=P||document;H(function(){H(".js-ckeditor-init-on-focus",P).off("focus").on("focus",function(){vBulletin.ckeditor.initEditor(H(this))});H(".js-ckeditor-init-on-page-load",P).each(function(){vBulletin.ckeditor.initEditor(H(this))});if(O){return }(function(){var U=function(W){return H(".js-content-entry-post-icons option",P).filter(function(){return(H(this).val()==W)}).data("icon-url")};var V=function(W){return H(".js-content-entry-post-icons option",P).filter(function(){return(H(this).val()==W)}).text()};var T=function(X){if(X==0){return H("<span />").html(vBulletin.phrase.get("no_icon")).get(0)}var Y=U(X);if(Y){var W=V(X);return H("<img />").attr("src",Y).attr("alt","").attr("title",W).get(0)}else{return""}};H(".js-content-entry-post-icons",P).selectBox().change(function(){var W=H(this).val();H(".js-content-entry-post-icons.selectBox-dropdown .selectBox-label",P).html(T(W))});H(".js-content-entry-post-icons-selectBox-dropdown-menu li a").each(function(){var W=H(this).attr("rel");H(this).html(T(W))});H(".js-content-entry-post-icons",P).trigger("change")})();H(".js-content-entry-prefixes",P).selectBox();var Q=H(".js-content-entry-event-highlights-container",P),R=Q.is(".h-hide-imp");if(R){Q.removeClass("h-hide-imp")}H(".js-content-entry-event-highlights",P).selectBox();if(R){Q.addClass("h-hide-imp")}var S=[];H(".js-select-box",P).each(function(){var T=H(this),U;while(T.is(":hidden")){U=T.closest(".h-hide");if(U.length<1){break}S.push(U);U.removeClass("h-hide")}T.selectBox()});H.each(S,function(T,U){U.addClass("h-hide")})})};vBulletin.ckeditor.initEditorComponents(document);H(".js-focus-on-page-load").first().focus();vBulletin.doReplaceSecurityToken=function(O){if(typeof (O)=="undefined"||O==""){return }H("form").each(function(){var P=H(this);if(this.action&&!vBulletin.isInternalUrl(this.action)){console.log("Skipping security token for external url (form action): "+this.action);return true}if(typeof (this.method)!="undefined"&&this.method.toLowerCase()=="post"){if(P.find('input[name="securitytoken"]').length){P.find('input[name="securitytoken"]').val(O)}else{P.append('<input type="hidden" name="securitytoken" value="'+O+'" />')}}});pageData.securitytoken=O;console.log("Securitytoken updated")};window.openAlertDialog=function(U){var T=H("#alert-dialog");U=U||{};if(!T.data("created")){T.dialog({autoOpen:false,modal:true,resizable:false,closeOnEscape:false,showCloseButton:false,dialogClass:"dialog-container alert-dialog-container dialog-box",create:function(){T.data("created",true)}})}T.dialog("option","width",U.width||500);T.dialog("option","title",U.title);var P=T.find(".dialog-content"),Q=P.find(".message"),O=P.find(".icon"),S=H("#btnAlertDialogOK"),R="",V="";if(U.maxHeight){R=U.maxHeight;V="auto"}P.css({"max-height":R,overflow:V});if(U.message){Q.html(U.message)}O.removeClass(function(W,X){return(X.match(/b-icon\S+\b/g)||[]).join(" ")+" no-icon b-icon"});U.buttonLabel=U.buttonLabel||vBulletin.phrase.get("ok");S.html(U.buttonLabel);T.find(".js-button").toggleClass("b-button--sitebuilder",H("body").is(".edit-mode, .js-edit-mode-style"));T.off("dialogopen").on("dialogopen",function(){S.off("click").on("click",function(){if(typeof U.onBeforeClose=="function"){U.onBeforeClose.apply(this)}T.dialog("close")}).focus();T.parent(".alert-dialog-container").css("z-index","10100")});T.off("dialogclose").on("dialogclose",function(){if(typeof U.onAfterClose=="function"){U.onAfterClose.apply(S)}});switch(U.iconType){case"warning":case"error":O.addClass("b-icon b-icon__warning-l--red h-margin-right-xl");O.show();break;default:O.addClass("no-icon").hide();break}T.dialog("open");return T};vBulletin.warning=function(Q,O,P){vBulletin.alert(Q,O,"warning",P)};vBulletin.error=function(Q,O,P){vBulletin.alert(Q,O,"error",P)};vBulletin.alert=function(R,O,Q,P){openAlertDialog({title:vBulletin.phrase.get(R),message:vBulletin.phrase.get(O),iconType:Q,onAfterClose:P})};vBulletin.flashMessage=function(P){var O=H(".js-flash-message"),Q=O.find(".js-flash-message-content");if(typeof vBulletin.flashMessage.timer=="undefined"){vBulletin.flashMessage.timer=0}if(vBulletin.flashMessage.timer){window.clearTimeout(vBulletin.flashMessage.timer)}Q.text(P);O.removeClass("h-hide").show();vBulletin.flashMessage.timer=window.setTimeout(function(){O.fadeOut(function(){O.addClass("h-hide")})},5000)};window.openConfirmDialog=function(S){S=S||{};var O=H("#confirm-dialog");if(!O.data("created")){O.dialog({autoOpen:false,modal:true,resizable:false,closeOnEscape:false,showCloseButton:false,create:function(){O.data("created",true)}})}var V=S.title;O.dialog("option","title",V);O.closest(".ui-dialog").find(".ui-dialog-title").html(V);var W=O.find(".dialog-content");var T=W.find(".message");var U=W.find(".icon");if(S.message){T.html(S.message.replace("\n","<br />"))}O.dialog("option","width",(S.width?S.width:500));O.dialog("option","dialogClass","dialog-container confirm-dialog-container dialog-box "+(S.dialogClass||""));U.removeClass(function(X,Y){return(Y.match(/b-icon\S+\b/g)||[]).join(" ")+" no-icon b-icon"});S.buttonLabel=S.buttonLabel||{};S.buttonLabel.yesLabel=S.buttonLabel.yesLabel||vBulletin.phrase.get("yes");S.buttonLabel.noLabel=S.buttonLabel.noLabel||vBulletin.phrase.get("no");var Q=H("#btnConfirmDialogYes").html(S.buttonLabel.yesLabel);var R=H("#btnConfirmDialogNo").html(S.buttonLabel.noLabel);Q.addClass("b-button--primary").removeClass("b-button--secondary");R.addClass("b-button--secondary").removeClass("b-button--primary");O.find(".js-button").toggleClass("b-button--sitebuilder",H("body").is(".edit-mode, .js-edit-mode-style"));var P;O.off("dialogopen").on("dialogopen",function(){var Y=H("#btnConfirmDialogYes").off("click").on("click",function(){P=this;var a,Z;if(typeof S.onClickYes=="function"){a=S.onClickYes.apply(this);if(typeof S.onClickYesWithAjax!="undefined"&&S.onClickYesWithAjax){return false}}if(a===false){return false}if(typeof S.onBeforeClose=="function"){Z=S.onBeforeClose.apply(this);if(typeof S.onBeforeCloseWithAjax!="undefined"&&S.onBeforeCloseWithAjax){return false}}if(Z===false){return false}O.dialog("close")}).focus();var X=H("#btnConfirmDialogNo").off("click").on("click",function(){P=this;if(typeof S.onClickNo=="function"){S.onClickNo.apply(this)}if(typeof S.onBeforeClose=="function"){S.onBeforeClose.apply(this)}O.dialog("close")})});O.off("dialogclose").on("dialogclose",function(Y,X){if(typeof S.onAfterClose=="function"){S.onAfterClose.apply(P)}});switch(S.iconType){case"warning":U.addClass("b-icon b-icon__warning-l--red h-margin-right-xl");U.show();break;default:U.addClass("no-icon").hide();break}O.dialog("open");return O};vBulletin.openPromptDialog=function(R){var T=H("#prompt-dialog");if(!T.data("created")){T.dialog({autoOpen:false,modal:true,resizable:false,closeOnEscape:false,showCloseButton:false,width:500,dialogClass:"dialog-container prompt-dialog-container dialog-box",create:function(){T.data("created",true)}})}R=R||{};T.dialog("option","title",R.title);var W=T.find(".dialog-content"),S=W.find(".message"),U;if(R.message){S.html(R.message)}var O=R.initialValue||"";if(!R.multiline){U=T.find("input.input-box").val(O).removeClass("h-hide");U.next().addClass("h-hide");if(Number(R.maxlength)){U.attr("maxlength",Number(R.maxlength))}else{U.removeAttr("maxlength")}W.addClass("table");W.find("> div").addClass("td")}else{U=T.find("textarea.input-box").val(O).removeClass("h-hide");U.prev().addClass("h-hide");W.removeClass("table");W.find("> .td").removeClass("td")}R.buttonLabel=R.buttonLabel||{};R.buttonLabel.okLabel=R.buttonLabel.okLabel||vBulletin.phrase.get("ok");R.buttonLabel.cancelLabel=R.buttonLabel.cancelLabel||vBulletin.phrase.get("cancel");var V=H("#btnPromptDialogOK").html(R.buttonLabel.okLabel),Q=H("#btnPromptDialogCancel").html(R.buttonLabel.cancelLabel),P;T.find(".js-button").toggleClass("b-button--sitebuilder",H("body").is(".edit-mode, .js-edit-mode-style"));T.off("dialogopen").on("dialogopen",function(){var Y=H("#btnPromptDialogOK").off("click").on("click",function(){P=this;var b=H.trim(U.val()),a,e;if(R.validation&&typeof R.validation=="object"){var d=R.validation;if(!d.override&&d.callback){var c=d.callback;if(!Array.isArray(c)){c=[c]}for(i=0;i<c.length;i++){if(typeof c[i]=="function"){var Z=c[i].apply(T,[U,R]);if(Z!==true){if(Z&&d.showError){T.find(".js-prompt-error").html(vBulletin.phrase.get(Z)).removeClass("h-hide")}U.trigger("select").trigger("focus");return false}}}}if(typeof d.custom=="function"){if(!d.custom.apply(this,[U])){return false}}}if(typeof R.onClickOK=="function"){e=R.onClickOK.apply(this,[b]);if(typeof R.onClickOKWithAjax!="undefined"&&R.onClickOKWithAjax){return false}}if(e===false){return false}if(typeof R.onBeforeClose=="function"){a=R.onBeforeClose.apply(this);if(typeof R.onBeforeCloseWithAjax!="undefined"&&R.onBeforeCloseWithAjax){return false}}if(a===false){return false}T.dialog("close")}).trigger("focus");var X=H("#btnPromptDialogCancel").off("click").on("click",function(){P=this;if(typeof R.onClickCancel=="function"){R.onClickCancel.apply(this)}if(typeof R.onBeforeClose=="function"){R.onBeforeClose.apply(this)}T.dialog("close")})});T.off("dialogclose").on("dialogclose",function(){T.find(".js-prompt-error").addClass("h-hide");if(typeof R.onAfterClose=="function"){R.onAfterClose.apply(P);U.val("")}});T.dialog("open");U.trigger("focus");return T};vBulletin.openPromptDialog.validationString=function(Q,P){var O=H.trim(Q.val());if(!O){return"please_enter_a_value"}else{if(P.multiline&&O.length>P.maxlength){return["message_too_long",P.maxlength]}}return true};window.openPromptDialog=vBulletin.openPromptDialog;window.openLoadingDialog=function(){console.warn("Function openLoadingDialog is deprecated.");window.vBulletin.loadingIndicator.show("openLoadingDialog")};window.closeLoadingDialog=function(){console.warn("Function closeLoadingDialog is deprecated.");window.vBulletin.loadingIndicator.hide("closeLoadingDialog")};window.bindFormReset=function(O){return H(O).on("reset",function(P,Q){if(typeof Q=="function"){Q()}})};window.vBulletin=window.vBulletin||{};vBulletin.sitebuilder=vBulletin.sitebuilder||{};vBulletin.sitebuilder.toggleSitebuilder=function(O){var P=H(this);if(P.hasClass("on")){H.removeCookie(pageData.sb_state_cookie,{path:pageData.cookie_path,domain:pageData.cookie_domain});H(".js-top-menu-sitebuilder").slideUp("fast");P.removeClass("on");return true}if(H(".js-top-menu-sitebuilder").length>0){H(".js-top-menu-sitebuilder").slideDown("fast");P.addClass("on");H.cookie(pageData.sb_state_cookie,"1",{path:pageData.cookie_path,domain:pageData.cookie_domain});return true}vBulletin.sitebuilder.loadSitebuilderMarkup(true);return true};vBulletin.sitebuilder.loadSitebuilderMarkup=function(O,Q){O=O||false;function P(){if(typeof Q=="function"){return Q()}}if(H("#sitebuilder-wrapper").is(".js-sb-loaded")){return P()}vBulletin.AJAX({call:"/ajax/activate-sitebuilder",data:{pageid:pageData.pageid,nodeid:pageData.nodeid,userid:pageData.userid,loadMenu:O,isAjaxTemplateRender:true,isAjaxTemplateRenderWithData:true,},cache:false,success:function(R){if(R&&R.templates){if(O){H("head").append(R.templates.css);H(".js-top-menu-sitebuilder--list").hide().html(R.templates.menu)}H("#sitebuilder-wrapper").prepend(R.templates.main);H(".js-top-menu-sitebuilder").show();H(".edit-switch-container .switch-control").addClass("on");H("#sitebuilder-wrapper").addClass("js-sb-loaded");H.cookie(pageData.sb_state_cookie,"1",{path:pageData.cookie_path,domain:pageData.cookie_domain});return P()}},})};vBulletin.sitebuilder.menuClickProxy=function(){var O=this;vBulletin.sitebuilder.loadSitebuilderMarkup(false,function(){H(".js-top-menu-sitebuilder--list .js-top-menu-link:not(.js-top-menu-tab--admincp)").off("click",vBulletin.sitebuilder.menuClickProxy);H(O).click()});return false};if(typeof (tzOffset)!="undefined"){var N=new Date().getTimezoneOffset()/60;if(Math.abs(tzOffset+N)==1){vBulletin.AJAX({call:"/profile/save-dst",data:{userid:pageData.userid,clientUtcOffset:N},success:function(){window.location.reload()},api_error:H.noop,error:H.noop})}}function M(O,S){var Q=0,P=O.length;function R(){if(Q==P){S()}}O.each(function(){if(this.complete&&this.naturalHeight>0&&this.src){++Q}else{H(this).one("load",function(){++Q;R()})}});R()}function K(R,Q,T,U,O){function P(W){var Y=W.position().top+W.outerHeight(),X=Math.round(Y);return[X-1,X,(X+1)]}function V(Z,Y){var X,W;for(X in Z){for(W in Y){if(Z[X]===Y[W]){return true}}}return false}function S(){var f=H(this);f.trigger("vbulletin:flexgridstart",{isResize:O});var b=H(Q,f),X=b.last(),d=false,e={},c=0,a=false,Z=false,Y="vb-temp-placeholder-grid-lastrow",W=b.first();if(!b.length){return }b.removeClass(T+" "+Y);b.removeClass(U);setTimeout(function(){d=P(X);b.each(function(){var h=H(this),j=P(h);if(V(d,j)){h.addClass(Y)}else{if(!a){a=j}if(!V(a,j)){++c;W.addClass(U)}a=j;W=h;if(typeof e[c]=="undefined"){e[c]=0}++e[c]}});if(W!=b.first()){W.addClass(U)}H.each(e,function(h,j){if(Z===false){Z=j}if(j<Z){Z=j}});var g=b.filter("."+Y);g.removeClass(Y);if(Z===false||g.length<Z){g.addClass(T)}if(Z!==false&&g.length==Z){g.last().addClass(U)}f.trigger("vbulletin:flexgridready",{isResize:O})},0)}H(R).each(S)}function J(T,P,U,R,S,Q,O){H(T).each(function(){var V=H(this),W=H(U,V);if(Q){K(V,P,R,S,O)}else{M(W,function(){K(V,P,R,S,O)})}})}vBulletin.initFlexGridFixLastRowAll=function(O){O=(typeof O=="undefined")?false:O;function P(Q){J(".js-flexgrid",".js-flexgrid-item",".js-flexgrid-image","b-flexgrid__item--lastrow","b-flexgrid__item--lastinrow",true,Q);J(".js-photo-preview",".b-gallery-thumbnail-list__item",".b-gallery-thumbnail-list__thumbnail","b-gallery-thumbnail-list__item--lastrow","b-gallery-thumbnail-list__item--lastinrow",false,Q)}P(O);vBulletin.Responsive.Debounce.registerCallbackOnce(function(){P(true)})};function B(Q,V){function R(W,d,c){var Z={},X,e,Y,j,l,m,n=[],h,k,f;h=4*8;k=W.data.length-h;f=W.data;for(e=0;e<k;e+=h){Y=Math.round(f[e]/d);j=Math.round(f[e+1]/d);l=Math.round(f[e+2]/d);m=Math.round(f[e+3]/d);X=Y+(j*100)+(l*10000)+(m*1000000);if(!Z[X]){Z[X]=1}else{++Z[X]}}for(e in Z){n.push([e,Z[e]])}n.sort(function(o,g){return o[1]>g[1]?-1:(g[1]>o[1]?1:0)});if(n.length>c){n=n.slice(0,c)}return n}function P(c){var Z,Y,W,X;X=Math.floor(c/1000000);W=Math.floor(c/10000)-(X*100);Y=Math.floor(c/100)-(X*10000)-(W*100);Z=c-(X*1000000)-(W*10000)-(Y*100);return[Z,Y,W,X]}function U(g,f){var e,d,X,c,h,Y,W,Z;e=P(g[0]);d=P(f[0]);X=Math.min(e[0],e[1],e[2]);c=Math.max(e[0],e[1],e[2]);h=Math.min(d[0],d[1],d[2]);Y=Math.max(d[0],d[1],d[2]);W=c-X;Z=Y-h;return W>Z?-1:(Z>W?1:0)}function O(X,W){var Y,d,c=0,Z=0;Y=P(X[0]);d=P(W[0]);if(Y[0]!=Y[1]){++c}if(Y[0]!=Y[2]){++c}if(Y[1]!=Y[2]){++c}if(d[0]!=d[1]){++Z}if(d[0]!=d[2]){++Z}if(d[1]!=d[2]){++Z}return c>Z?-1:(Z>c?1:0)}function T(W,a,f){var j=192,k=255,Z=300;Z=300;while(true){if(!--Z){break}if((W>=k||a>=k||f>=k)||(W>=j&&a>=j&&f>=j)){break}++W;++a;++f}if(W<j||a<j||f<j){var Y=k-W,X=k-a,d=k-f,c=Math.max(Y,X,d),h=Y/c,e=X/c,l=d/c;Z=300;while(true){if(!--Z){break}W+=h;a+=e;f+=l;if(W>=j&&a>=j&&f>=j){break}}W=parseInt(Math.round(W),10);a=parseInt(Math.round(a),10);f=parseInt(Math.round(f),10)}return{r:W,g:a,b:f}}function S(n){var b=H(V,n),l=n.innerWidth(),o=n.innerHeight(),j=b.outerWidth(),f=b.outerHeight();if(!b.length){return }if(j>=l&&f>=o){return }var a=b.get(0),Y=document.createElement("canvas"),X=Y.getContext&&Y.getContext("2d"),Z=a.naturalWidth||j,d=a.naturalHeight||f,W=false;Y.width=Z;Y.height=d;X.drawImage(a,0,0);try{W=X.getImageData(0,0,Z,d)}catch(h){}if(!W||!W.data||!W.data.length){return }var c=20,g=100,m,k;m=R(W,c,g);m.sort(U);m.sort(O);k=m.shift();k=P(k[0]);k[0]=k[0]*c;k[1]=k[1]*c;k[2]=k[2]*c;k[3]=k[3]*c;if(k[3]>=245){k[3]=255}n.css("backgroundColor","rgba("+k.join(",")+")")}H(Q).each(function(W){var Y=H(this),X=H(V,Y);if(X.length){setTimeout(function(){M(X,function(){S(Y)})},0)}})}vBulletin.initFrameImagesWithColor=function(){B(".js-frame-image-wrapper",".js-frame-image")};function I(){function P(){var T=H(this),S=T.prop("title");if(S==""){var R=T.get(0);if(R.scrollWidth>R.clientWidth){var Q=T.text().trim();if(Q.length>300){Q=Q.substr(0,297)+"..."}T.prop("title",Q)}}T.addClass("js-ellipsis-has-title")}var O=".ellipsis:not(.js-ellipsis-has-title)";H(document).off("mouseover",O,P).on("mouseover",O,P)}setTimeout(function(){if(!H.support.selectstart){H.fn.extend({disableSelection:function(){return this.each(function(){H(this).css({"-moz-user-select":"-moz-none","-webkit-user-select":"none","-khtml-user-select":"none","-o-user-select":"none","user-select":"none"})})},enableSelection:function(){return this.each(function(){H(this).css({"-moz-user-select":"","-webkit-user-select":"","-khtml-user-select":"","-o-user-select":"","user-select":""})})}})}function P(){window.vBulletin.loadingIndicator.init();H(document).off("click","a.animate-scroll").on("click","a.animate-scroll",function(){var Z=vBulletin.scrollToAnchor(this.hash);if(Z){window.location.href=this.href}return false});var X=function(Z){H(this).closest(".split-button").toggleClass("open").find(".submenu").toggleClass("h-hide");H("body").off("click.buttonset").on("click.buttonset",function(a){if(H(a.target).closest(".split-button").length==0){H(".split-button").removeClass("open").find(".submenu").addClass("h-hide");H("body").off("click.buttonset")}})};H(".split-button .button-text").button().closest(".button-set").find(".js-button__icon").button({text:false,icons:{primary:"vb-icon vb-icon-triangle-down-wide"}}).closest(".button-set").buttonset();H(document).off("click",".split-button .button-set",X).on("click",".split-button .button-set",X);var V=F.createStorage("collapse");H(document).off("click",".canvas-widget .toggle-button").on("click",".canvas-widget .toggle-button",function(g,Z){var f=H(this),h=f.closest(".canvas-widget"),a=H(".widget-content",h),d=h.data("widget-instance-id"),c=f.closest(".edit-mode").length;if(f.hasClass("expand")){h.removeClass("collapsed");if(Z){a.show()}else{a.slideDown("slow")}if(!c){V.unset(d)}}else{if(Z){a.hide();h.addClass("collapsed")}else{a.slideUp("slow",function(){h.addClass("collapsed")})}if(!c){V.set(d,1)}}f.toggleClass("collapse expand");var b=f.attr("title");f.attr("title",f.data("toggle-title")).data("toggle-title",b);return false});(function(){var Z=V.getAll("collapse");if(Z&&Z!=null){H.each(Z,function(a,b){H("#widget_"+a+":not(.widget-no-header-buttons) .widget-header .toggle-button").trigger("click",[true])})}})();H(".conversation-toolbar-wrapper form.toolbar-filter-overlay").trigger("reset");if(H("textarea.autogrow").length>0){H("textarea.autogrow").elastic().off("blur.elastic")}H(".edit-switch-container .switch-control").on("click",vBulletin.sitebuilder.toggleSitebuilder);H(".js-top-menu-sitebuilder--list .js-top-menu-link:not(.js-top-menu-tab--admincp)").removeClass("b-top-menu__item-link--disabled").on("click",vBulletin.sitebuilder.menuClickProxy);H("select.custom-dropdown").selectBox();H(document).off("keypress",".js-button").on("keypress",".js-button",function(Z){if(Z.which==32||Z.which==13){if(Z.target&&Z.target.nodeName&&(Z.target.nodeName+"").toLowerCase()=="label"&&H(Z.target).find("input").length==1){H(Z.target).find("input").trigger("click")}else{H(this).trigger("click")}Z.preventDefault()}});H(document).off("keypress",".js-link").on("keypress",".js-link",function(Z){if(Z.which==13){H(this).trigger("click");Z.preventDefault()}});H(".js-debug-collapse-list").next("ol, ul").hide();H(document).off("click",".js-debug-collapse-list").on("click",".js-debug-collapse-list",function(Z){H(this).next("ol, ul").toggle()});function T(a){a.preventDefault();var Z=H(".js-refer-user-dialog");if(Z.length){Z.dialog("open")}else{vBulletin.AJAX({call:"/ajax/render/dialog_refer_user",data:{isAjaxTemplateRenderWithData:true},success:function(b){H(b.template).appendTo("body");H(".js-refer-user-dialog").dialog({title:vBulletin.phrase.get("refer_a_friend"),autoOpen:true,modal:true,resizable:false,closeOnEscape:true,showCloseButton:false,width:500,dialogClass:"dialog-container dialog-box",create:function(){H(".js-close-button",this).on("click",function(c){c.preventDefault();H(this).closest(".js-refer-user-dialog").dialog("close")})},open:function(){function d(f){this.select()}var c=H(".js-referral-link",this);c.val(c.data("link")).off("focus",d).on("focus",d).focus()}})}})}}H(document).off("click",".js-refer-user",T).on("click",".js-refer-user",T);H(document).off("click",".js-toggle-slider").on("click",".js-toggle-slider",function(){var c=H(this);if(c.is(".b-toggle-slider--yes")){c.removeClass("b-toggle-slider--yes").addClass("b-toggle-slider--no");c.find(".b-toggle-slider__radio--no").prop("checked",true);c.data("value","0")}else{c.removeClass("b-toggle-slider--no").addClass("b-toggle-slider--yes");c.find(".b-toggle-slider__radio--yes").prop("checked",true);c.data("value","1")}var b=H(".js-toggle-slider, .js-toggle-slider__dependent"),Z=b.index(c),a=false;b.each(function(d,e){if(d==Z){a=true}else{if(a==true){var f=H(this);if(f.is(".js-toggle-slider__dependent")){f.toggleClass("h-hide")}else{a=false;return false}}}});c.trigger("change",c.data("value"));return false});H(".js-select-box").selectBox();H(".mainmenu li:has(.submenu)").on("click",function(Z){H(".submenu",this).show();return false}).hover(function(){},function(Z){H(".submenu",this).hide()});H(".mainmenu.textControls li").on("click",function(Z){if(H(".tagCtrl",this).length==0){H("#tag-dialog").hide()}});H(".mainmenu .submenu li a").on("click",function(a){var Z=H(this).closest(".js-comp-menu-dropdown");if(Z.length){Z.removeClass("b-comp-menu-dropdown--open")}else{H(this).closest(".submenu").hide()}});H(".channel-content-widget .new-conversation-btn").off("click").on("click",function(){window.location.href=pageData.baseurl+"/new-content/"+pageData.channelid});H(".pagenav-form").submit(function(){if(Number(this.page.value)>0){location.href=this.action+"&p="+this.page.value}return false}).trigger("reset");H(".toolbar-pagenav").off("keydown",".toolbar-pagenav input").on("keydown",".toolbar-pagenav input",function(a){var Z=a.which;if(!a.shiftKey&&!a.altKey&&!a.ctrlKey&&((Z>=48&&Z<=57)||(Z>=96&&Z<=105)||Z==8||Z==9||Z==13||Z==35||Z==36||Z==37||Z==39||Z==46||Z==45)){return true}return false});H(document).off("click",".js-post__manage").on("click",".js-post__manage",function(){if(typeof vBulletin.inlinemod=="undefined"){var a=vBulletin.getAjaxBaseurl()+"/js/inlinemod.js?v="+pageData.simpleversion,Z=this;H.getScript(a,function(){vBulletin.inlinemod.manage_deleted_form.apply(Z)}).error(function(){vBulletin.warning("error","error_loading_inlinemod_script")})}else{vBulletin.inlinemod.manage_deleted_form.apply(this)}});H(document).off("click",".js-post__show-hide").on("click",".js-post__show-hide",function(){var b=H(this),a=b.text(),Z=b.data("toggle-text");if(b.hasClass("js-post__show-hide--show")){b.closest(".js-post").addClass("b-post--show-deleted-content");b.html(Z).data("toggle-text",a).removeClass("js-post__show-hide--show")}else{b.closest(".js-post").removeClass("b-post--show-deleted-content");b.html(Z).data("toggle-text",a).addClass("js-post__show-hide--show")}});H(document).off("click","a.video-frame").on("click","a.video-frame",function(b){b.preventDefault();var a={code:this.getAttribute("data-vcode"),provider:this.getAttribute("data-vprovider")};if(this.getAttribute("data-height")){a.height=this.getAttribute("data-height")}if(this.getAttribute("data-width")){a.width=this.getAttribute("data-width")}var Z=H(this);H.post(vBulletin.getAjaxBaseurl()+"/ajax/render/bbcode_video",a,function(c){if(c){Z.replaceWith(c)}},"json")});vBulletin.markreadcheck();H(document).off("click","a.markchannelsread, a.navbar_mark_channels_read").on("click","a.markchannelsread, a.navbar_mark_channels_read",function(){vBulletin.markchannelsread(0,{success:function(){location.reload()},},H(this));return false});H(".js-footer-go-to-top").off("click").on("click",function(Z){Z.preventDefault();H("body,html").animate({scrollTop:0},800)});function W(a){var Z=function(e){var c=e.data("action"),d=!e.is(":checked"),b=H(document).find(e.data("on"));if(c=="invisible"){b.toggleClass("h-invisible",d)}else{if(c=="hide"){b.toggleClass("h-hide-imp",d)}else{b.find(":input").addBack(":input").prop("disabled",d);b.find("select").addBack("select").selectBox((d?"disable":"enable"))}}};a.find("input.js-dependent-master").each(function(){var d=H(this),c=d.attr("type"),b=function(){Z(d)};if(c=="checkbox"){d.on("change",b)}else{if(c=="radio"){d.closest("form").find('input[name="'+d.attr("name")+'"]').on("change",b)}}})}W(H(document));H(document).on("vb-instrument",function(Z){W(H(Z.target))});H("input.js-select-all-master").on("change",function(){var Z=H(this);$list=H(document).find(Z.data("list"));$list.prop("checked",Z.is(":checked"))});function U(b){vBulletin.flashMessage(b);var Z=window.location.href,d,e,c;d=Z.split("?");e=d[1];d=e.split("#");e=d[0];if(e.match(/&flashmsg=msg-[a-z0-9_-]+/i)){c=Z.replace(/&flashmsg=msg-[a-z0-9_-]+/i,"")}else{if(e.match(/flashmsg=msg-[a-z0-9_-]+&/i)){c=Z.replace(/flashmsg=msg-[a-z0-9_-]+&/i,"")}else{if(e.match(/^flashmsg=msg-[a-z0-9_-]+$/i)){c=Z.replace(/\?flashmsg=msg-[a-z0-9_-]+/i,"")}}}var a=document.title;History.replaceState({},a,c);document.title=a}if(pageData.flash_message){U(pageData.flash_message)}H("input[placeholder]").each(function(){var b=H(this),Z=b.attr("placeholder"),a="aria-label";if(Z&&!b.attr(a)){b.attr(a,Z)}});function Y(){H(".js-full-height").each(function(){var Z=H(this),a=Z.parent();Z.css("height","");Z.outerHeight(Math.floor(a.height()),true)})}Y();vBulletin.Responsive.Debounce.registerCallbackOnce(Y);H(document).off("vb-filterposts",Y).on("vb-filterposts",Y)}function Q(){window.clearTimeout(securitytoken_timeout);if(pageData.securitytoken!="guest"){securitytoken_timeout=window.setTimeout(Q,3600000);var T=function(){if(++securitytoken_errors==3){vBulletin.doReplaceSecurityToken("guest")}};vBulletin.AJAX({call:"/ajax/replace-securitytoken",data:{securitytoken:pageData.securitytoken},success:function(U){securitytoken_errors=0;vBulletin.doReplaceSecurityToken(U.newtoken)},api_error:T,error:T,})}}function O(){if(typeof (pageData.adminAction)!="undefined"){vBulletin.assertUserHasAdminPermission("canusesitebuilder",self,H.noop,function(){window.location.reload()})}if(vBulletin.options.get("crontab")){if(pageData.nextcron<=pageData.current_server_datetime){vBulletin.loadingIndicator.suppressNextAjaxIndicator();vBulletin.AJAX({call:"/ajax/apidetach/cron/run",api_error:H.noop,error:vBulletin.ajaxtools.logAjaxError})}}}P();H("#btnAdvSearch").off("click").on("click",function(U){U.preventDefault();H(this).data("clicked2submit",1);var T=H("#searchForm");H('<input type="hidden" name="AdvSearch" value="1" />').appendTo(T);T.submit()});H("#searchForm").off("submit.searchform").on("submit.searchform",function(X){var U=H(this),Z={},W=U.find("#q"),V=H.trim(W.val());if(V.length>0){Z.keywords=V}else{if(!H("#btnAdvSearch").data("clicked2submit")){vBulletin.warning("search","please_provide_search_string",function(){W.focus()});X.stopPropagation();return false}}var Y=U.find(".searchPopupBody");function T(c,b,a){if(a.length>0&&a.prop("checked")){c[b]=a.val()}}T(Z,"title_only",Y.find(".searchFields_title_only"));T(Z,"author",Y.find(".searchFields_author"));T(Z,"channel",Y.find(".searchFields_channel"));U.find("input[name=searchJSON]").val(JSON.stringify(Z));return true});var R,S=pageData.cookie_prefix+"np_notices_displayed";if(!(R=H.cookie(S))){R=new Array()}if(!(R instanceof Array)){R=new Array(R)}H('ul.notices li[data-notice-persistent="0"]').each(function(T){R.push(H(this).attr("data-notice-id"))});if(R.length>0){R=null}H.cookie(S,R,{path:pageData.cookie_path,domain:pageData.cookie_domain});H("ul.notices > li > .close").off("click").on("click",function(T){var V=H(this).closest("li"),U=V.attr("data-notice-id");vBulletin.AJAX({call:"/ajax/api/notice/dismiss",data:{noticeid:U},success:function(W){V.hide("slow",function(){var X=H(this).parent();if(X.find(">li:visible").length==0){X.addClass("h-hide")}})}})});H("#frmActivateuser").ajaxForm({dataType:"json",beforeSubmit:function(W,V,U){var T="",X="";if(H.trim(H(".username",V).val())==""){T=vBulletin.phrase.get("please_enter_a_username");X=".username"}else{if(H.trim(H(".activateid",V).val())==""){T=vBulletin.phrase.get("requiredfieldmissing",vBulletin.phrase.get("activation_code"));X=".activateid"}}if(T){openAlertDialog({title:vBulletin.phrase.get("error"),message:T,iconType:"warning",onAfterClose:function(){H(X,V).focus()}});return false}return true},success:function(V,X,Y,U){if(V&&V.response&&V.response.errors){var Z=[];for(var T in V.response.errors){if(V.response.errors[T][0]!="exception_trace"&&V.response.errors[T][0]!="errormsg"){Z.push(vBulletin.phrase.get(V.response.errors[T]))}}openAlertDialog({title:vBulletin.phrase.get("error"),message:Z.join("<br />"),iconType:"warning",onAfterClose:function(){vBulletin.hv.reset(true)}})}else{var W=V.response.msg_params;W.unshift(V.response.msg);openAlertDialog({title:vBulletin.phrase.get("activate_your_account"),message:vBulletin.phrase.get.apply(vBulletin.phrase,W),onAfterClose:function(){window.location.href=pageData.baseurl}})}}});H("#frmActivateemail").ajaxForm({dataType:"json",beforeSubmit:function(W,V,U){var T="",X="";if(H.trim(H(".email",V).val())==""){T=vBulletin.phrase.get("please_enter_your_email_address")}else{if(!isValidEmailAddress(H(".email",V).val())){T=vBulletin.phrase.get("invalid_email_address")}}if(T){openAlertDialog({title:vBulletin.phrase.get("error"),message:T,iconType:"warning",onAfterClose:function(){H(X,V).focus()}});return false}return true},success:function(V,X,Y,U){if(V&&V.response&&V.response.errors){var Z=[];for(var T in V.response.errors){if(V.response.errors[T][0]!="exception_trace"&&V.response.errors[T][0]!="errormsg"){Z.push(vBulletin.phrase.get(V.response.errors[T]))}}openAlertDialog({title:vBulletin.phrase.get("error"),message:Z.join("<br />"),iconType:"warning",onAfterClose:function(){vBulletin.hv.reset(true)}})}else{var W=V.response.msg_params;W.unshift(V.response.msg);openAlertDialog({title:vBulletin.phrase.get("email_activation_codes"),message:vBulletin.phrase.get.apply(vBulletin.phrase,W),onAfterClose:function(){window.location.href=pageData.baseurl}})}}});H(".js-stylechooser a").off("click").on("click",function(){var T=H(this).data("styleid"),U=new Date();U.setDate(U.getDate()+365);H.cookie(pageData.cookie_prefix+"userstyleid",T,{path:pageData.cookie_path,domain:pageData.cookie_domain,expires:U});if(pageData.userid){var V={userid:pageData.userid,password:"",user:{styleid:T},options:[""],adminoptions:[""],userfield:[""],};vBulletin.loadingIndicator.suppressNextAjaxIndicator();vBulletin.AJAX({call:"/ajax/apidetach/user/save",data:V,success:function(){window.location.reload()},})}else{window.location.reload()}return false});H(".js-languagechooser a").off("click").on("click",function(){var T=H(this).data("languageid"),U=new Date();U.setDate(U.getDate()+365);H.cookie(pageData.cookie_prefix+"languageid",T,{path:pageData.cookie_path,domain:pageData.cookie_domain,expires:U});window.location.reload();return false});H("a.navbar_profile").on("click",function(){if(pageData.userid=="0"){H("#lnkLoginSignupMenu").click();return false}});vBulletin.doReplaceSecurityToken(pageData.securitytoken);securitytoken_timeout=window.setTimeout(Q,3600000);securitytoken_errors=0;vBulletin.initFlexGridFixLastRowAll();vBulletin.initFrameImagesWithColor();I();setTimeout(O,5)},1);vBulletin.getQueryString=function(P){if(P==""){return{}}var O={};for(var Q=0;Q<P.length;++Q){var R=P[Q].split("=");if(R.length!=2){continue}O[R[0]]=decodeURIComponent(R[1].replace(/\+/g," "))}return O};vBulletin.triggerHandler=function(O,Q,R){if(!Q||Q.length==0){Q=H(document)}else{if(!(Q instanceof H)){Q=H(Q)}}R=R||[];var P=H.Event(O);P.target=this instanceof H?this.get(0):this;return Q.triggerHandler(P,R)}})(jQuery);function JShtmlEncode(B){var A="";if(B&&typeof B!=="undefined"&&B.length>0){A=$("<div/>").text(B).html()}A=String(A).replace(/"/g,"&quot;");return A}function isValidEmailAddress(B){var A=new RegExp(/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/i);return A.test(B)}function str_repeat(D,C){var B="";for(var A=0;A<C;A++){B=B.concat(D)}return B}function showStatusMessage(A,F){var C=$(".conversation-status-message.notice"),E;if(C.length>0){var B=C.filter("."+F);if(B.length==1){C=B}else{if((E=C.filter(".h-hide")).length==1){C=E}else{C=C.first().clone().removeClass().addClass("conversation-status-message notice").appendTo(".conversation-status-messages")}}C=(B.length==1?B:C).show();if(!vBulletin.isScrolledIntoView(C)){var D=C.offset().top-10;C.hide();$("html,body").animate({scrollTop:D},"slow",function(){C.find("span").html(A).end().addClass(F+" show-x").fadeIn("slow","linear")})}else{if(C.hasClass("h-hide")){C.hide().removeClass("h-hide").addClass(F+" show-x").find("span").html(A).end().fadeIn(800,"linear")}else{C.fadeOut("slow","linear",function(){C.find("span").html(A).end().addClass(F+" show-x").fadeIn("slow","linear")})}}}}window.vBulletin.htmlEntities=function(A){return String(A).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};window.vBulletin.htmlEntities_decode=function(A){return String(A).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"')};window.vBulletin.loadedIds=window.vBulletin.loadedIds||[];window.vBulletin.isAlreadyLoaded=function(A){if($.inArray(A,window.vBulletin.loadedIds)!=-1){return true}window.vBulletin.loadedIds.push(A)};;

// ***************************
// js.compressed/jquery/history.js
// ***************************
/**
 * History.js Core
 * @author Benjamin Arthur Lupton <contact@balupton.com>
 * @copyright 2010-2011 Benjamin Arthur Lupton <contact@balupton.com>
 * @license New BSD License <http://creativecommons.org/licenses/BSD/>
 *
 * ============ NOTE: This version contains patch from https://github.com/christanto/history.js/commit/b78af84fc2b6b5da573e5ee0bd72f4213e36bb18 ============
 */

(function(window,undefined){
	"use strict";

	// --------------------------------------------------------------------------
	// Initialise

	// Localise Globals
	var
		console = window.console||undefined, // Prevent a JSLint complain
		document = window.document, // Make sure we are using the correct document
		navigator = window.navigator, // Make sure we are using the correct navigator
		amplify = window.amplify||false, // Amplify.js
		setTimeout = window.setTimeout,
		clearTimeout = window.clearTimeout,
		setInterval = window.setInterval,
		clearInterval = window.clearInterval,
		JSON = window.JSON,
		History = window.History = window.History||{}, // Public History Object
		history = window.history; // Old History Object

	// MooTools Compatibility
	JSON.stringify = JSON.stringify||JSON.encode;
	JSON.parse = JSON.parse||JSON.decode;

	// Check Existence
	if ( typeof History.init !== 'undefined' ) {
		throw new Error('History.js Core has already been loaded...');
	}

	// Initialise History
	History.init = function(){
		// Check Load Status of Adapter
		if ( typeof History.Adapter === 'undefined' ) {
			return false;
		}

		// Check Load Status of Core
		if ( typeof History.initCore !== 'undefined' ) {
			History.initCore();
		}

		// Check Load Status of HTML4 Support
		if ( typeof History.initHtml4 !== 'undefined' ) {
			History.initHtml4();
		}

		// Return true
		return true;
	};

	// --------------------------------------------------------------------------
	// Initialise Core

	// Initialise Core
	History.initCore = function(){
		// Initialise
		if ( typeof History.initCore.initialized !== 'undefined' ) {
			// Already Loaded
			return false;
		}
		else {
			History.initCore.initialized = true;
		}

		// ----------------------------------------------------------------------
		// Options

		/**
		 * History.options
		 * Configurable options
		 */
		History.options = History.options||{};

		/**
		 * History.options.hashChangeInterval
		 * How long should the interval be before hashchange checks
		 */
		History.options.hashChangeInterval = History.options.hashChangeInterval || 100;

		/**
		 * History.options.safariPollInterval
		 * How long should the interval be before safari poll checks
		 */
		History.options.safariPollInterval = History.options.safariPollInterval || 500;

		/**
		 * History.options.doubleCheckInterval
		 * How long should the interval be before we perform a double check
		 */
		History.options.doubleCheckInterval = History.options.doubleCheckInterval || 500;

		/**
		 * History.options.storeInterval
		 * How long should we wait between store calls
		 */
		History.options.storeInterval = History.options.storeInterval || 1000;

		/**
		 * History.options.busyDelay
		 * How long should we wait between busy events
		 */
		History.options.busyDelay = History.options.busyDelay || 250;

		/**
		 * History.options.debug
		 * If true will enable debug messages to be logged
		 */
		History.options.debug = History.options.debug || false;

		/**
		 * History.options.initialTitle
		 * What is the title of the initial state
		 */
		History.options.initialTitle = History.options.initialTitle || document.title;

		/**
		* History.options.transformHash
		* If true will transform the HTML4 hash to HTML5 equivalence. Set to false if you want the hash to be just a plain string, no meaning whatsoever.
		*/
		History.options.transformHash = History.options.transformHash || true;

		// ----------------------------------------------------------------------
		// Interval record

		/**
		 * History.intervalList
		 * List of intervals set, to be cleared when document is unloaded.
		 */
		History.intervalList = [];

		/**
		 * History.clearAllIntervals
		 * Clears all setInterval instances.
		 */
		History.clearAllIntervals = function(){
			var i, il = History.intervalList;
			if (typeof il !== "undefined" && il !== null) {
				for (i = 0; i < il.length; i++) {
					clearInterval(il[i]);
				}
				History.intervalList = null;
			}
		};
		History.Adapter.bind(window,"beforeunload",History.clearAllIntervals);
		History.Adapter.bind(window,"unload",History.clearAllIntervals);


		// ----------------------------------------------------------------------
		// Debug

		/**
		 * History.debug(message,...)
		 * Logs the passed arguments if debug enabled
		 */
		History.debug = function(){
			if ( (History.options.debug||false) ) {
				History.log.apply(History,arguments);
			}
		};

		/**
		 * History.log(message,...)
		 * Logs the passed arguments
		 */
		History.log = function(){
			// Prepare
			var
				consoleExists = !(typeof console === 'undefined' || typeof console.log === 'undefined' || typeof console.log.apply === 'undefined'),
				textarea = document.getElementById('log'),
				message,
				i,n
				;

			// Write to Console
			if ( consoleExists ) {
				var args = Array.prototype.slice.call(arguments);
				message = args.shift();
				if ( typeof console.debug !== 'undefined' ) {
					console.debug.apply(console,[message,args]);
				}
				else {
					console.log.apply(console,[message,args]);
				}
			}
			else {
				message = ("\n"+arguments[0]+"\n");
			}

			// Write to log
			for ( i=1,n=arguments.length; i<n; ++i ) {
				var arg = arguments[i];
				if ( typeof arg === 'object' && typeof JSON !== 'undefined' ) {
					try {
						arg = JSON.stringify(arg);
					}
					catch ( Exception ) {
						// Recursive Object
					}
				}
				message += "\n"+arg+"\n";
			}

			// Textarea
			if ( textarea ) {
				textarea.value += message+"\n-----\n";
				textarea.scrollTop = textarea.scrollHeight - textarea.clientHeight;
			}
			// No Textarea, No Console
			else if ( !consoleExists ) {
				alert(message);
			}

			// Return true
			return true;
		};

		// ----------------------------------------------------------------------
		// Emulated Status

		/**
		 * History.getInternetExplorerMajorVersion()
		 * Get's the major version of Internet Explorer
		 * @return {integer}
		 * @license Public Domain
		 * @author Benjamin Arthur Lupton <contact@balupton.com>
		 * @author James Padolsey <https://gist.github.com/527683>
		 */
		History.getInternetExplorerMajorVersion = function(){
			var result = History.getInternetExplorerMajorVersion.cached =
					(typeof History.getInternetExplorerMajorVersion.cached !== 'undefined')
				?	History.getInternetExplorerMajorVersion.cached
				:	(function(){
						var v = 3,
								div = document.createElement('div'),
								all = div.getElementsByTagName('i');
						while ( (div.innerHTML = '<!--[if gt IE ' + (++v) + ']><i></i><![endif]-->') && all[0] ) {}
						return (v > 4) ? v : false;
					})()
				;
			return result;
		};

		/**
		 * History.isInternetExplorer()
		 * Are we using Internet Explorer?
		 * @return {boolean}
		 * @license Public Domain
		 * @author Benjamin Arthur Lupton <contact@balupton.com>
		 */
		History.isInternetExplorer = function(){
			var result =
				History.isInternetExplorer.cached =
				(typeof History.isInternetExplorer.cached !== 'undefined')
					?	History.isInternetExplorer.cached
					:	Boolean(History.getInternetExplorerMajorVersion())
				;
			return result;
		};

		/**
		 * History.emulated
		 * Which features require emulating?
		 */
		History.emulated = {
			pushState: !Boolean(
				window.history && window.history.pushState && window.history.replaceState
				&& !(
					(/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i).test(navigator.userAgent) /* disable for versions of iOS before version 4.3 (8F190) */
					|| (/AppleWebKit\/5([0-2]|3[0-2])/i).test(navigator.userAgent) /* disable for the mercury iOS browser, or at least older versions of the webkit engine */
				)
			),
			hashChange: Boolean(
				!(('onhashchange' in window) || ('onhashchange' in document))
				||
				(History.isInternetExplorer() && History.getInternetExplorerMajorVersion() < 8)
			)
		};

		/**
		 * History.enabled
		 * Is History enabled?
		 */
		History.enabled = !History.emulated.pushState;

		/**
		 * History.bugs
		 * Which bugs are present
		 */
		History.bugs = {
			/**
			 * Safari 5 and Safari iOS 4 fail to return to the correct state once a hash is replaced by a `replaceState` call
			 * https://bugs.webkit.org/show_bug.cgi?id=56249
			 */
			setHash: Boolean(!History.emulated.pushState && navigator.vendor === 'Apple Computer, Inc.' && /AppleWebKit\/5([0-2]|3[0-3])/.test(navigator.userAgent)),

			/**
			 * Safari 5 and Safari iOS 4 sometimes fail to apply the state change under busy conditions
			 * https://bugs.webkit.org/show_bug.cgi?id=42940
			 */
			safariPoll: Boolean(!History.emulated.pushState && navigator.vendor === 'Apple Computer, Inc.' && /AppleWebKit\/5([0-2]|3[0-3])/.test(navigator.userAgent)),

			/**
			 * MSIE 6 and 7 sometimes do not apply a hash even it was told to (requiring a second call to the apply function)
			 */
			ieDoubleCheck: Boolean(History.isInternetExplorer() && History.getInternetExplorerMajorVersion() < 8),

			/**
			 * MSIE 6 requires the entire hash to be encoded for the hashes to trigger the onHashChange event
			 */
			hashEscape: Boolean(History.isInternetExplorer() && History.getInternetExplorerMajorVersion() < 7)
		};

		/**
		 * History.isEmptyObject(obj)
		 * Checks to see if the Object is Empty
		 * @param {Object} obj
		 * @return {boolean}
		 */
		History.isEmptyObject = function(obj) {
			for ( var name in obj ) {
				return false;
			}
			return true;
		};

		/**
		 * History.cloneObject(obj)
		 * Clones a object
		 * @param {Object} obj
		 * @return {Object}
		 */
		History.cloneObject = function(obj) {
			var hash,newObj;
			if ( obj ) {
				hash = JSON.stringify(obj);
				newObj = JSON.parse(hash);
			}
			else {
				newObj = {};
			}
			return newObj;
		};

		// ----------------------------------------------------------------------
		// URL Helpers

		/**
		 * History.getRootUrl()
		 * Turns "http://mysite.com/dir/page.html?asd" into "http://mysite.com"
		 * @return {String} rootUrl
		 */
		History.getRootUrl = function(){
			// Create
			var rootUrl = document.location.protocol+'//'+(document.location.hostname||document.location.host);
			if ( document.location.port||false ) {
				rootUrl += ':'+document.location.port;
			}
			rootUrl += '/';

			// Return
			return rootUrl;
		};

		/**
		 * History.getBaseHref()
		 * Fetches the `href` attribute of the `<base href="...">` element if it exists
		 * @return {String} baseHref
		 */
		History.getBaseHref = function(){
			// Create
			var
				baseElements = document.getElementsByTagName('base'),
				baseElement = null,
				baseHref = '';

			// Test for Base Element
			if ( baseElements.length === 1 ) {
				// Prepare for Base Element
				baseElement = baseElements[0];
				baseHref = baseElement.href.replace(/[^\/]+$/,'');
			}

			// Adjust trailing slash
			baseHref = baseHref.replace(/\/+$/,'');
			if ( baseHref ) baseHref += '/';

			// Return
			return baseHref;
		};

		/**
		 * History.getBaseUrl()
		 * Fetches the baseHref or basePageUrl or rootUrl (whichever one exists first)
		 * @return {String} baseUrl
		 */
		History.getBaseUrl = function(){
			// Create
			var baseUrl = History.getBaseHref()||History.getBasePageUrl()||History.getRootUrl();

			// Return
			return baseUrl;
		};

		/**
		 * History.getPageUrl()
		 * Fetches the URL of the current page
		 * @return {String} pageUrl
		 */
		History.getPageUrl = function(){
			// Fetch
			var
				State = History.getState(false,false),
				stateUrl = (State||{}).url||document.location.href;

			// Create
			var pageUrl = stateUrl.replace(/\/+$/,'').replace(/[^\/]+$/,function(part,index,string){
				return (/\./).test(part) ? part : part+'/';
			});

			// Return
			return pageUrl;
		};

		/**
		 * History.getBasePageUrl()
		 * Fetches the Url of the directory of the current page
		 * @return {String} basePageUrl
		 */
		History.getBasePageUrl = function(){
			// Create
			var basePageUrl = document.location.href.replace(/[#\?].*/,'').replace(/[^\/]+$/,function(part,index,string){
				return (/[^\/]$/).test(part) ? '' : part;
			}).replace(/\/+$/,'')+'/';

			// Return
			return basePageUrl;
		};

		/**
		 * History.getFullUrl(url)
		 * Ensures that we have an absolute URL and not a relative URL
		 * @param {string} url
		 * @param {Boolean} allowBaseHref
		 * @return {string} fullUrl
		 */
		History.getFullUrl = function(url,allowBaseHref){
			// Prepare
			var fullUrl = url, firstChar = url.substring(0,1);
			allowBaseHref = (typeof allowBaseHref === 'undefined') ? true : allowBaseHref;

			// Check
			if ( /[a-z]+\:\/\//.test(url) ) {
				// Full URL
			}
			else if ( firstChar === '/' ) {
				// Root URL
				fullUrl = History.getRootUrl()+url.replace(/^\/+/,'');
			}
			else if ( firstChar === '#' ) {
				// Anchor URL
				fullUrl = History.getPageUrl().replace(/#.*/,'')+url;
			}
			else if ( firstChar === '?' ) {
				// Query URL
				fullUrl = History.getPageUrl().replace(/[\?#].*/,'')+url;
			}
			else {
				// Relative URL
				if ( allowBaseHref ) {
					fullUrl = History.getBaseUrl()+url.replace(/^(\.\/)+/,'');
				} else {
					fullUrl = History.getBasePageUrl()+url.replace(/^(\.\/)+/,'');
				}
				// We have an if condition above as we do not want hashes
				// which are relative to the baseHref in our URLs
				// as if the baseHref changes, then all our bookmarks
				// would now point to different locations
				// whereas the basePageUrl will always stay the same
			}

			// Return
			return fullUrl.replace(/\#$/,'');
		};

		/**
		 * History.getShortUrl(url)
		 * Ensures that we have a relative URL and not a absolute URL
		 * @param {string} url
		 * @return {string} url
		 */
		History.getShortUrl = function(url){
			// Prepare
			var shortUrl = url, baseUrl = History.getBaseUrl(), rootUrl = History.getRootUrl();

			// Trim baseUrl
			if ( History.emulated.pushState ) {
				// We are in a if statement as when pushState is not emulated
				// The actual url these short urls are relative to can change
				// So within the same session, we the url may end up somewhere different
				shortUrl = shortUrl.replace(baseUrl,'');
			}

			// Trim rootUrl
			shortUrl = shortUrl.replace(rootUrl,'/');

			// Ensure we can still detect it as a state
			if ( History.isTraditionalAnchor(shortUrl) ) {
				shortUrl = './'+shortUrl;
			}

			// Clean It
			shortUrl = shortUrl.replace(/^(\.\/)+/g,'./').replace(/\#$/,'');

			// Return
			return shortUrl;
		};

		// ----------------------------------------------------------------------
		// State Storage

		/**
		 * History.store
		 * The store for all session specific data
		 */
		History.store = amplify ? (amplify.store('History.store')||{}) : {};
		History.store.idToState = History.store.idToState||{};
		History.store.urlToId = History.store.urlToId||{};
		History.store.stateToId = History.store.stateToId||{};

		/**
		 * History.idToState
		 * 1-1: State ID to State Object
		 */
		History.idToState = History.idToState||{};

		/**
		 * History.stateToId
		 * 1-1: State String to State ID
		 */
		History.stateToId = History.stateToId||{};

		/**
		 * History.urlToId
		 * 1-1: State URL to State ID
		 */
		History.urlToId = History.urlToId||{};

		/**
		 * History.storedStates
		 * Store the states in an array
		 */
		History.storedStates = History.storedStates||[];

		/**
		 * History.savedStates
		 * Saved the states in an array
		 */
		History.savedStates = History.savedStates||[];

		/**
		 * History.getState()
		 * Get an object containing the data, title and url of the current state
		 * @param {Boolean} friendly
		 * @param {Boolean} create
		 * @return {Object} State
		 */
		History.getState = function(friendly,create){
			// Prepare
			if ( typeof friendly === 'undefined' ) { friendly = true; }
			if ( typeof create === 'undefined' ) { create = true; }

			// Fetch
			var State = History.getLastSavedState();

			// Create
			if ( !State && create ) {
				State = History.createStateObject();
			}

			// Adjust
			if ( friendly ) {
				State = History.cloneObject(State);
				State.url = State.cleanUrl||State.url;
			}

			// Return
			return State;
		};

		/**
		 * History.getIdByState(State)
		 * Gets a ID for a State
		 * @param {State} newState
		 * @return {String} id
		 */
		History.getIdByState = function(newState){

			// Fetch ID
			var id = History.extractId(newState.url);
			if ( !id ) {
				// Find ID via State String
				var str = History.getStateString(newState);
				if ( typeof History.stateToId[str] !== 'undefined' ) {
					id = History.stateToId[str];
				}
				else if ( typeof History.store.stateToId[str] !== 'undefined' ) {
					id = History.store.stateToId[str];
				}
				else {
					// Generate a new ID
					while ( true ) {
						id = String(Math.floor(Math.random()*1000));
						if ( typeof History.idToState[id] === 'undefined' && typeof History.store.idToState[id] === 'undefined' ) {
							break;
						}
					}

					// Apply the new State to the ID
					History.stateToId[str] = id;
					History.idToState[id] = newState;
				}
			}

			// Return ID
			return id;
		};

		/**
		 * History.normalizeState(State)
		 * Expands a State Object
		 * @param {object} State
		 * @return {object}
		 */
		History.normalizeState = function(oldState){
			// Prepare
			if ( !oldState || (typeof oldState !== 'object') ) {
				oldState = {};
			}

			// Check
			if ( typeof oldState.normalized !== 'undefined' ) {
				return oldState;
			}

			// Adjust
			if ( !oldState.data || (typeof oldState.data !== 'object') ) {
				oldState.data = {};
			}

			// ----------------------------------------------------------------------

			// Create
			var newState = {};
			newState.normalized = true;
			newState.title = oldState.title||'';
			newState.url = History.getFullUrl(History.unescapeString(oldState.url||document.location.href));
			newState.hash = History.getShortUrl(newState.url);
			newState.data = History.cloneObject(oldState.data);

			// Fetch ID
			newState.id = History.getIdByState(newState);

			// ----------------------------------------------------------------------

			// Clean the URL
			newState.cleanUrl = newState.url.replace(/\??\&_suid.*/,'');
			newState.url = newState.cleanUrl;

			// Check to see if we have more than just a url
			var dataNotEmpty = !History.isEmptyObject(newState.data);

			// Apply
			if ( newState.title || dataNotEmpty ) {
				// Add ID to Hash
				newState.hash = History.getShortUrl(newState.url).replace(/\??\&_suid.*/,'');
				if ( !/\?/.test(newState.hash) ) {
					newState.hash += '?';
				}
				newState.hash += '&_suid='+newState.id;
			}

			// Create the Hashed URL
			newState.hashedUrl = History.getFullUrl(newState.hash);

			// ----------------------------------------------------------------------

			// Update the URL if we have a duplicate
			if ( (History.emulated.pushState || History.bugs.safariPoll) && History.hasUrlDuplicate(newState) ) {
				newState.url = newState.hashedUrl;
			}

			// ----------------------------------------------------------------------

			// Return
			return newState;
		};

		/**
		 * History.createStateObject(data,title,url)
		 * Creates a object based on the data, title and url state params
		 * @param {object} data
		 * @param {string} title
		 * @param {string} url
		 * @return {object}
		 */
		History.createStateObject = function(data,title,url){
			// Hashify
			var State = {
				'data': data,
				'title': title,
				'url': url
			};

			// Expand the State
			State = History.normalizeState(State);

			// Return object
			return State;
		};

		/**
		 * History.getStateById(id)
		 * Get a state by it's UID
		 * @param {String} id
		 */
		History.getStateById = function(id){
			// Prepare
			id = String(id);

			// Retrieve
			var State = History.idToState[id] || History.store.idToState[id] || undefined;

			// Return State
			return State;
		};

		/**
		 * Get a State's String
		 * @param {State} passedState
		 */
		History.getStateString = function(passedState){
			// Prepare
			var State = History.normalizeState(passedState);

			// Clean
			var cleanedState = {
				data: State.data,
				title: passedState.title,
				url: passedState.url
			};

			// Fetch
			var str = JSON.stringify(cleanedState);

			// Return
			return str;
		};

		/**
		 * Get a State's ID
		 * @param {State} passedState
		 * @return {String} id
		 */
		History.getStateId = function(passedState){
			// Prepare
			var State = History.normalizeState(passedState);

			// Fetch
			var id = State.id;

			// Return
			return id;
		};

		/**
		 * History.getHashByState(State)
		 * Creates a Hash for the State Object
		 * @param {State} passedState
		 * @return {String} hash
		 */
		History.getHashByState = function(passedState){
			// Prepare
			var hash, State = History.normalizeState(passedState);

			// Fetch
			hash = State.hash;

			// Return
			return hash;
		};

		/**
		 * History.extractId(url_or_hash)
		 * Get a State ID by it's URL or Hash
		 * @param {string} url_or_hash
		 * @return {string} id
		 */
		History.extractId = function ( url_or_hash ) {
			// Prepare
			var id;

			// Extract
			var parts,url;
			parts = /(.*)\&_suid=([0-9]+)$/.exec(url_or_hash);
			url = parts ? (parts[1]||url_or_hash) : url_or_hash;
			id = parts ? String(parts[2]||'') : '';

			// Return
			return id||false;
		};

		/**
		 * History.isTraditionalAnchor
		 * Checks to see if the url is a traditional anchor or not
		 * @param {String} url_or_hash
		 * @return {Boolean}
		 */
		History.isTraditionalAnchor = function(url_or_hash){
			// Check
			var isTraditional = !(/[\/\?\.]/.test(url_or_hash));

			// Return
			return isTraditional;
		};

		/**
		 * History.extractState
		 * Get a State by it's URL or Hash
		 * @param {String} url_or_hash
		 * @return {State|null}
		 */
		History.extractState = function(url_or_hash,create){
			// Prepare
			var State = null;
			create = create||false;

			// Fetch SUID
			var id = History.extractId(url_or_hash);
			if ( id ) {
				State = History.getStateById(id);
			}

			// Fetch SUID returned no State
			if ( !State ) {
				// Fetch URL
				var url = History.getFullUrl(url_or_hash);

				// Check URL
				id = History.getIdByUrl(url)||false;
				if ( id ) {
					State = History.getStateById(id);
				}

				// Create State
				if ( !State && create && !History.isTraditionalAnchor(url_or_hash) ) {
					State = History.createStateObject(null,null,url);
				}
			}

			// Return
			return State;
		};

		/**
		 * History.getIdByUrl()
		 * Get a State ID by a State URL
		 */
		History.getIdByUrl = function(url){
			// Fetch
			var id = History.urlToId[url] || History.store.urlToId[url] || undefined;

			// Return
			return id;
		};

		/**
		 * History.getLastSavedState()
		 * Get an object containing the data, title and url of the current state
		 * @return {Object} State
		 */
		History.getLastSavedState = function(){
			return History.savedStates[History.savedStates.length-1]||undefined;
		};

		/**
		 * History.getLastStoredState()
		 * Get an object containing the data, title and url of the current state
		 * @return {Object} State
		 */
		History.getLastStoredState = function(){
			return History.storedStates[History.storedStates.length-1]||undefined;
		};

		/**
		 * History.hasUrlDuplicate
		 * Checks if a Url will have a url conflict
		 * @param {Object} newState
		 * @return {Boolean} hasDuplicate
		 */
		History.hasUrlDuplicate = function(newState) {
			// Prepare
			var hasDuplicate = false;

			// Fetch
			var oldState = History.extractState(newState.url);

			// Check
			hasDuplicate = oldState && oldState.id !== newState.id;

			// Return
			return hasDuplicate;
		};

		/**
		 * History.storeState
		 * Store a State
		 * @param {Object} newState
		 * @return {Object} newState
		 */
		History.storeState = function(newState){
			// Store the State
			History.urlToId[newState.url] = newState.id;

			// Push the State
			History.storedStates.push(History.cloneObject(newState));

			// Return newState
			return newState;
		};

		/**
		 * History.isLastSavedState(newState)
		 * Tests to see if the state is the last state
		 * @param {Object} newState
		 * @return {boolean} isLast
		 */
		History.isLastSavedState = function(newState){
			// Prepare
			var isLast = false;

			// Check
			if ( History.savedStates.length ) {
				var
					newId = newState.id,
					oldState = History.getLastSavedState(),
					oldId = oldState.id;

				// Check
				isLast = (newId === oldId);
			}

			// Return
			return isLast;
		};

		/**
		 * History.saveState
		 * Push a State
		 * @param {Object} newState
		 * @return {boolean} changed
		 */
		History.saveState = function(newState){
			// Check Hash
			if ( History.isLastSavedState(newState) ) {
				return false;
			}

			// Push the State
			History.savedStates.push(History.cloneObject(newState));

			// Return true
			return true;
		};

		/**
		 * History.getStateByIndex()
		 * Gets a state by the index
		 * @param {integer} index
		 * @return {Object}
		 */
		History.getStateByIndex = function(index){
			// Prepare
			var State = null;

			// Handle
			if ( typeof index === 'undefined' ) {
				// Get the last inserted
				State = History.savedStates[History.savedStates.length-1];
			}
			else if ( index < 0 ) {
				// Get from the end
				State = History.savedStates[History.savedStates.length+index];
			}
			else {
				// Get from the beginning
				State = History.savedStates[index];
			}

			// Return State
			return State;
		};

		// ----------------------------------------------------------------------
		// Hash Helpers

		/**
		 * History.getHash()
		 * Gets the current document hash
		 * @return {string}
		 */
		History.getHash = function(){
			var hash = History.unescapeHash(document.location.hash);
			return hash;
		};

		/**
		 * History.unescapeString()
		 * Unescape a string
		 * @param {String} str
		 * @return {string}
		 */
		History.unescapeString = function(str){
			// Prepare
			var result = str;

			// Unescape hash
			var tmp;
			while ( true ) {
				tmp = window.unescape(result);
				if ( tmp === result ) {
					break;
				}
				result = tmp;
			}

			// Return result
			return result;
		};

		/**
		 * History.unescapeHash()
		 * normalize and Unescape a Hash
		 * @param {String} hash
		 * @return {string}
		 */
		History.unescapeHash = function(hash){
			// Prepare
			var result = History.normalizeHash(hash);

			// Unescape hash
			result = History.unescapeString(result);

			// Return result
			return result;
		};

		/**
		 * History.normalizeHash()
		 * normalize a hash across browsers
		 * @return {string}
		 */
		History.normalizeHash = function(hash){
			var result = hash.replace(/[^#]*#/,'').replace(/#.*/, '');

			// Return result
			return result;
		};

		/**
		 * History.setHash(hash)
		 * Sets the document hash
		 * @param {string} hash
		 * @return {History}
		 */
		History.setHash = function(hash,queue){
			// Handle Queueing
			if ( queue !== false && History.busy() ) {
				// Wait + Push to Queue
				//History.debug('History.setHash: we must wait', arguments);
				History.pushQueue({
					scope: History,
					callback: History.setHash,
					args: arguments,
					queue: queue
				});
				return false;
			}

			// Log
			//History.debug('History.setHash: called',hash);

			// Prepare
			var adjustedHash = History.escapeHash(hash);

			// Make Busy + Continue
			History.busy(true);

			// Check if hash is a state
			var State = History.extractState(hash,true);
			if ( State && !History.emulated.pushState ) {
				// Hash is a state so skip the setHash
				//History.debug('History.setHash: Hash is a state so skipping the hash set with a direct pushState call',arguments);

				// PushState
				History.pushState(State.data,State.title,State.url,false);
			}
			else if ( document.location.hash !== adjustedHash ) {
				// Hash is a proper hash, so apply it

				// Handle browser bugs
				if ( History.bugs.setHash ) {
					// Fix Safari Bug https://bugs.webkit.org/show_bug.cgi?id=56249

					// Fetch the base page
					var pageUrl = History.getPageUrl();

					// Safari hash apply
					History.pushState(null,null,pageUrl+'#'+adjustedHash,false);
				}
				else {
					// Normal hash apply
					document.location.hash = adjustedHash;
				}
			}

			// Chain
			return History;
		};

		/**
		 * History.escape()
		 * normalize and Escape a Hash
		 * @return {string}
		 */
		History.escapeHash = function(hash){
			var result = History.normalizeHash(hash);

			// Escape hash
			result = window.escape(result);

			// IE6 Escape Bug
			if ( !History.bugs.hashEscape ) {
				// Restore common parts
				result = result
					.replace(/\%21/g,'!')
					.replace(/\%26/g,'&')
					.replace(/\%3D/g,'=')
					.replace(/\%3F/g,'?');
			}

			// Return result
			return result;
		};

		/**
		 * History.getHashByUrl(url)
		 * Extracts the Hash from a URL
		 * @param {string} url
		 * @return {string} url
		 */
		History.getHashByUrl = function(url){
			// Extract the hash
			var hash = String(url)
				.replace(/([^#]*)#?([^#]*)#?(.*)/, '$2')
				;

			// Unescape hash
			hash = History.unescapeHash(hash);

			// Return hash
			return hash;
		};

		/**
		 * History.setTitle(title)
		 * Applies the title to the document
		 * @param {State} newState
		 * @return {Boolean}
		 */
		History.setTitle = function(newState){
			// Prepare
			var title = newState.title;

			// Initial
			if ( !title ) {
				var firstState = History.getStateByIndex(0);
				if ( firstState && firstState.url === newState.url ) {
					title = firstState.title||History.options.initialTitle;
				}
			}

			// Apply
			try {
				document.getElementsByTagName('title')[0].innerHTML = title.replace('<','&lt;').replace('>','&gt;').replace(' & ',' &amp; ');
			}
			catch ( Exception ) { }
			document.title = title;

			// Chain
			return History;
		};

		// ----------------------------------------------------------------------
		// Queueing

		/**
		 * History.queues
		 * The list of queues to use
		 * First In, First Out
		 */
		History.queues = [];

		/**
		 * History.busy(value)
		 * @param {boolean} value [optional]
		 * @return {boolean} busy
		 */
		History.busy = function(value){
			// Apply
			if ( typeof value !== 'undefined' ) {
				//History.debug('History.busy: changing ['+(History.busy.flag||false)+'] to ['+(value||false)+']', History.queues.length);
				History.busy.flag = value;
			}
			// Default
			else if ( typeof History.busy.flag === 'undefined' ) {
				History.busy.flag = false;
			}

			// Queue
			if ( !History.busy.flag ) {
				// Execute the next item in the queue
				clearTimeout(History.busy.timeout);
				var fireNext = function(){
					if ( History.busy.flag ) return;
					for ( var i=History.queues.length-1; i >= 0; --i ) {
						var queue = History.queues[i];
						if ( queue.length === 0 ) continue;
						var item = queue.shift();
						History.fireQueueItem(item);
						History.busy.timeout = setTimeout(fireNext,History.options.busyDelay);
					}
				};
				History.busy.timeout = setTimeout(fireNext,History.options.busyDelay);
			}

			// Return
			return History.busy.flag;
		};

		/**
		 * History.fireQueueItem(item)
		 * Fire a Queue Item
		 * @param {Object} item
		 * @return {Mixed} result
		 */
		History.fireQueueItem = function(item){
			return item.callback.apply(item.scope||History,item.args||[]);
		};

		/**
		 * History.pushQueue(callback,args)
		 * Add an item to the queue
		 * @param {Object} item [scope,callback,args,queue]
		 */
		History.pushQueue = function(item){
			// Prepare the queue
			History.queues[item.queue||0] = History.queues[item.queue||0]||[];

			// Add to the queue
			History.queues[item.queue||0].push(item);

			// Chain
			return History;
		};

		/**
		 * History.queue (item,queue), (func,queue), (func), (item)
		 * Either firs the item now if not busy, or adds it to the queue
		 */
		History.queue = function(item,queue){
			// Prepare
			if ( typeof item === 'function' ) {
				item = {
					callback: item
				};
			}
			if ( typeof queue !== 'undefined' ) {
				item.queue = queue;
			}

			// Handle
			if ( History.busy() ) {
				History.pushQueue(item);
			} else {
				History.fireQueueItem(item);
			}

			// Chain
			return History;
		};

		/**
		 * History.clearQueue()
		 * Clears the Queue
		 */
		History.clearQueue = function(){
			History.busy.flag = false;
			History.queues = [];
			return History;
		};


		// ----------------------------------------------------------------------
		// IE Bug Fix

		/**
		 * History.stateChanged
		 * States whether or not the state has changed since the last double check was initialised
		 */
		History.stateChanged = false;

		/**
		 * History.doubleChecker
		 * Contains the timeout used for the double checks
		 */
		History.doubleChecker = false;

		/**
		 * History.doubleCheckComplete()
		 * Complete a double check
		 * @return {History}
		 */
		History.doubleCheckComplete = function(){
			// Update
			History.stateChanged = true;

			// Clear
			History.doubleCheckClear();

			// Chain
			return History;
		};

		/**
		 * History.doubleCheckClear()
		 * Clear a double check
		 * @return {History}
		 */
		History.doubleCheckClear = function(){
			// Clear
			if ( History.doubleChecker ) {
				clearTimeout(History.doubleChecker);
				History.doubleChecker = false;
			}

			// Chain
			return History;
		};

		/**
		 * History.doubleCheck()
		 * Create a double check
		 * @return {History}
		 */
		History.doubleCheck = function(tryAgain){
			// Reset
			History.stateChanged = false;
			History.doubleCheckClear();

			// Fix IE6,IE7 bug where calling history.back or history.forward does not actually change the hash (whereas doing it manually does)
			// Fix Safari 5 bug where sometimes the state does not change: https://bugs.webkit.org/show_bug.cgi?id=42940
			if ( History.bugs.ieDoubleCheck ) {
				// Apply Check
				History.doubleChecker = setTimeout(
					function(){
						History.doubleCheckClear();
						if ( !History.stateChanged ) {
							//History.debug('History.doubleCheck: State has not yet changed, trying again', arguments);
							// Re-Attempt
							tryAgain();
						}
						return true;
					},
					History.options.doubleCheckInterval
				);
			}

			// Chain
			return History;
		};

		// ----------------------------------------------------------------------
		// Safari Bug Fix

		/**
		 * History.safariStatePoll()
		 * Poll the current state
		 * @return {History}
		 */
		History.safariStatePoll = function(){
			// Poll the URL

			// Get the Last State which has the new URL
			var
				urlState = History.extractState(document.location.href),
				newState;

			// Check for a difference
			if ( !History.isLastSavedState(urlState) ) {
				newState = urlState;
			}
			else {
				return;
			}

			// Check if we have a state with that url
			// If not create it
			if ( !newState ) {
				//History.debug('History.safariStatePoll: new');
				newState = History.createStateObject();
			}

			// Apply the New State
			//History.debug('History.safariStatePoll: trigger');
			History.Adapter.trigger(window,'popstate');

			// Chain
			return History;
		};

		// ----------------------------------------------------------------------
		// State Aliases

		/**
		 * History.back(queue)
		 * Send the browser history back one item
		 * @param {Integer} queue [optional]
		 */
		History.back = function(queue){
			//History.debug('History.back: called', arguments);

			// Handle Queueing
			if ( queue !== false && History.busy() ) {
				// Wait + Push to Queue
				//History.debug('History.back: we must wait', arguments);
				History.pushQueue({
					scope: History,
					callback: History.back,
					args: arguments,
					queue: queue
				});
				return false;
			}

			// Make Busy + Continue
			History.busy(true);

			// Fix certain browser bugs that prevent the state from changing
			History.doubleCheck(function(){
				History.back(false);
			});

			// Go back
			history.go(-1);

			// End back closure
			return true;
		};

		/**
		 * History.forward(queue)
		 * Send the browser history forward one item
		 * @param {Integer} queue [optional]
		 */
		History.forward = function(queue){
			//History.debug('History.forward: called', arguments);

			// Handle Queueing
			if ( queue !== false && History.busy() ) {
				// Wait + Push to Queue
				//History.debug('History.forward: we must wait', arguments);
				History.pushQueue({
					scope: History,
					callback: History.forward,
					args: arguments,
					queue: queue
				});
				return false;
			}

			// Make Busy + Continue
			History.busy(true);

			// Fix certain browser bugs that prevent the state from changing
			History.doubleCheck(function(){
				History.forward(false);
			});

			// Go forward
			history.go(1);

			// End forward closure
			return true;
		};

		/**
		 * History.go(index,queue)
		 * Send the browser history back or forward index times
		 * @param {Integer} queue [optional]
		 */
		History.go = function(index,queue){
			//History.debug('History.go: called', arguments);

			// Prepare
			var i;

			// Handle
			if ( index > 0 ) {
				// Forward
				for ( i=1; i<=index; ++i ) {
					History.forward(queue);
				}
			}
			else if ( index < 0 ) {
				// Backward
				for ( i=-1; i>=index; --i ) {
					History.back(queue);
				}
			}
			else {
				throw new Error('History.go: History.go requires a positive or negative integer passed.');
			}

			// Chain
			return History;
		};


		// ----------------------------------------------------------------------
		// Initialise

		/**
		 * Create the initial State
		 */
		History.saveState(History.storeState(History.extractState(document.location.href,true)));

		/**
		 * Bind for Saving Store
		 */
		if ( amplify ) {
			History.onUnload = function(){
				// Prepare
				var
					currentStore = amplify.store('History.store')||{},
					item;

				// Ensure
				currentStore.idToState = currentStore.idToState || {};
				currentStore.urlToId = currentStore.urlToId || {};
				currentStore.stateToId = currentStore.stateToId || {};

				// Sync
				for ( item in History.idToState ) {
					if ( !History.idToState.hasOwnProperty(item) ) {
						continue;
					}
					currentStore.idToState[item] = History.idToState[item];
				}
				for ( item in History.urlToId ) {
					if ( !History.urlToId.hasOwnProperty(item) ) {
						continue;
					}
					currentStore.urlToId[item] = History.urlToId[item];
				}
				for ( item in History.stateToId ) {
					if ( !History.stateToId.hasOwnProperty(item) ) {
						continue;
					}
					currentStore.stateToId[item] = History.stateToId[item];
				}

				// Update
				History.store = currentStore;

				// Store
				amplify.store('History.store',currentStore);
			};
			// For Internet Explorer
			History.intervalList.push(setInterval(History.onUnload,History.options.storeInterval));
			// For Other Browsers
			History.Adapter.bind(window,'beforeunload',History.onUnload);
			History.Adapter.bind(window,'unload',History.onUnload);
			// Both are enabled for consistency
		}


		// ----------------------------------------------------------------------
		// HTML5 State Support

		if ( History.emulated.pushState ) {
			/*
			 * Provide Skeleton for HTML4 Browsers
			 */

			// Prepare
			var emptyFunction = function(){};
			History.pushState = History.pushState||emptyFunction;
			History.replaceState = History.replaceState||emptyFunction;
		}
		else {
			/*
			 * Use native HTML5 History API Implementation
			 */

			/**
			 * History.onPopState(event,extra)
			 * Refresh the Current State
			 */
			History.onPopState = function(event){
				// Reset the double check
				History.doubleCheckComplete();

				// Check for a Hash, and handle apporiatly
				var currentHash	= History.getHash();
				if ( currentHash ) {
					// Expand Hash
					var currentState = History.extractState(currentHash||document.location.href,true);
					if ( History.options.transformHash && currentState ) {
						// We were able to parse it, it must be a State!
						// Let's forward to replaceState
						//History.debug('History.onPopState: state anchor', currentHash, currentState);
						History.replaceState(currentState.data, currentState.title, currentState.url, false);
					}
					else {
						// Traditional Anchor
						//History.debug('History.onPopState: traditional anchor', currentHash);
						History.Adapter.trigger(window,'anchorchange');
						History.busy(false);
					}

					// We don't care for hashes
					History.expectedStateId = false;
					return false;
				}

				// Prepare
				var newState = false;

				// Prepare
				event = event||{};
				if ( typeof event.state === 'undefined' ) {
					// jQuery
					if ( typeof event.originalEvent !== 'undefined' && typeof event.originalEvent.state !== 'undefined' ) {
						event.state = event.originalEvent.state||false;
					}
					// MooTools
					else if ( typeof event.event !== 'undefined' && typeof event.event.state !== 'undefined' ) {
						event.state = event.event.state||false;
					}
				}

				// Ensure
				event.state = (event.state||false);

				// Fetch State
				if ( event.state ) {
					// Vanilla: Back/forward button was used
					newState = History.getStateById(event.state);
				}
				else if ( History.expectedStateId ) {
					// Vanilla: A new state was pushed, and popstate was called manually
					newState = History.getStateById(History.expectedStateId);
				}
				else {
					// Initial State
					newState = History.extractState(document.location.href);
				}

				// The State did not exist in our store
				if ( !newState ) {
					// Regenerate the State
					newState = History.createStateObject(null,null,document.location.href);
				}

				// Clean
				History.expectedStateId = false;

				// Check if we are the same state
				if ( History.isLastSavedState(newState) ) {
					// There has been no change (just the page's hash has finally propagated)
					//History.debug('History.onPopState: no change', newState, History.savedStates);
					History.busy(false);
					return false;
				}

				// Store the State
				History.storeState(newState);
				History.saveState(newState);

				// Force update of the title
				History.setTitle(newState);

				// Fire Our Event
				History.Adapter.trigger(window,'statechange');
				History.busy(false);

				// Return true
				return true;
			};
			History.Adapter.bind(window,'popstate',History.onPopState);

			/**
			 * History.pushState(data,title,url)
			 * Add a new State to the history object, become it, and trigger onpopstate
			 * We have to trigger for HTML4 compatibility
			 * @param {object} data
			 * @param {string} title
			 * @param {string} url
			 * @return {true}
			 */
			History.pushState = function(data,title,url,queue){
				//History.debug('History.pushState: called', arguments);

				// Check the State
				if ( History.getHashByUrl(url) && History.emulated.pushState ) {
					throw new Error('History.js does not support states with fragement-identifiers (hashes/anchors).');
				}

				// Handle Queueing
				if ( queue !== false && History.busy() ) {
					// Wait + Push to Queue
					//History.debug('History.pushState: we must wait', arguments);
					History.pushQueue({
						scope: History,
						callback: History.pushState,
						args: arguments,
						queue: queue
					});
					return false;
				}

				// Make Busy + Continue
				History.busy(true);

				// Create the newState
				var newState = History.createStateObject(data,title,url);

				// Check it
				if ( History.isLastSavedState(newState) ) {
					// Won't be a change
					History.busy(false);
				}
				else {
					// Store the newState
					History.storeState(newState);
					History.expectedStateId = newState.id;

					// Push the newState
					history.pushState(newState.id,newState.title,newState.url);

					// Fire HTML5 Event
					History.Adapter.trigger(window,'popstate');
				}

				// End pushState closure
				return true;
			};

			/**
			 * History.replaceState(data,title,url)
			 * Replace the State and trigger onpopstate
			 * We have to trigger for HTML4 compatibility
			 * @param {object} data
			 * @param {string} title
			 * @param {string} url
			 * @return {true}
			 */
			History.replaceState = function(data,title,url,queue){
				//History.debug('History.replaceState: called', arguments);

				// Check the State
				if ( History.getHashByUrl(url) && History.emulated.pushState ) {
					throw new Error('History.js does not support states with fragement-identifiers (hashes/anchors).');
				}

				// Handle Queueing
				if ( queue !== false && History.busy() ) {
					// Wait + Push to Queue
					//History.debug('History.replaceState: we must wait', arguments);
					History.pushQueue({
						scope: History,
						callback: History.replaceState,
						args: arguments,
						queue: queue
					});
					return false;
				}

				// Make Busy + Continue
				History.busy(true);

				// Create the newState
				var newState = History.createStateObject(data,title,url);

				// Check it
				if ( History.isLastSavedState(newState) ) {
					// Won't be a change
					History.busy(false);
				}
				else {
					// Store the newState
					History.storeState(newState);
					History.expectedStateId = newState.id;

					// Push the newState
					history.replaceState(newState.id,newState.title,newState.url);

					// Fire HTML5 Event
					History.Adapter.trigger(window,'popstate');
				}

				// End replaceState closure
				return true;
			};

			// Be aware, the following is only for native pushState implementations
			// If you are wanting to include something for all browsers
			// Then include it above this if block

			/**
			 * Setup Safari Fix
			 */
			if ( History.bugs.safariPoll ) {
				History.intervalList.push(setInterval(History.safariStatePoll, History.options.safariPollInterval));
			}

			/**
			 * Ensure Cross Browser Compatibility
			 */
			if ( navigator.vendor === 'Apple Computer, Inc.' || (navigator.appCodeName||'') === 'Mozilla' ) {
				/**
				 * Fix Safari HashChange Issue
				 */

				// Setup Alias
				History.Adapter.bind(window,'hashchange',function(){
					History.Adapter.trigger(window,'popstate');
				});

				// Initialise Alias
				if ( History.getHash() ) {
					History.Adapter.onDomLoad(function(){
						History.Adapter.trigger(window,'hashchange');
					});
				}
			}

		} // !History.emulated.pushState

	}; // History.initCore

	// Try and Initialise History
	History.init();

})(window);
;

// ***************************
// js.compressed/jquery/history.adapter.jquery.js
// ***************************
/**
 * History.js jQuery Adapter
 * @author Benjamin Arthur Lupton <contact@balupton.com>
 * @copyright 2010-2011 Benjamin Arthur Lupton <contact@balupton.com>
 * @license New BSD License <http://creativecommons.org/licenses/BSD/>
 */

// Closure
(function(window,undefined){
	// Localise Globals
	var
		History = window.History = window.History||{},
		jQuery = window.jQuery;

	// Check Existence
	if ( typeof History.Adapter !== 'undefined' ) {
		throw new Error('History.js Adapter has already been loaded...');
	}

	// Add the Adapter
	History.Adapter = {
		/**
		 * History.Adapter.bind(el,event,callback)
		 * @param {Element|Selector} el
		 * @param {String} event - custom and standard events
		 * @param {Function} callback
		 * @return
		 */
		bind: function(el,event,callback){
			jQuery(el).bind(event,callback);
		},

		/**
		 * History.Adapter.trigger(el,event)
		 * @param {Element|Selector} el
		 * @param {String} event - custom and standard events
		 * @return
		 */
		trigger: function(el,event){
			jQuery(el).trigger(event);
		},

		/**
		 * History.Adapter.trigger(el,event,data)
		 * @param {Function} callback
		 * @return
		 */
		onDomLoad: function(callback) {
			jQuery(callback);
		}
	};

	// Try and Initialise History
	if ( typeof History.init !== 'undefined' ) {
		History.init();
	}

})(window);
;

// ***************************
// js.compressed/jquery/jquery.jcarousel.custom.min.js
// ***************************
/*
 jCarousel - Riding carousels with jQuery
   http://sorgalla.com/jcarousel/

 Copyright (c) 2006 Jan Sorgalla (http://sorgalla.com)
 Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.

 Built on top of the jQuery library
   http://jquery.com

 Inspired by the "Carousel Component" by Bill Scott
   http://billwscott.com/carousel/

   Modified for vBulletin:
   - added destroy method
   - changed reset method by adding a flag to call setup method
   - added check for undefined instance in the main jcarousel function
*/
(function(g){var u={vertical:!1,rtl:!1,start:1,offset:1,size:null,scroll:3,visible:null,animation:"normal",easing:"swing",auto:0,wrap:null,initCallback:null,setupCallback:null,reloadCallback:null,itemLoadCallback:null,itemFirstInCallback:null,itemFirstOutCallback:null,itemLastInCallback:null,itemLastOutCallback:null,itemVisibleInCallback:null,itemVisibleOutCallback:null,animationStepCallback:null,buttonNextHTML:"<div></div>",buttonPrevHTML:"<div></div>",buttonNextEvent:"click",buttonPrevEvent:"click",
buttonNextCallback:null,buttonPrevCallback:null,itemFallbackDimension:null},q=!1;g(window).bind("load.jcarousel",function(){q=!0});g.jcarousel=function(a,b){this.options=g.extend({},u,b||{});this.autoStopped=this.locked=!1;this.buttonPrevState=this.buttonNextState=this.buttonPrev=this.buttonNext=this.list=this.clip=this.container=null;b&&void 0!==b.rtl||(this.options.rtl="rtl"==(g(a).attr("dir")||g("html").attr("dir")||"").toLowerCase());this.wh=this.options.vertical?"height":"width";this.lt=this.options.vertical?
"top":this.options.rtl?"right":"left";for(var c="",e=a.className.split(" "),n=0;n<e.length;n++)if(-1!=e[n].indexOf("jcarousel-skin")){g(a).removeClass(e[n]);c=e[n];break}"UL"==a.nodeName.toUpperCase()||"OL"==a.nodeName.toUpperCase()?(this.list=g(a),this.clip=this.list.parents(".jcarousel-clip"),this.container=this.list.parents(".jcarousel-container")):(this.container=g(a),this.list=this.container.find("ul,ol").eq(0),this.clip=this.container.find(".jcarousel-clip"));0===this.clip.length&&(this.clip=
this.list.wrap("<div></div>").parent());0===this.container.length&&(this.container=this.clip.wrap("<div></div>").parent());""!==c&&-1==this.container.parent()[0].className.indexOf("jcarousel-skin")&&this.container.wrap('<div class=" '+c+'"></div>');this.buttonPrev=g(".jcarousel-prev",this.container);0===this.buttonPrev.length&&null!==this.options.buttonPrevHTML&&(this.buttonPrev=g(this.options.buttonPrevHTML).appendTo(this.container));this.buttonPrev.addClass(this.className("jcarousel-prev"));this.buttonNext=
g(".jcarousel-next",this.container);0===this.buttonNext.length&&null!==this.options.buttonNextHTML&&(this.buttonNext=g(this.options.buttonNextHTML).appendTo(this.container));this.buttonNext.addClass(this.className("jcarousel-next"));this.clip.addClass(this.className("jcarousel-clip")).css({position:"relative"});this.list.addClass(this.className("jcarousel-list")).css({overflow:"hidden",position:"relative",top:0,margin:0,padding:0}).css(this.options.rtl?"right":"left",0);this.container.addClass(this.className("jcarousel-container")).css({position:"relative"});
!this.options.vertical&&this.options.rtl&&this.container.addClass("jcarousel-direction-rtl").attr("dir","rtl");var l=null!==this.options.visible?Math.ceil(this.clipping()/this.options.visible):null;a=this.list.children("li");var d=this;if(0<a.length){var h=0,k=this.options.offset;a.each(function(){d.format(this,k++);h+=d.dimension(this,l)});this.list.css(this.wh,h+100+"px");b&&void 0!==b.size||(this.options.size=a.length)}this.container.css("display","block");this.buttonNext.css("display","block");
this.buttonPrev.css("display","block");this.funcNext=function(){d.next();return!1};this.funcPrev=function(){d.prev();return!1};this.funcResize=function(){d.resizeTimer&&clearTimeout(d.resizeTimer);d.resizeTimer=setTimeout(function(){d.reload()},100)};null!==this.options.initCallback&&this.options.initCallback(this,"init");!q&&f.isSafari()?(this.buttons(!1,!1),g(window).bind("load.jcarousel",function(){d.setup()})):this.setup()};var f=g.jcarousel;f.fn=f.prototype={jcarousel:"0.2.10"};f.fn.extend=f.extend=
g.extend;f.fn.extend({setup:function(){this.prevLast=this.prevFirst=this.last=this.first=null;this.animating=!1;this.tail=this.resizeTimer=this.timer=null;this.inTail=!1;if(!this.locked){this.list.css(this.lt,this.pos(this.options.offset)+"px");var a=this.pos(this.options.start,!0);this.prevFirst=this.prevLast=null;this.animate(a,!1);g(window).unbind("resize.jcarousel",this.funcResize).bind("resize.jcarousel",this.funcResize);null!==this.options.setupCallback&&this.options.setupCallback(this)}},reset:function(a){this.list.empty();
this.list.css(this.lt,"0px");this.list.css(this.wh,"10px");null!==this.options.initCallback&&this.options.initCallback(this,"reset");a&&this.setup()},reload:function(){null!==this.tail&&this.inTail&&this.list.css(this.lt,f.intval(this.list.css(this.lt))+this.tail);this.tail=null;this.inTail=!1;null!==this.options.reloadCallback&&this.options.reloadCallback(this);if(null!==this.options.visible){var a=this,b=Math.ceil(this.clipping()/this.options.visible),c=0,e=0;this.list.children("li").each(function(f){c+=
a.dimension(this,b);f+1<a.first&&(e=c)});this.list.css(this.wh,c+"px");this.list.css(this.lt,-e+"px")}this.scroll(this.first,!1)},canmove(){return!(this.locked||this.animating)},lock:function(){this.locked=!0;this.buttons()},unlock:function(){this.locked=!1;this.buttons()},size:function(a){void 0!==a&&(this.options.size=a,this.locked||this.buttons());return this.options.size},has:function(a,b){void 0!==b&&b||(b=a);null!==this.options.size&&b>this.options.size&&(b=this.options.size);for(;a<=b;a++){var c=
this.get(a);if(!c.length||c.hasClass("jcarousel-item-placeholder"))return!1}return!0},get:function(a){return g(">.jcarousel-item-"+a,this.list)},add:function(a,b){var c=this.get(a),e=0,n=g(b);if(0===c.length){var l=f.intval(a);for(c=this.create(a);;){var d=this.get(--l);if(0>=l||d.length){0>=l?this.list.prepend(c):d.after(c);break}}}else e=this.dimension(c);"LI"==n.get(0).nodeName.toUpperCase()?(c.replaceWith(n),c=n):c.empty().append(b);this.format(c.removeClass(this.className("jcarousel-item-placeholder")),
a);b=null!==this.options.visible?Math.ceil(this.clipping()/this.options.visible):null;e=this.dimension(c,b)-e;0<a&&a<this.first&&this.list.css(this.lt,f.intval(this.list.css(this.lt))-e+"px");this.list.css(this.wh,f.intval(this.list.css(this.wh))+e+"px");return c},remove:function(a){var b=this.get(a);if(b.length&&!(a>=this.first&&a<=this.last)){var c=this.dimension(b);a<this.first&&this.list.css(this.lt,f.intval(this.list.css(this.lt))+c+"px");b.remove();this.list.css(this.wh,f.intval(this.list.css(this.wh))-
c+"px")}},next:function(){null===this.tail||this.inTail?this.scroll("both"!=this.options.wrap&&"last"!=this.options.wrap||null===this.options.size||this.last!=this.options.size?this.first+this.options.scroll:1):this.scrollTail(!1)},prev:function(){null!==this.tail&&this.inTail?this.scrollTail(!0):this.scroll("both"!=this.options.wrap&&"first"!=this.options.wrap||null===this.options.size||1!=this.first?this.first-this.options.scroll:this.options.size)},scrollTail:function(a){if(!this.locked&&!this.animating&&
this.tail){this.pauseAuto();var b=f.intval(this.list.css(this.lt));b=a?b+this.tail:b-this.tail;this.inTail=!a;this.prevFirst=this.first;this.prevLast=this.last;this.animate(b)}},scroll:function(a,b){this.locked||this.animating||(this.pauseAuto(),this.animate(this.pos(a),b))},pos:function(a,b){var c=f.intval(this.list[0].style[this.lt]);if(this.locked||this.animating)return c;"circular"!=this.options.wrap&&(a=1>a?1:this.options.size&&a>this.options.size?this.options.size:a);for(var e=this.first>a,
g="circular"!=this.options.wrap&&1>=this.first?1:this.first,l=e?this.get(g):this.get(this.last),d=e?g:g-1,h,k=0,m,p;e?--d>=a:++d<a;)h=this.get(d),m=!h.length,0===h.length&&(h=this.create(d).addClass(this.className("jcarousel-item-placeholder")),l[e?"before":"after"](h),null!==this.first&&"circular"==this.options.wrap&&null!==this.options.size&&(0>=d||d>this.options.size)&&(l=this.get(this.index(d)),l.length&&(h=this.add(d,l.clone(!0))))),l=h,p=this.dimension(h),m&&(k+=p),null!==this.first&&("circular"==
this.options.wrap||1<=d&&(null===this.options.size||d<=this.options.size))&&(c=e?c+p:c-p);g=this.clipping();var q=[],t=0,r=0;l=this.get(a-1);for(d=a;++t;){h=this.get(d);m=!h.length;if(0===h.length){h=this.create(d).addClass(this.className("jcarousel-item-placeholder"));if(0===l.length)this.list.prepend(h);else l[e?"before":"after"](h);null!==this.first&&"circular"==this.options.wrap&&null!==this.options.size&&(0>=d||d>this.options.size)&&(l=this.get(this.index(d)),l.length&&(h=this.add(d,l.clone(!0))))}l=
h;p=this.dimension(h);if(0===p)throw Error("jCarousel: No width/height set for items. This will cause an infinite loop. Aborting...");"circular"!=this.options.wrap&&null!==this.options.size&&d>this.options.size?q.push(h):m&&(k+=p);r+=p;if(r>=g)break;d++}for(h=0;h<q.length;h++)q[h].remove();0<k&&(this.list.css(this.wh,this.dimension(this.list)+k+"px"),e&&(c-=k,this.list.css(this.lt,f.intval(this.list.css(this.lt))-k+"px")));k=a+t-1;"circular"!=this.options.wrap&&this.options.size&&k>this.options.size&&
(k=this.options.size);if(d>k)for(t=0,d=k,r=0;++t;){h=this.get(d--);if(!h.length)break;r+=this.dimension(h);if(r>=g)break}d=k-t+1;"circular"!=this.options.wrap&&1>d&&(d=1);this.inTail&&e&&(c+=this.tail,this.inTail=!1);this.tail=null;"circular"!=this.options.wrap&&k==this.options.size&&1<=k-t+1&&(e=f.intval(this.get(k).css(this.options.vertical?"marginBottom":"marginRight")),r-e>g&&(this.tail=r-g-e));b&&a===this.options.size&&this.tail&&(c-=this.tail,this.inTail=!0);for(;a-- >d;)c+=this.dimension(this.get(a));
this.prevFirst=this.first;this.prevLast=this.last;this.first=d;this.last=k;return c},animate:function(a,b){if(!this.locked&&!this.animating){this.animating=!0;var c=this,e=function(){c.animating=!1;0===a&&c.list.css(c.lt,0);!c.autoStopped&&("circular"==c.options.wrap||"both"==c.options.wrap||"last"==c.options.wrap||null===c.options.size||c.last<c.options.size||c.last==c.options.size&&null!==c.tail&&!c.inTail)&&c.startAuto();c.buttons();c.notify("onAfterAnimation");if("circular"==c.options.wrap&&null!==
c.options.size)for(var b=c.prevFirst;b<=c.prevLast;b++)null===b||b>=c.first&&b<=c.last||!(1>b||b>c.options.size)||c.remove(b)};this.notify("onBeforeAnimation");this.options.animation&&!1!==b?(b=this.options.vertical?{top:a}:this.options.rtl?{right:a}:{left:a},e={duration:this.options.animation,easing:this.options.easing,complete:e},g.isFunction(this.options.animationStepCallback)&&(e.step=this.options.animationStepCallback),this.list.animate(b,e)):(this.list.css(this.lt,a+"px"),e())}},startAuto:function(a){void 0!==
a&&(this.options.auto=a);if(0===this.options.auto)return this.stopAuto();if(null===this.timer){this.autoStopped=!1;var b=this;this.timer=window.setTimeout(function(){b.next()},1E3*this.options.auto)}},stopAuto:function(){this.pauseAuto();this.autoStopped=!0},pauseAuto:function(){null!==this.timer&&(window.clearTimeout(this.timer),this.timer=null)},buttons:function(a,b){null==a&&(a=!this.locked&&0!==this.options.size&&(this.options.wrap&&"first"!=this.options.wrap||null===this.options.size||this.last<
this.options.size),!(this.locked||this.options.wrap&&"first"!=this.options.wrap)&&null!==this.options.size&&this.last>=this.options.size&&(a=null!==this.tail&&!this.inTail));null==b&&(b=!this.locked&&0!==this.options.size&&(this.options.wrap&&"last"!=this.options.wrap||1<this.first),this.locked||this.options.wrap&&"last"!=this.options.wrap||null===this.options.size||1!=this.first||(b=null!==this.tail&&this.inTail));var c=this;0<this.buttonNext.length?(this.buttonNext.unbind(this.options.buttonNextEvent+
".jcarousel",this.funcNext),a&&this.buttonNext.bind(this.options.buttonNextEvent+".jcarousel",this.funcNext),this.buttonNext[a?"removeClass":"addClass"](this.className("jcarousel-next-disabled")).attr("disabled",a?!1:!0),null!==this.options.buttonNextCallback&&this.buttonNext.data("jcarouselstate")!=a&&this.buttonNext.each(function(){c.options.buttonNextCallback(c,this,a)}).data("jcarouselstate",a)):null!==this.options.buttonNextCallback&&this.buttonNextState!=a&&this.options.buttonNextCallback(c,
null,a);0<this.buttonPrev.length?(this.buttonPrev.unbind(this.options.buttonPrevEvent+".jcarousel",this.funcPrev),b&&this.buttonPrev.bind(this.options.buttonPrevEvent+".jcarousel",this.funcPrev),this.buttonPrev[b?"removeClass":"addClass"](this.className("jcarousel-prev-disabled")).attr("disabled",b?!1:!0),null!==this.options.buttonPrevCallback&&this.buttonPrev.data("jcarouselstate")!=b&&this.buttonPrev.each(function(){c.options.buttonPrevCallback(c,this,b)}).data("jcarouselstate",b)):null!==this.options.buttonPrevCallback&&
this.buttonPrevState!=b&&this.options.buttonPrevCallback(c,null,b);this.buttonNextState=a;this.buttonPrevState=b},notify:function(a){var b=null===this.prevFirst?"init":this.prevFirst<this.first?"next":"prev";this.callback("itemLoadCallback",a,b);this.prevFirst!==this.first&&(this.callback("itemFirstInCallback",a,b,this.first),this.callback("itemFirstOutCallback",a,b,this.prevFirst));this.prevLast!==this.last&&(this.callback("itemLastInCallback",a,b,this.last),this.callback("itemLastOutCallback",a,
b,this.prevLast));this.callback("itemVisibleInCallback",a,b,this.first,this.last,this.prevFirst,this.prevLast);this.callback("itemVisibleOutCallback",a,b,this.prevFirst,this.prevLast,this.first,this.last)},callback:function(a,b,c,e,f,l,d){if(null!=this.options[a]&&("object"==typeof this.options[a]||"onAfterAnimation"==b)){var h="object"==typeof this.options[a]?this.options[a][b]:this.options[a];if(g.isFunction(h)){var k=this;if(void 0===e)h(k,c,b);else if(void 0===f)this.get(e).each(function(){h(k,
this,e,c,b)});else{a=function(a){k.get(a).each(function(){h(k,this,a,c,b)})};for(var m=e;m<=f;m++)null===m||m>=l&&m<=d||a(m)}}}},create:function(a){return this.format("<li></li>",a)},destroy:function(){this.reset();g(window).unbind(".jcarousel");this.list.removeData("jcarousel");this.container.removeData("jcarousel");this.buttonNext.removeData("jcarouselstate").remove();this.buttonPrev.removeData("jcarouselstate").remove();return this},format:function(a,b){a=g(a);for(var c=a.get(0).className.split(" "),
e=0;e<c.length;e++)-1!=c[e].indexOf("jcarousel-")&&a.removeClass(c[e]);a.addClass(this.className("jcarousel-item")).addClass(this.className("jcarousel-item-"+b)).css({"float":this.options.rtl?"right":"left","list-style":"none"}).attr("jcarouselindex",b);return a},className:function(a){return a+" "+a+(this.options.vertical?"-vertical":"-horizontal")},dimension:function(a,b){a=g(a);if(null==b)return this.options.vertical?a.innerHeight()+f.intval(a.css("margin-top"))+f.intval(a.css("margin-bottom"))+
f.intval(a.css("border-top-width"))+f.intval(a.css("border-bottom-width"))||f.intval(this.options.itemFallbackDimension):a.innerWidth()+f.intval(a.css("margin-left"))+f.intval(a.css("margin-right"))+f.intval(a.css("border-left-width"))+f.intval(a.css("border-right-width"))||f.intval(this.options.itemFallbackDimension);b=this.options.vertical?b-f.intval(a.css("marginTop"))-f.intval(a.css("marginBottom")):b-f.intval(a.css("marginLeft"))-f.intval(a.css("marginRight"));g(a).css(this.wh,b+"px");return this.dimension(a)},
clipping:function(){return this.options.vertical?this.clip[0].offsetHeight-f.intval(this.clip.css("borderTopWidth"))-f.intval(this.clip.css("borderBottomWidth")):this.clip[0].offsetWidth-f.intval(this.clip.css("borderLeftWidth"))-f.intval(this.clip.css("borderRightWidth"))},index:function(a,b){null==b&&(b=this.options.size);return Math.round(((a-1)/b-Math.floor((a-1)/b))*b)+1}});f.extend({defaults:function(a){return g.extend(u,a||{})},intval:function(a){a=parseInt(a,10);return isNaN(a)?0:a},windowLoaded:function(){q=
!0},isSafari:function(){var a=navigator.userAgent.toLowerCase();return"webkit"===((/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||[])[1]||"")}});g.fn.jcarousel=function(a){if("string"==typeof a){var b=g(this).data("jcarousel"),c=Array.prototype.slice.call(arguments,1);return"undefined"!=typeof b?b[a].apply(b,c):this}return this.each(function(){var b=g(this).data("jcarousel");b?(a&&g.extend(b.options,a),b.reload()):g(this).data("jcarousel",new f(this,a))})}})(jQuery);
;

// ***************************
// js.compressed/history.js
// ***************************
/*=======================================================================*\
|| ###################################################################### ||
|| # vBulletin 5.6.1 Patch Level 1
|| # ------------------------------------------------------------------ # ||
|| # Copyright 2000-2020 MH Sub I, LLC dba vBulletin. All Rights Reserved.  # ||
|| # This file may not be redistributed in whole or significant part.   # ||
|| # ----------------- VBULLETIN IS NOT FREE SOFTWARE ----------------- # ||
|| # http://www.vbulletin.com | http://www.vbulletin.com/license.html   # ||
|| ###################################################################### ||
\*========================================================================*/
(function(C){var B=window.History,A=B&&!!B.enabled;window.vBulletin=window.vBulletin||{};window.vBulletin.history=window.vBulletin.history||{};B.options.transformHash=false;vBulletin.history.instance=function(F){var E=true,D=!!F&&A;this.isEnabled=function(){return D};this.setDefaultState=function(I,K,G){if(D){E=false;var H=vBulletin.parseUrl(G);try{G=decodeURI(H.pathname)+decodeURIComponent(H.search)+decodeURIComponent(H.hash);B.replaceState(I,K,G);E=true}catch(J){console.error("Unable to parse and decode URL "+G)}}};this.setStateChange=function(I,G){if(D){var H="statechange"+(G?"."+G:"");B.Adapter.bind(window,H,function(J){if(E){I.apply(this,C.makeArray(arguments))}})}};this.pushState=function(I,K,G){if(D){E=false;var H=vBulletin.parseUrl(G);try{G=decodeURI(H.pathname)+decodeURIComponent(H.search)+decodeURIComponent(H.hash);B.pushState(I,K,G);E=true}catch(J){console.error("Unable to parse and decode URL "+G)}}};this.getState=function(){if(D){return B.getState()}};this.log=function(){if(D){B.log.call(window,arguments)}};if(D){if(!C(window).data("hashchange.history")){B.Adapter.bind(window,"hashchange.history",function(L){var H=location.hash,I,K;if(E&&H){K=H.match(/#post(\d+)/);if(K&&(Number(K[1])+"")===K[1]&&Number(K[1])>1&&C(H).length==0&&C(".conversation-content-widget").length){var J=vBulletin.parseUrl(location.href),G=[J.pathname,J.search,(J.search?"&":"?"),"p=",K[1],K[0]];location.replace(G.join(""))}else{setTimeout(function(){history.back()},0);I=vBulletin.scrollToAnchor(H);if(I){window.scrollTo(0,0)}}}})}C(window).data("hashchange.history",true)}return this}})(jQuery);;

// ***************************
// js.compressed/autocomplete.js
// ***************************
/*=======================================================================*\
|| ###################################################################### ||
|| # vBulletin 5.6.1 Patch Level 1
|| # ------------------------------------------------------------------ # ||
|| # Copyright 2000-2020 MH Sub I, LLC dba vBulletin. All Rights Reserved.  # ||
|| # This file may not be redistributed in whole or significant part.   # ||
|| # ----------------- VBULLETIN IS NOT FREE SOFTWARE ----------------- # ||
|| # http://www.vbulletin.com | http://www.vbulletin.com/license.html   # ||
|| ###################################################################### ||
\*========================================================================*/
window.vBulletin=window.vBulletin||{};window.vBulletin.phrase=window.vBulletin.phrase||{};window.vBulletin.phrase.precache=window.vBulletin.phrase.precache||[];window.vBulletin.phrase.precache=$.merge(window.vBulletin.phrase.precache,[]);var vBulletin_Autocomplete=function(V,c){var B=$(V),b=c.apiClass||null,L=c.apiFunction||"getAutocomplete",e=c.delay||500,d=c.minLength||3,Z=c.maxItems||false,F=B.attr("name")||"autocompleteElements",J=c.containerClass||"entry-field",K=c.placeholderText,P=((typeof c.autoFocus!="undefined")?c.autoFocus:false),G=((typeof c.appendTo!="undefined")?c.appendTo:"body"),g=c.delimiter||",",N=[],A=B.parent(".autocomplete-container"),h=A.find(".autocompleteHelper"),a=false,T=false,R=B.siblings(".autocomplete-box"),I=c.beforeAdd||false,H=c.afterAdd||false,E=c.beforeDelete||false,C=c.afterDelete||false,O=this,Y=c.editorContext||null,X=function(){if(A.length==0){B.wrap('<div class="autocomplete-container b-form-input__input" />');A=B.parent(".autocomplete-container");A.addClass(J).on("mousedown",function(n){var i=this;setTimeout(function(){var o=$(".autocompleteHelper:visible",i);if(o.length>0){o[0].focus()}},10);return false})}if(R.length==0){R=$("<div />").addClass("autocomplete-box").insertBefore(B)}if(h.length==0){h=$('<input type="text" name="autocompleteHelper" />').addClass("autocompleteHelper b-form-input__input b-form-input__input--hide-clear-button").attr("placeholder",function(){return K?K:null}).attr("maxlength",function(){return B.attr("maxlength")?B.attr("maxlength"):null}).insertAfter(R)}h.attr("tabindex",B.attr("tabindex")||0);h.off("keydown").on("keydown",function(n){if(n.which==13){var i=$(n.target).val();if(i.length>=d){S(i,true,n)}}});h.off("blur").on("blur",function(i){a=window.setTimeout(function(){if(!T){var n=h.val();if(n.length>=d){S(n,true,i)}}T=false;a=false},200)});h.off("focus").on("focus",function(i){T=a?true:false;return false});var k=["font-family","font-size","font-weight","font-style","color","line-height","height"];var l;for(l=0;l<k.length;++l){A.css(k[l],B.css(k[l]))}var j='<input type="hidden" name="'+F+'"';if(B.attr("id")){j+=' id="'+B.attr("id")+'"'}if(B.attr("class")){j+=' class="'+B.attr("class")+'"'}if(B.attr("data-value")){var m=B.attr("data-value").split(",")}j+=" />";B.replaceWith(j);B=A.find('[name="'+F+'"]');h.autocomplete({autoFocus:P,appendTo:G,delay:e,minLength:d,search:function(i,n){console.log("searching for "+this.value)},source:function(i,n){console.log("getting source for "+i.term);vBulletin.AJAX({url:vBulletin.getAjaxBaseurl()+"/ajax/api/"+b+"/"+L,data:({searchStr:i.term}),success:function(p){console.log("got source for "+i.term+":");if(p&&$.isArray(p.suggestions)){var o=[];$.each(p.suggestions,function(q,r){if(Y&&Y.type=="tags"){o.push({label:r.title,value:pageData.userid})}else{if(typeof r.id!=="undefined"&&r.id){o.push({label:r.title,value:r.value,id:r.id})}else{o.push({label:r.title,value:r.value})}}});n(o)}else{console.log("/ajax/api/"+b+"/"+L+" successful, but response was not an array");openAlertDialog({title:vBulletin.phrase.get("error"),message:vBulletin.phrase.get("invalid_server_response_please_try_again"),iconType:"error"})}},error_phrase:"error_getting_suggestions"})},select:function(n,i){O.addElement(i.item.label,i.item.value,i.item);h.val("");n.preventDefault()},focus:function(n,i){h.val(i.item.label);n.preventDefault()},open:function(q){var o=$(q.target),n=o.autocomplete("instance"),p=n.menu.element,i=parseInt($(".dialog-box").css("z-index"),10);p.css("z-index",i+1)}});R.delegate(".element-x","click",function(q){var o=$(this).closest(".autocomplete");var n=o.find(".element-text").text().toLowerCase();var i=[];var p=false;$(N).each(function(r,s){if(s.label.toLowerCase()==n){p=s}else{i.push(s)}});if(typeof E=="function"){if(!E.call(this,p.label,p.data)){return false}}N=i;o.remove();f();if(typeof C=="function"){C.call(this,p.label,p.data)}});A.off("click").on("click",function(i){if(!$(i.target).hasClass("ui-autocomplete-input")){$(".ui-autocomplete-input",$(this)).focus()}return false});if(m){W.call(this,m)}},M=function(n,m,l){if(n==""){return false}if(typeof I=="function"){if(!I.call(this,n,m)){return false}}var k=true;$(N).each(function(p,q){if(q.label==n){k=false}});if(!k){return false}if(Z){if(N.length>=Z){return false}}var o=$("<div />").addClass("element-x b-icon b-icon__x-circle").text("X");var i=$("<div />").addClass("element-text").text(n);var j=$("<div />").addClass("autocomplete").append(i).append(o).appendTo(R);N.push({label:n,value:m});f();if(typeof H=="function"){H.call(this,n,m,l)}R.show();return true},W=function(l){var j=l.length,k;for(k=0;k<j;++k){M(l[k])}},U=function(i){Q();W(i)},Q=function(){R.html("");h.val("");N=[];f()},f=function(){var i=[];$(N).each(function(j,k){i.push(k.label)});B.val(i.join(g))},D=function(){return d},S=function(k,i,j){if(Y){switch(Y.type){case"tags":Y.context.addTag(k);break;default:break}}else{O.addElement(k,k);h.val("")}if(typeof i!=="undefined"&&typeof j!=="undefined"){j.preventDefault();return false}};X.call(this);this.addElement=function(k,j,i){return M.call(this,k,j,i)};this.addElements=function(i){W.call(this,i)};this.setElements=function(i){U.call(this,i)};this.getElements=function(){return N};this.getLabels=function(){var i=[];$(N).each(function(j,k){i.push(k.label)});return i};this.getValues=function(){var i=[];$(N).each(function(j,k){i.push(k.value)});return i};this.getInputField=function(){return h};this.clearElements=function(){return Q.call(this)};this.countElements=function(){return $(N).length};this.getMinLength=function(){return D()};this.close=function(){h.val("");h.autocomplete("close")}};;

// ***************************
// js.compressed/poll.js
// ***************************
/*=======================================================================*\
|| ###################################################################### ||
|| # vBulletin 5.6.1 Patch Level 1
|| # ------------------------------------------------------------------ # ||
|| # Copyright 2000-2020 MH Sub I, LLC dba vBulletin. All Rights Reserved.  # ||
|| # This file may not be redistributed in whole or significant part.   # ||
|| # ----------------- VBULLETIN IS NOT FREE SOFTWARE ----------------- # ||
|| # http://www.vbulletin.com | http://www.vbulletin.com/license.html   # ||
|| ###################################################################### ||
\*========================================================================*/
window.vBulletin=window.vBulletin||{};window.vBulletin.phrase=window.vBulletin.phrase||{};window.vBulletin.phrase.precache=window.vBulletin.phrase.precache||[];window.vBulletin.phrase.precache=$.merge(window.vBulletin.phrase.precache,["vote_failed","vote_now","vote_first","vote_error_retrieving","votes","vote","voters","voter"]);window.vBulletin.options=window.vBulletin.options||{};window.vBulletin.options.precache=window.vBulletin.options.precache||[];window.vBulletin.options.precache=$.merge(window.vBulletin.options.precache,["maxpolloptions"]);(function(A){A(document).ready(function(){function E(G){var F=function(H){H.find(".js-remove-button").prop("disabled",(H.find("li").length<=2))};A(".b-poll-fieldset__poll-answers").each(function(){F(A(this))});G.off("click",".js-poll__view-results").on("click",".js-poll__view-results",function(J){J.preventDefault();var I=A(this).attr("data-nodeid"),H=A(this).closest("form");A.post(vBulletin.getAjaxBaseurl()+"/poll/get",{nodeid:I},function(K){B(H,K)},"json")});G.off("click",".js-poll__back-to-poll").on("click",".js-poll__back-to-poll",function(I){I.preventDefault();var H=A(this).closest(".js-poll__parent");H.find("div.pollresults").addClass("h-hide");H.find("form.poll").show()});G.off("click",".b-poll-fieldset__add-more").on("click",".b-poll-fieldset__add-more",function(J){var K=A(this),I=K.prev(".b-poll-fieldset__poll-answers"),H=I.find("li").first().clone(true);H.find(".b-form-input__input").val("").attr("name","polloptions[new][]");H.appendTo(I).find(".b-form-input__input").focus();if(I.find("li").length==vBulletin.options.get("maxpolloptions")){K.addClass("h-hide")}F(I);return false});G.off("click",".b-poll-fieldset__poll-answers .js-remove-button").on("click",".b-poll-fieldset__poll-answers .js-remove-button",function(){var I=A(this),H=I.closest(".b-poll-fieldset__poll-answers");I.closest("li").remove();H.next(".b-poll-fieldset__add-more").removeClass("h-hide");F(H);return false});G.off("click",".js-poll-timeout").on("click",".js-poll-timeout",function(I){var H=A(this).closest(".b-poll-fieldset__poll-options").next(".b-poll-fieldset__datepicker-container");if(this.checked){H.removeClass("h-hide")}else{H.addClass("h-hide").find(".b-datepicker__input").val("")}});G.off("submit.formpoll","form.poll").on("submit.formpoll","form.poll",function(K){K.preventDefault();var H=A(this);var J=H.find('[name="polloptionid"]:checked').val();var I=[];H.find('[name="polloptionids[]"]:checked').each(function(){I.push(A(this).val())});A.post(vBulletin.normalizeAjaxUrl(H.attr("action")),{polloptionid:J,"polloptionids[]":I},function(M){if(M==false){vBulletin.warning("vote_now","vote_failed")}else{B(H,M);var L=H.parent();A("div.pollresults",L).find(".js-poll__back-to-poll").remove()}},"json")});A(document).off("click",".pollresults-data .voter-icon").on("click",".pollresults-data .voter-icon",function(){var H=A(this);if(H.find(".voters").is(":visible")){return false}A(".pollresults-data tr td.pollvoter-cell .voter-icon .voters").hide();var K=H.attr("data-node-id"),J=H.attr("data-polloption-id"),I=H.closest("form");A.post(vBulletin.getAjaxBaseurl()+"/poll/get-voters",{nodeid:K,polloptionid:J},function(L){if(L){if(!L.error){C(I,L,J,H)}else{D({message:L.error,type:"error"},H)}}else{D({message:vBulletin.phrase.get("vote_error_retrieving"),type:"error"},H)}},"json")});A(document).off("click",".pollresults-data .voter-icon .voters").on("click",".pollresults-data .voter-icon .voters",function(){e.stopPropagation();return true})}vBulletin.conversation.bindEditFormEventHandlers("poll");function D(H,G){var I=G.find(".voters");if(H.message){var F=A("<span />").addClass(H.type).text(H.message);I.html(F)}else{I.html(H.voters)}I.fadeIn("slow");A("body").on("click.voterpopup",function(J){if(A(J.target).closest(".voter-icon").length==0){I.hide();A("body").off("click.voterpopup")}})}function C(F,H,K,I){var M=false;if(H.options){B(F,H);var J=H.options[K];if(J){M=true;if(!A.isEmptyObject(J.votersinfo)){var L=[];for(var G in J.votersinfo){L.push('<a href="{0}">{1}</a>'.format(pageData.baseurl+J.votersinfo[G].profileUrl,J.votersinfo[G].username))}D({voters:L.join(", ")},I)}else{D({message:vBulletin.phrase.get("vote_first"),type:"note"},I)}}}if(!M){D({message:vBulletin.phrase.get("vote_error_retrieving"),type:"error"},I)}}function B(G,L){var F=G.parent(),H=L.options,K="";for(var I in H){var J=A(".pollresults-option-"+H[I].polloptionid);J.find(".title").html(JShtmlEncode(H[I].title));J.find(".bar-container .bar").css("width",H[I].percentage+"%");J.find(".percentage").html(H[I].display_percentage+"%");J.find(".votes span").html(H[I].votes);if(H[I].votes==1){K="vote"}else{K="votes"}J.find(".votes label").html(vBulletin.phrase.get(K))}A(".pollresults .pollvote-count span",F).html(L.poll_votes);if(L.poll_votes==1){K="voter"}else{K="voters"}A(".pollresults .pollvote-count label",F).html(vBulletin.phrase.get(K));G.hide();A("div.pollresults",F).removeClass("h-hide")}E(A(document))})})(jQuery);;

// ***************************
// js.compressed/vbSlideshow.js
// ***************************
/*=======================================================================*\
|| ###################################################################### ||
|| # vBulletin 5.6.1 Patch Level 1
|| # ------------------------------------------------------------------ # ||
|| # Copyright 2000-2020 MH Sub I, LLC dba vBulletin. All Rights Reserved.  # ||
|| # This file may not be redistributed in whole or significant part.   # ||
|| # ----------------- VBULLETIN IS NOT FREE SOFTWARE ----------------- # ||
|| # http://www.vbulletin.com | http://www.vbulletin.com/license.html   # ||
|| ###################################################################### ||
\*========================================================================*/
window.vBulletin=window.vBulletin||{};window.vBulletin.phrase=window.vBulletin.phrase||{};window.vBulletin.phrase.precache=window.vBulletin.phrase.precache||[];window.vBulletin.phrase.precache=$.merge(window.vBulletin.phrase.precache,["gallery_slideshow","no_photos_found_or_post_deleted"]);(function(E){window.vBulletin=window.vBulletin||{};vBulletin.gallery=vBulletin.gallery||{};var K=5,N=E("#slideshow-dialog"),D=false,R=false,P=0,I={},B="fast",G="swing";function C(U,V,Y,T){var a=U.find(".caption"),X;a.html("").hide();if(V.links){a.append(E("<div />").addClass("links ellipsis").html(V.links))}if(V.title){a.append(E("<div />").addClass("title ellipsis").html(V.title))}if(V.links&&V.title){X=15}else{if(V.links||V.title){X=35}else{X=50}}var W=U.find(".slideshow-wrapper .jcarousel-item-"+Y+" img");var Z=W.outerWidth();a.css({marginBottom:X+"px",width:"100%",textAlign:"center",marginLeft:"auto",marginRight:"auto"});W.one("load",function(){var b=E(this).outerWidth();a.css("width",b+"px")});if(T){a.fadeIn("fast",function(){U.click()})}else{a.show()}}function L(U){var T=vBulletin.isRtl();if(U.which==37){vBulletin.gallery.slideshow.jcarousel(T?"next":"prev")}else{if(U.which==39){vBulletin.gallery.slideshow.jcarousel(T?"prev":"next")}}if(U.which>=33&&U.which<=40){return false}}function M(T){var U=T.originalEvent.wheelDelta||-T.originalEvent.detail;if(U>0){vBulletin.gallery.slideshow.jcarousel("prev")}else{vBulletin.gallery.slideshow.jcarousel("next")}return false}function A(U){if(U){var T=vBulletin.isRtl(),W=0,V=false,Z=false;function Y(b,c){if(!vBulletin.gallery.slideshow.jcarousel("canmove")){return }var g=E(".slideshow-wrapper .jcarousel-list"),n=T?"right":"left",o=parseInt(g.css(n),10);if(b==="restore"){var m=o+(W*-1);if(c){var q={};q[n]=m;g.animate(q,B,G)}else{g.css(n,m)}W=0;V=false}else{if(b==="prev"||b==="next"){var p=parseInt(g.css("width"),10),l=g.find(".jcarousel-item"),a=l.length,e=l.first(),k=parseInt(e.css("width"),10),j=(a-1)*k,h=Math.abs(V),f,i,d;f=(b==="prev")?(h-k):(h+k);i=(f>=0&&f<=j);d=(!f?0:(f/k))+1;f=(f*-1);if(i){var q={};q[n]=f;g.animate(q,B,G,function(){W=0;if(V!==false){g.css("visibility","hidden");g.css(n,V);V=false;vBulletin.gallery.slideshow.jcarousel("scroll",d,false);g.css("visibility","visible")}});if(V!==false){return true}}}else{if(T){b=b*-1}g.css(n,o+b);W+=b;if(V===false){V=o}}}}function X(b){Z=true;var a=Y(b,true);if(!a){Y("restore",true)}}E(document).swipeable({swipeleft:function(b,a){X(T?"prev":"next")},swiperight:function(b,a){X(T?"next":"prev")},swiping:function(b,a){Y(a.moved.x)},swipeend:function(b,a){if(W&&!Z){Y("restore",true)}if(Z){Z=false}},})}else{E(document).swipeable("disable")}}function J(){var j=E(this);R=this;if(j.closest("#preview-overlay").length==1){return false}var Y=j.attr("data-channelid"),k=j.attr("src");if(typeof (k)==="undefined"){k=j.attr("href")}if(D===false){D=j.index()}E(document).off("click","#slideshow-dialog .close-btn").on("click","#slideshow-dialog .close-btn",function(){N.dialog("close")});E(document).off("click",".thumbnails .image-wrapper").on("click",".thumbnails .image-wrapper",function(s,r){if(typeof r=="undefined"){r=true}E(".thumbnails .image-wrapper",N).addClass("dimmed");E(this).removeClass("dimmed");var q=Number(E(this).parent().attr("jcarouselindex"));N.data("thumbclick",true);vBulletin.gallery.slideshow.jcarousel("scroll",q,r);N.removeData("thumbclick")});E("body").css("overflow","hidden");var p=E(window).innerWidth(),b=E(window).innerHeight(),h=false;var U=h?20:0,m=10,g=parseInt(p-(U*2),10),V=parseInt(b-(U*2),10);if(!h){N.css({borderRadius:0,borderWidth:0})}else{N.css({borderRadius:"",borderWidth:""})}var a=parseInt(g-(m*2),10),i=parseInt(V-(m*2),10),X=60,Z=90,f=50,n=a-10,d=parseInt(i-X-f-(m*3),10),e=parseInt(((d/2)-21),10);P=n;K=Math.max(1,Math.floor(P/Z));N.dialog({autoOpen:false,resizable:false,closeOnEscape:true,showTitleBar:false,modal:true,width:g,height:V,dialogClass:"slideshow-dialog",open:function(){E(".ui-widget-overlay").bind("click",function(){N.dialog("close")});E(document).off("keydown",L).on("keydown",L);E(document).off("mousewheel DOMMouseScroll",M).on("mousewheel DOMMouseScroll",M);A(true)},close:function(r,q){if(vBulletin.gallery.thumbnails){vBulletin.gallery.thumbnails.jcarousel("destroy")}if(vBulletin.gallery.slideshow){vBulletin.gallery.slideshow.jcarousel("destroy")}E("body").css("overflow","auto");E(document).off("keydown",L);E(document).off("mousewheel DOMMouseScroll",M);A(false);R=false;D=false}});var T=N.find(".slideshow-wrapper .slideshow-list");if(T.length==0){T=N.find(".slideshow-wrapper").append(E("<ul />").addClass("slideshow-list"))}N.dialog("open");window.vBulletin.loadingIndicator.show();var c=j.closest(".js-slideshow__gallery-node").attr("data-node-id")||j.closest(".js-slideshow__gallery-node").attr("data-nodeid")||j.closest(".js-post-sm").attr("data-nodeid");var l="\nwidth: "+n+"px;\nheight: "+d+"px;\n",W=".slideshow .slideshow-wrapper",o='<style type="text/css">\n'+W+" > .jcarousel-clip-horizontal {"+l+"}\n.slideshow .thumbnails > .jcarousel-clip-horizontal {\nwidth: "+P+"px;\n}\n"+W+" > .jcarousel-clip .jcarousel-item {"+l+"}\n.slideshow .jcarousel-item .image {\nmax-width: "+n+"px;\nmax-height: "+d+"px;\n}\n"+W+" > .jcarousel-prev-horizontal,\n"+W+" > .jcarousel-next-horizontal {\ntop: "+e+"px;\n}\n</style>";E(o).appendTo("head");vBulletin.gallery.slideshow=T.jcarousel({wrap:null,animation:B,easing:G,scroll:1,rtl:vBulletin.isRtl(),initCallback:function(z,t){if(t=="init"){var r=j.closest(".b-content-entry-panel__content--gallery").find(".js-photo-postdata input");if(r.length>0){var q={photos:[]};r.filter('[name="filedataid[]"]').each(function(){var AA={title:JShtmlEncode(r.filter('[name="title_'+this.value+'"]').val()),url:pageData.baseurl+"/filedata/fetch?filedataid="+this.value,thumb:pageData.baseurl+"/filedata/fetch?thumb=1&filedataid="+this.value};q.photos.push(AA)});setTimeout(function(){S(q,z)},10)}else{var v={nodeid:c};if(vBulletin.media&&vBulletin.media.MEDIA_USERID){v.userid=vBulletin.media.MEDIA_USERID}if(Y){v.channelid=Y}var s=parseInt(E(".albumSlideShowPageNo").val());if(!isNaN(s)){v.pageno=s}var w=parseInt(E(".albumSlideShowPerPage").val());if(!isNaN(w)){v.perpage=w}var u=E(".media-tab .media-filter-overlay .filter-options input:checked").val();if(u){v.dateFilter=u}if(!isNaN(D)){v.startIndex=D}var y=v;if(c>0){y.startIndex=""}var x=JSON.stringify(y);if(I[x]){S(I[x],z)}else{E.post(vBulletin.getAjaxBaseurl()+"/filedata/gallery",v,function(AA){if(!AA&&k){AA={photos:[{title:"",url:k,thumb:""}]}}I[x]=AA;S(AA,z)},"json").complete(function(){window.vBulletin.loadingIndicator.hide()})}}}},itemVisibleInCallback:{onBeforeAnimation:function(v,t,s,u){if(u=="init"){return false}var x=N.data("image-data");if(x){var q=x.photos.length;if(s>0){while(s>q){s-=q}}else{while(s<=0){s+=q}}C(N,x.photos[s-1],s,true);var w=Math.floor(K/2);var r=s-w;r=Math.max(r,1);vBulletin.gallery.thumbnails.jcarousel("scroll",r,true);if(!N.data("thumbclick")){E("#slideshow-dialog .thumbnails .image-wrapper").addClass("dimmed");vBulletin.gallery.thumbnails.jcarousel("get",s).find(".image-wrapper").removeClass("dimmed")}D=s-1}}}});return false}function S(a,Z){if(!a||!a.photos){openAlertDialog({title:vBulletin.phrase.get("gallery_slideshow"),message:vBulletin.phrase.get("no_photos_found_or_post_deleted"),iconType:"warning"});return }N.data("image-data",a);Q(Z,a,N);N.find(".slideshow-wrapper").find(".jcarousel-prev-horizontal").addClass("b-icon b-icon__arrow-block-left").end().find(".jcarousel-next-horizontal").addClass("b-icon b-icon__arrow-block-right");var V=N.find(".thumbnails"),U=V.find(".jcarousel-prev-horizontal"),T=V.find(".jcarousel-next-horizontal");U.addClass("b-icon b-icon__arrow-bar-left").toggleClass("b-icon--disabled",U.is(".jcarousel-prev-disabled"));T.addClass("b-icon b-icon__arrow-bar-right").toggleClass("b-icon--disabled",T.is(".jcarousel-next-disabled"));C(N,a.photos[0],1);if(a.photos.length>1){vBulletin.gallery.thumbnails.jcarousel("get",1).find(".image-wrapper").removeClass("dimmed")}var X=D;var W=parseInt(E(".albumSlideShowPerPage").val());if(!isNaN(W)){X=D%W}if(X>0){var Y=vBulletin.gallery.slideshow.jcarousel("scroll",X+1,false);if(typeof Y!="undefined"){N.find(".slideshow-wrapper").css("visibility","hidden");window.setTimeout(function(){E(".thumbnails .image-wrapper",N).eq(X).trigger("click",[false]);N.find(".slideshow-wrapper").css("visibility","")},0)}}window.vBulletin.loadingIndicator.hide()}function Q(U,W,T){U.size(W.photos.length);if(W.photos.length>1){E("#slideshow-dialog .thumbnails").show();H(W)}else{E("#slideshow-dialog .thumbnails").hide();T.dialog("option","height","auto")}var V=U.first||1;E.each(W.photos,function(Y,X){U.add(V+Y,'<div class="image-wrapper"><a href="{0}"><img src="{0}" alt="{1}" class="image" /></a></div>'.format(X.url,X.htmltitle))})}function H(V){var U=E("#slideshow-dialog .thumbnails .thumbnail-list");if(U.length==0){U=E("#slideshow-dialog .thumbnails").append(E("<ul />").addClass("thumbnail-list"))}function T(Y){var X=E(Y.buttonPrev[0]),W=E(Y.buttonNext[0]);X.toggleClass("b-icon--disabled",X.is(".jcarousel-prev-disabled"));W.toggleClass("b-icon--disabled",W.is(".jcarousel-next-disabled"))}vBulletin.gallery.thumbnails=U.jcarousel({wrap:null,animation:"fast",easing:"swing",scroll:K,rtl:vBulletin.isRtl(),size:V.photos.length,initCallback:function(a,Y){if(Y=="init"){a.size(V.photos.length);E.each(V.photos,function(d,c){var b=(a.first||1)+d;if(a.has(b)){return true}if(b>V.photos.length){return false}var e=E("<img />").addClass("thumbnail").on("load",function(){}).attr({src:c.thumb,alt:""}).appendTo(E("<div />").addClass("image-wrapper dimmed"));a.add(b,e.parent().get(0))});var W=E("#slideshow-dialog .thumbnails .jcarousel-clip");var Z=Math.min(a.size(),K)*90;var X=Math.min(P,Z);W.css("width",X+"px");if(a.size()<=K){a.buttonNext.hide();a.buttonPrev.hide()}}},itemVisibleInCallback:{onBeforeAnimation:function(Z,X,W,Y){E("#slideshow-dialog .thumbnails").data("visible-range",{first:Z.first,last:Z.last})}},buttonNextCallback:T,buttonPrevCallback:T}).disableSelection()}function F(){if(R){var U=R;var T=D;N.dialog("close");D=T;J.call(U)}}function O(){E(document).off("click",".b-gallery-thumbnail-list__item").on("click",".b-gallery-thumbnail-list__item",J);N.addClass("js-no-responsive-resize");E(window).on("resize",E.debounce(300,F))}E(document).ready(O)})(jQuery);;

// ***************************
// js.compressed/conversation_filter.js
// ***************************
/*=======================================================================*\
|| ###################################################################### ||
|| # vBulletin 5.6.1 Patch Level 1
|| # ------------------------------------------------------------------ # ||
|| # Copyright 2000-2020 MH Sub I, LLC dba vBulletin. All Rights Reserved.  # ||
|| # This file may not be redistributed in whole or significant part.   # ||
|| # ----------------- VBULLETIN IS NOT FREE SOFTWARE ----------------- # ||
|| # http://www.vbulletin.com | http://www.vbulletin.com/license.html   # ||
|| ###################################################################### ||
\*========================================================================*/
window.vBulletin=window.vBulletin||{};window.vBulletin.phrase=window.vBulletin.phrase||{};window.vBulletin.phrase.precache=window.vBulletin.phrase.precache||[];window.vBulletin.phrase.precache=$.merge(window.vBulletin.phrase.precache,["invalid_request","invalid_search_syntax","invalid_server_response_please_try_again","unknown_error"]);(function(A){vBulletin.conversation=vBulletin.conversation||{};vBulletin.conversation.filter=function(K){var N=this,E=null,F=0,J=false,C=false,I="conversation_filter";var O={context:document,autoCheck:false,checkInterval:15000,scrollToTop:null,customFilter:null,onContentLoad:null,closeOverlayOnScroll:false,pagination:null,allowHistory:false,tabParamAsQueryString:true,hash:"",beforeApplyFilters:null,afterResetFilters:null,};if(K&&typeof K=="object"){A.extend(O,K)}var B=new vBulletin.history.instance(O.allowHistory);function H(){A(".toolbar-filter-overlay input[type=radio]",O.context).off("change."+I).on("change."+I,function(X,W,b){var R,U,S=A(this),d=A(this.form);if(!B.isEnabled()&&O.allowHistory){R=vBulletin.makePaginatedUrl(location.href,1);location.href=vBulletin.makeFilterUrl(R,this.name,this.value,O.context,O.hash);return true}J=true;O.customFilter=null;if(!S.data("bypass-filter-display")){M(this)}U=S.closest(".conversation-toolbar-wrapper");if(A(".conversation-toolbar-wrapper",O.context).length>1){$toolbarWrappers.filter("."+(U.hasClass("top")?"bottom":"top")).find("input[name={0}][value={1}]".format(this.name,this.value)).prop("checked",true)}if(this.value=="conversations_on"){O.autoCheck=true;C=true;F=1}else{clearTimeout(F);C=(this.name=="filter_show")}A(".new-conversations-strip",O.context).hide();N.updatePageNumber(b||1);var T=A('.filtered-by .filter-text[data-filter-name="q"]',O.context);if(T.length){var Q=N.getSelectedFilters(d);Q.q=T.data("filter-value");N.setOption("customFilter",Q);N.forceApplyFilters()}else{N.applyFilters(false)}if(B.isEnabled()&&!W){var V=N.getSelectedFilters(d),c=this.name,P=this.value,a=A(".filtered-by",U),Z={from:"filter",page:1,tab:O.tabParamAsQueryString?"#"+U.closest(".ui-tabs-panel").attr("id"):vBulletin.getSelectedTabHashOrPath(U.closest(".ui-tabs"),false),filters:V,filtervalue:P,filtername:c};if(!a.data("reset")){R=vBulletin.makePaginatedUrl(location.href,1);R=vBulletin.makeFilterUrl(R,c,P,O.context)}else{R=location.pathname.replace(/\/page[0-9]+/,"");if(O.tabParamAsQueryString){var Y=vBulletin.parseQueryString(location.search);if(Y.tab){R+="?tab="+Y.tab}else{if(Y.view){R+="?view="+Y.view}}}}B.pushState(Z,document.title,R);a.data("reset",null)}});A(".new-conversations-strip",O.context).off("click."+I).on("click."+I,function(){A(this).hide();C=true;N.updatePageNumber(1);N.applyFilters(false,true)});A(".toolbar-filter",O.context).off("click."+I).on("click."+I,function(U,T,R){var S=A(this).closest(".conversation-toolbar-wrapper");var Q=(S.hasClass("bottom"))?"bottom":"top";if(typeof T=="undefined"){T="slow"}var V=A(".filter-wrapper",this).toggleClass("selected");A(".arrow .vb-icon",this).toggleClass("vb-icon-triangle-down-wide vb-icon-triangle-up-wide");A(".toolbar-filter-overlay",S).slideToggle(T,function(){var W=I+Q;if(A(this).is(":visible")){A("body").off("click."+W).on("click."+W,function(c){var a=".conversation-toolbar-wrapper."+Q;if(A(c.target).closest(".toolbar-filter-overlay").length==0&&A(c.target).closest(".toolbar-filter").length==0){A("body").off("click."+W);A(window).off("scroll."+W);var b=(A(c.target).closest(".toolbar-filter").length>0)?"fast":"slow";A(".conversation-toolbar-wrapper.{0} .conversation-toolbar .toolbar-filter".format(Q),O.context).triggerHandler("click."+I,[b])}});var Y=true;if(R!="scroll"){var X=A(".filtered-by",O.context);if(X.length==0||X.is(":hidden")){X=this}var Z={};Y=vBulletin.isScrolledIntoView(X,Z);if(!Y){A("html,body").animate({scrollTop:"+="+Math.abs(Z.bottom)},"fast",function(){setTimeout(function(){if(O.closeOverlayOnScroll){A(window).off("scroll."+W).on("scroll."+W,function(){A(".conversation-toolbar-wrapper.{0} .conversation-toolbar .toolbar-filter".format(Q),O.context).triggerHandler("click."+I,[0,"scroll"])})}},50)})}}if(Y){if(O.closeOverlayOnScroll){A(window).off("scroll."+W).on("scroll."+W,function(){A(".conversation-toolbar-wrapper.{0} .conversation-toolbar .toolbar-filter".format(Q),O.context).triggerHandler("click."+I,[0,"scroll"])})}}}else{A("body").off("click."+W);A(window).off("scroll."+W)}});if(S.hasClass("bottom")&&A(".arrow .vb-icon",this).hasClass("vb-icon-triangle-up-wide")){var P=A(".conversation-toolbar-wrapper.bottom .toolbar-filter-overlay",O.context);A("html, body").animate({scrollTop:P.offset().top+P.innerHeight()},500)}});A(".filtered-by",O.context).off("click."+I,".x").on("click."+I,".x",function(){var T=A(this),Q=T.closest(".filtered-by"),W=T.closest(".filter-text"),S=W.data("filter-name"),V=A(),R;Q.data("clicked",true);if(!B.isEnabled()&&O.allowHistory){var P;if(W.data("filter-type")=="text"&&W.data("filter-js-selector")){P=vBulletin.makePaginatedUrl(location.href,1);location.href=vBulletin.makeFilterUrl(P,"q","",O.context,O.hash,true)}else{P=vBulletin.makePaginatedUrl(location.href,1);location.href=vBulletin.makeFilterUrl(P,S,W.data("filter-value"),O.context,O.hash,true)}return false}V=A(".toolbar-filter-overlay .filter-options input[name={0}]".format(S),O.context).prop("checked",false).filter(".js-default-checked");N.updatePageNumber(1);if(W.data("filter-type")=="text"&&W.data("filter-js-selector")){A(W.data("filter-js-selector")).val("");R=N.getSelectedFilters(A("form.toolbar-filter-overlay",O.context));delete R[S];N.setOption("customFilter",R)}W.remove();var U=Q.find(".filter-text").length;if(U==0){Q.addClass("h-hide");Q.data("reset",true)}else{if(U==1){Q.find(".clear-all").addClass("h-hide")}}if(V.length==1){V.data("bypass-filter-display",true);V.trigger("click."+I);V.data("bypass-filter-display",null)}else{if(R){var P=vBulletin.makePaginatedUrl(location.href,1);P=vBulletin.makeFilterUrl(P,"q","",O.context);B.pushState({from:"filter",page:1,tab:O.tabParamAsQueryString?"#"+T.closest(".ui-tabs-panel").attr("id"):vBulletin.getSelectedTabHashOrPath(T.closest(".ui-tabs"),false),filters:R},document.title,P)}N.forceApplyFilters();if(R){N.setOption("customFilter",null)}}});A(".filtered-by",O.context).off("click."+I,".clear-all").on("click."+I,".clear-all",function(Q){var P=A(this).closest(".conversation-toolbar-wrapper");A(this).data("clicked",true);N.setOption("customFilter",null);N.resetFilters(false,false,P);Q.preventDefault()});A(".conversation-toolbar .filter-wrapper",O.context).data("object-instance",N);A(".js-conversation-showmore-button",O.context).click(function(){var P=parseInt(A('form.toolbar-filter-overlay input[name="pagenum"]',O.context).val());C=false;N.updatePageNumber(P+1);N.applyFilters(false,true,true)});A(".conversation-toolbar .toolbar-search-form",O.context).off("submit.filtersearch").on("submit.filtersearch",function(){var W="q",X=A(this.elements[W]),U=A.trim(X.val()),Q=A(this).closest(".conversation-toolbar-wrapper"),R;X.val(U);if(!B.isEnabled()&&O.allowHistory){R=vBulletin.makePaginatedUrl(location.href,1);location.href=vBulletin.makeFilterUrl(R,W,U,Q);return false}var T=O.tabParamAsQueryString?"#"+A(this).closest(".ui-tabs-panel").attr("id"):vBulletin.getSelectedTabHashOrPath(A(this).closest(".ui-tabs"),false);if(U){var P=N.getSelectedFilters(Q.find(".toolbar-filter-overlay")),S={};S[W]=U;A.extend(P,S);N.setOption("customFilter",P);N.forceApplyFilters();N.displayCustomFilterText(this.elements[W]);if(B.isEnabled()){R=vBulletin.makePaginatedUrl(location.href,1);R=vBulletin.makeFilterUrl(R,W,U,Q);B.pushState({from:"filter",page:1,tab:T,filters:P},document.title,R)}}else{var V=Q.find('.filter-text[data-filter-name="{0}"]'.format(W));if(V.length){var P=N.getSelectedFilters(Q.find(".toolbar-filter-overlay"));N.setOption("customFilter",P);A(".x",V).trigger("click");if(B.isEnabled()){R=vBulletin.makePaginatedUrl(location.href,1);R=vBulletin.makeFilterUrl(R,W,U,Q);B.pushState({from:"filter",page:1,tab:T,filters:P},document.title,R)}}}return false})}function M(P,Q){vBulletin.conversation.displaySelectedFilterText(P,Q,O.context)}H();this.isFilterSelected=function(P){return A('.toolbar-filter-overlay input[value="'+P+'"]',O.context).is(":checked")};this.getSelectedFilters=function(P){return vBulletin.getSelectedFilters(P,false)};this.resetFilterForms=function(P){if(!P||(P instanceof A&&!P.length)){P=O.context}A(".toolbar-filter-overlay .js-default-checked",P).prop("checked",true);A(".toolbar-search-form .js-filter-search",P).val("")};A(".toolbar-filter-overlay, .toolbar-search-form",O.context).trigger("reset");if(B.isEnabled()){var D=B.getState();if(!D||A.isEmptyObject(D.data)){var G=A(O.context).hasClass("ui-tabs-panel")?A(O.context).attr("id"):A(".conversation-toolbar-wrapper",O.context).closest(".ui-tabs-panel").attr("id"),L={from:"filter",page:Number(A(".pagenav-form .defaultpage",O.context).val())||1,tab:vBulletin.getSelectedTabHashOrPath(A(O.context).closest(".ui-tabs"),O.tabParamAsQueryString),filters:N.getSelectedFilters(A("form.toolbar-filter-overlay",O.context))};B.setDefaultState(L,document.title,location.href)}B.setStateChange(function(X,c,Y){var P=B.getState();if(P.data.from=="filter"||c=="pagination"||c=="tabs"){B.log(P.data,P.title,P.url);var S,Q;if(P.data.tab){S=O.tabParamAsQueryString?A(P.data.tab):A('.ui-tabs .ui-tabs-panel[data-url-path="'+P.data.tab+'"]')}Q=(S&&S.length&&S)||O.context;if(c=="pagination"){if(Y){var a=A(".filtered-by",Q),R=A(".toolbar-filter-overlay .filter-options-list",Q),b=false;A(".filter-text",a).filter('[data-filter-name!="q"]').remove();A(".clear-all",a).addClass("h-hide");R.find(".js-default-checked").prop("checked",true);A.each(Y,function(e,f){var d=A('input[name="{0}"][value="{1}"]'.format(e,f),R);if(d.length){d.prop("checked",true).trigger("change",[true,P.data.page]);b=true}});if(!b){R.first().data("bypass-filter-display",true).trigger("change",[true,P.data.page]).data("bypass-filter-display",null);a.addClass("h-hide")}}}else{var W=A(Q).closest(".ui-tabs"),T=O.tabParamAsQueryString?W.find('.ui-tabs-nav > li > a[href*="{0}"]'.format(P.data.tab)):W.find('.ui-tabs-nav > li > a[data-url-path="'+P.data.tab+'"]');if(!T.parent().hasClass("ui-tabs-active")){var V=T.parent().index();vBulletin.selectTabByIndex.call(W,V)}else{var U=N.getSelectedFilters(A(".toolbar-filter-overlay",Q)),Z=A(".conversation-toolbar .filter-wrapper",Q).data("object-instance")||N;if(!vBulletin.areJsonObjectsEqual(U,P.data.filters)){Z.setOption("context",Q);Z.updatePageNumber(P.data.page);Z.applyHistoryFilters(P.data)}}}}},"filter")}this.displayCustomFilterText=function(P,Q){M(P,(Q||A(P).val()))};this.isHistoryEnabled=function(){return B.isEnabled()};this.resetFilters=function(U,Q,T){if(!T||(T instanceof A&&!T.length)){T=O.context}var S=A(".filtered-by",T).addClass("h-hide"),R=location.pathname.replace(/\/page[0-9]+/,"");if(O.tabParamAsQueryString){var P=vBulletin.parseQueryString(location.search);if(P.tab){R+="?tab="+P.tab}else{if(P.view){R+="?view="+P.view}}}A(".clear-all",S).addClass("h-hide");A(".filter-text",S).remove();N.resetFilterForms(T);if(!U){if(B.isEnabled()){S.data("reset",true);N.updatePageNumber(1);var V=N.getSelectedFilters(A("form.toolbar-filter-overlay",T));if(Q){var W=A(".toolbar-search-form .js-filter-search",T).val("");delete V[W.attr("name")];N.setOption("customFilter",V)}N.forceApplyFilters();L={from:"filter",page:1,tab:O.tabParamAsQueryString?"#"+S.closest(".ui-tabs-panel").attr("id"):vBulletin.getSelectedTabHashOrPath(S.closest(".ui-tabs"),false),filters:V};B.pushState(L,document.title,R)}else{if(O.allowHistory){location.href=R}}}if(typeof O.afterResetFilters=="function"){O.afterResetFilters.apply(this,arguments)}return N};this.applyHistoryFilters=function(R){if(R&&R.filters&&!A.isEmptyObject(R.filters)){var S=O.tabParamAsQueryString?A(R.tab):A('.ui-tabs .ui-tabs-panel[data-url-path="'+R.tab+'"]'),U=A(".toolbar-filter-overlay",S);if(typeof (N.lastFilters)!="undefined"){delete N.lastFilters}N.resetFilters(true,false,S);A.each(R.filters,function(V,X){var W=A('[name="'+V+'"]',U);if(W.attr("type")=="hidden"){W.val(X)}else{if(W.attr("type")=="radio"&&X!=R.filtervalue){W.filter('[value="'+X+'"]').prop("checked",true)}}});var Q=vBulletin.parseQueryString(location.href),T=true,P=function(){A(".toolbar-search-form .js-filter-search",S).val("")};if(!A.isEmptyObject(Q)){A.each(Q,function(W,X){var V=A('.filter-options-list input[name="{0}"][value="{1}"]'.format(W,X),U);if(V.length){if(R.filtername==W&&R.filtervalue==X){T=false;V.prop("checked",true).trigger("change",[true])}else{M(V.get(0))}}else{V=A('.toolbar-search-form .js-toolbar-search-inner input[name="{0}"]'.format(W),S);if(V.length&&X){M(V.get(0),X);V.val(X)}else{P()}}})}else{P()}if(T){N.setOption("customFilter",R.filters);N.forceApplyFilters();N.setOption("customFilter",null)}}return N};this.forceApplyFilters=function(){if(typeof (N.lastFilters)!="undefined"){delete N.lastFilters}C=true;N.applyFilters(false,true);return N};this.applyFilters=function(U,X,P,V){if(typeof O.beforeApplyFilters=="function"){var c=O.beforeApplyFilters.apply(this,arguments);if(c===false){return N}}var b=A(".toolbar-filter-overlay",O.context);if(X){clearTimeout(F)}var Q={filters:(!O.customFilter)?N.getSelectedFilters(b):O.customFilter,isAjaxTemplateRender:true,isAjaxTemplateRenderWithData:true};if(A.isEmptyObject(Q.filters)){return N}if(U){Q.filters["checkSince"]=E;Q.filters["pagenum"]=1}if(!V){var R=b.find('input[name="result-id"]').val(0);if(R.length){Q.filters["result-id"]=0}}else{C=true}if(typeof (this.lastFilters)!="undefined"&&vBulletin.areJsonObjectsEqual(this.lastFilters.filters,Q.filters)&&!U){return N}this.lastFilters=Q;var Y=A(".conversation-empty",O.context),T=A(".conversation-toolbar-wrapper",O.context);T.addClass("h-disabled");Y.addClass("h-invisible");if(U){window.vBulletin.loadingIndicator.suppressNextAjaxIndicator()}var a=vBulletin.normalizeAjaxUrl(b.attr("action"))||(vBulletin.getAjaxBaseurl()+"/activity/get");var Z=b.closest(".conversation-toolbar-wrapper").find('form.pagenav-form input[name="article_display_columns"]');if(Z.length==1){Q.article_display_columns=Z.val()}var W=A(".conversation-list",O.context);var S=function(d){W.addClass("h-hide");var e=vBulletin.phrase.get(d);Y.html((e||"").replace(/<br\s*\/*>/g," ")).removeClass("h-hide h-invisible")};vBulletin.AJAX({url:a,data:(Q),api_error:function(d){S(d[0])},success:function(d){Y.addClass("h-hide");if(U){if(!J&&d.total>0&&!A("body").hasClass("edit-mode")){A(".new-conversations-strip span",O.context).html(d.total);A(".new-conversations-strip",O.context).fadeIn("slow")}if(A(".conversation-list li.list-item",O.context).length==0){Y.removeClass("h-hide")}}else{var g=A(".js-conversation-showmore",O.context);A(".new-conversations-strip",O.context).hide();if(((d.total_with_sticky>0)||(d.total>0))&&d.template){if(d.resultId){var f=A('input[name="result-id"]',b).val(d.resultId);if(f.length&&this.lastFilters){this.lastFilters.filters["result-id"]=d.resultId}if(O.pagination){O.pagination.updateResultId(d.resultId)}}if(P){W.append(d.template)}else{Y.addClass("h-hide");W.html(d.template).removeClass("h-hide")}if((Q.filters["maxpages"]&&Q.filters["pagenum"]>=Q.filters["maxpages"])||(d.pageinfo&&(Q.filters["pagenum"]>=d.pageinfo.totalpages||d.pageinfo.showseemore===false))){g.addClass("h-hide")}else{g.removeClass("h-hide")}}else{if(!P){Y.removeClass("h-hide");W.addClass("h-hide").empty()}}if(d.total_with_sticky==0){g.addClass("h-hide")}if(C&&O.scrollToTop){var e=(O.scrollToTop instanceof A)?O.scrollToTop:A(O.scrollToTop);if(e.length>0){A("body,html").animate({scrollTop:e.offset().top},"slow")}}E=d.lastDate;if(typeof O.onContentLoad=="function"){O.onContentLoad.apply(W.get(0),[d])}if(d.pageinfo){N.updatePageNumber(d.pageinfo.pagenumber||1);if(O.pagination&&typeof O.pagination.updatePageInfo=="function"){O.pagination.setOption("context",O.context);O.pagination.updatePageInfo(d.pageinfo,true)}}if(vBulletin.inlinemod&&typeof vBulletin.inlinemod.init=="function"&&A(".moderationmenu_container",O.context).length>0){vBulletin.inlinemod.init(O.context)}A(document).trigger("vb-filterposts",{parentOfInsertedHtml:W})}if(J){J=false}},error_phrase:"unable_to_contact_server_please_try_again",complete:function(){T.removeClass("h-disabled");Y.removeClass("h-invisible");if(!J&&O.autoCheck&&F){F=setTimeout(N.checkNewConversations,O.checkInterval)}}});return N};this.updatePageNumber=function(P){P=Number(P);if(P>0){A('form.toolbar-filter-overlay input[name="pagenum"]',O.context).val(P)}return N};this.checkNewConversations=function(){if(!A("body").hasClass("edit-mode")){console.log("Checking for new activity since "+E);N.applyFilters(true)}return N};this.toggleNewConversations=function(P){if(P){O.autoCheck=true;F=setTimeout(N.checkNewConversations,O.checkInterval)}else{O.autoCheck=false;clearTimeout(F)}return N};this.hideFilterOverlay=function(){A(".conversation-toolbar-wrapper .toolbar-filter-overlay",O.context).filter(":visible").each(function(){A(this).prev(".conversation-toolbar").find(".toolbar-filter").triggerHandler("click."+I,[0])});return N};this.getOption=function(P){return O[P]};this.setOption=function(P,Q){O[P]=Q;return N};if(O.autoCheck){E=pageData.current_server_datetime;F=setTimeout(N.checkNewConversations,O.checkInterval)}};vBulletin.conversation.displaySelectedFilterText=function(J,K,C){var L=A(J);if(L.data("bypass-filter-display")==1){return }C=C||L.closest(".conversation-toolbar-wrapper");var G=A(".filtered-by",C).removeClass("h-hide").find(".filter-text-wrapper").show(),B=A(".filter-text[data-filter-name={0}]".format(J.name),G),M='<div class="filter-text" data-filter-name="{0}" data-filter-value="{1}"><span title="{2}">{3}</span><span class="x b-icon b-icon__x-circle"></span></div>',E,F,I;if(J.type=="radio"){F=L.next("span").text();E=A(M.format(J.name,vBulletin.htmlEntities(J.value),L.closest(".filter-options").prev(".filter-header").html()+" - "+F,((J.name=="filter_new_topics"||J.name=="filter_depth"||(J.value.indexOf("_all")!=-1&&J.value!="time_all"))?(L.closest("li").find(".filter-header").html()||"")+" - ":"")+F))}else{if(J.type=="text"){K="&quot;"+JShtmlEncode(K)+"&quot;";E=A(M.format(J.name,vBulletin.htmlEntities(J.value),L.data("filter-name")+": "+K,K)).data("filter-type","text");I=L.attr("class").match(/js-.*/);if(I){E.data("filter-js-selector","."+I[0])}}}if(B.length>0){B.replaceWith(E)}else{var D=[],H=false;A(".toolbar-filter-overlay > ul > li",C).each(function(){D.push(A("input:first",this).attr("name"))});A(".filter-text",G).each(function(){var N=A(this);if(A.inArray(J.name,D)<A.inArray(N.attr("data-filter-name"),D)){N.before(E);H=true;return false}});if(!H){G.append(E)}if(A(".filter-text",G).length>1){G.next(".clear-all").removeClass("h-hide")}}}})(jQuery);;

// ***************************
// js.compressed/channel_conversation.js
// ***************************
/*=======================================================================*\
|| ###################################################################### ||
|| # vBulletin 5.6.1 Patch Level 1
|| # ------------------------------------------------------------------ # ||
|| # Copyright 2000-2020 MH Sub I, LLC dba vBulletin. All Rights Reserved.  # ||
|| # This file may not be redistributed in whole or significant part.   # ||
|| # ----------------- VBULLETIN IS NOT FREE SOFTWARE ----------------- # ||
|| # http://www.vbulletin.com | http://www.vbulletin.com/license.html   # ||
|| ###################################################################### ||
\*========================================================================*/
window.vBulletin=window.vBulletin||{};window.vBulletin.phrase=window.vBulletin.phrase||{};window.vBulletin.phrase.precache=window.vBulletin.phrase.precache||[];window.vBulletin.phrase.precache=$.merge(window.vBulletin.phrase.precache,["closed","this_topic_is_closed"]);(function(A){var C=[".forum-channel-content-widget",".blog-channel-content-widget",".sg-channel-content-widget",".search-results-widget .topic-list-container"];if(!vBulletin.pageHasSelectors(C)){return false}var B={};vBulletin.conversation.editTopicTitle=function(G){var F=A(G.target),D=F.closest(".js-topic-item"),E=D.find(".js-topic-wrapper"),I=D.data("node-id"),H=D.data("can-edit-title");if(!H){return }if(B[I]){return }B[I]="edit";if(E.find(".js-loading-icon").length==0){A('<img class="loading-icon js-loading-icon" src="'+pageData.baseurl+'/images/misc/progress.gif" />').appendTo(E)}E.find(".js-loading-icon").show();vBulletin.AJAX({call:"/create-content/loadtitleedit",data:{nodeid:I,isAjaxTemplateRender:true},success:function(J){E.find(".js-topic-title").hide();E.find(".js-loading-icon").hide();E.find(".js-topic-title").after(J);var L=E.find(".js-topic-title-edit");L.data("original-title",L.val());var K=30;E.find(".js-prefix, .js-post-icon, .js-topic-prefix, .js-go-to-first-unread").each(function(){K+=A(this).outerWidth(true)});L.outerWidth(L.outerWidth()-K);E.find(".js-topic-title-edit-form").on("submit",vBulletin.conversation.saveTopicTitle);L.on("blur",vBulletin.conversation.saveTopicTitle);L.select().focus()}})};vBulletin.conversation.saveTopicTitle=function(G){G.preventDefault();var F=A(G.target).closest(".js-topic-wrapper"),D=F.find(".js-topic-title-edit-form"),I=D.find(".js-node-id").val(),H=D.find(".js-topic-title-edit").val();if(B[I]=="save"){return }B[I]="save";var J=F.find(".js-topic-title-edit"),E=J.data("original-title");if(E==H){F.find(".js-loading-icon").remove();F.find(".js-topic-title-edit-form").remove();F.find(".js-topic-title").show();B[I]=false}else{F.find(".js-loading-icon").appendTo(D).show();vBulletin.AJAX({call:"/create-content/savetitleedit",data:{nodeid:I,title:H},success:function(K){F.find(".js-topic-title-edit-form").remove();F.find(".js-topic-title").html(K.title).show()},complete:function(){F.find(".js-loading-icon").remove();B[I]=false}})}};vBulletin.conversation.openOrCloseTopic=function(I){I.stopPropagation();var E=A(this),D=E.closest(".js-topic-item"),F=D.find(".js-topic-wrapper"),H=D.data("node-id"),J=D.hasClass("closed");if(F.find(".js-loading-icon").length==0){A('<img class="loading-icon js-loading-icon" src="'+pageData.baseurl+'/images/misc/progress.gif" />').appendTo(F)}var G=F.find(".js-loading-icon");G.show();vBulletin.AJAX({call:"/ajax/api/node/"+(J?"openNode":"closeNode"),data:{nodeid:H},error_phrase:"error_open_close_topic",api_error:function(L){var K=vBulletin.ajaxtools;if(K.hasError(L,"inlinemodauth_required")){return true}K.logApiError(L)},complete:function(){G.hide()},success:function(T){var L=J;D.toggleClass("closed",!L);var K=E.attr("title")||"",U=vBulletin.phrase.get("this_topic_is_closed");subStrIndex=K.indexOf(U);if(L&&subStrIndex>=0){var M=(K.slice(0,subStrIndex)+K.slice(subStrIndex+U.length)).trim();E.attr("title",M)}else{if(!L&&subStrIndex<0){E.attr("title",U+" "+K)}}var S=F.find(".js-prefix"),P="",R=[],O=vBulletin.phrase.get("closed");if(S.length){P=S.text().trim();if(P.charAt(P.length-1)==":"){P=P.substring(0,P.length-1)}if(P.length>0){R=P.split(", ")}if(!L){R.push(O)}else{if(R.length>0){for(var N=R.length-1;N>=0;N--){if(R[N]==O){R.splice(N,1)}}}}}else{S=A('<span class="prefix js-prefix"></span>');var Q=F.find(".js-go-to-first-unread");if(Q.length){S.insertAfter(Q)}else{S.prependTo(F)}if(!L){R.push(O)}}S.text(R.join(", ")+": ");S.toggle(R.length!=0)}})};A(document).ready(function(){vBulletin.conversation=vBulletin.conversation||{};var G=A(".channel-content-widget .channel-conversation-list-wrapper"),J=A("#activity-stream-tab",G);if(J.length==0){J=A("#article-tab",G)}var N=A("#recommended-tab",G),O=A("#subscribed-tab",G),e=A("#topic-tab",G),K=A("#media-tab",G),P=A(".conversation-list",J),h=A(".conversation-list",N),a=A(".conversation-list",O),f=A(".conversation-list",e),X=A(".conversation-list",G),H,U,c,Y,L,W,b,D,R=true,F,M=G.find(".widget-tabs-nav .ui-tabs-nav > li"),T=M.filter(".ui-tabs-active"),S=T.index(),k,E=M.parent().data("allow-history")=="1",I=new vBulletin.history.instance(E);if(S==-1){S=0;T=M.first()}k=T.find("> a").attr("href");var Q=function(l){var m=(G.offset().top+(G.outerHeight()-parseFloat(G.css("border-bottom-width")))-l.height());return m};var i=function(l){l=l||k;return M.filter('li:has(a[href*="'+l+'"])').first().index()};M.removeClass("ui-state-disabled");var Z=function(r,p,q,t,l){var n=A(".conversation-toolbar-wrapper.scrolltofixed-floating",r),o=new vBulletin.scrollToFixed({element:n,limit:Q(n)}),m=null,s;if(q){s=new vBulletin.pagination({context:r,allowHistory:E,onPageChanged:function(u,v){m.updatePageNumber(u);if(!v){m.applyFilters(false,true,false,true)}}})}m=new vBulletin.conversation.filter({context:r,autoCheck:t?A(".toolbar-filter-overlay input[type=radio][value=conversations_on]",r).is(":checked"):undefined,scrollToTop:p,pagination:s,allowHistory:E,onContentLoad:l});return{"$bar":n,"$floating":o,pagination:s,filter:m}};var V=function(l){vBulletin.truncatePostContent(l);vBulletin.conversation.processPostContent(l)};var g=function(o,n,l){var m=n.filter;if(n.pagination){n.pagination.setOption("context",o)}m.setOption("context",o);if(typeof m.lastFilters!="undefined"&&A(".conversation-empty:not(.h-hide)",l).length>0){delete m.lastFilters}};var j=function(q,o,p,s,m,n,t){var r=Z(q,o,p,s,function(){r.$floating.updateLimit(Q(r.$bar));if(n){V(n)}if(t){t()}});var l=r.filter;if(m){if(n){V(n)}l.lastFilters={filters:l.getSelectedFilters(A(".toolbar-filter-overlay",q))}}return r};var d=function(o,l,r){var q=(k==r);if(!(r=="#activity-stream-tab"||r=="#article-tab")){if(c){Y.toggleNewConversations(false)}}if(r!="#topic-tab"){if(H){U.toggleNewConversations(false)}}if(r=="#activity-stream-tab"||r=="#article-tab"){if(!c){c=j(J,G,true,true,q,P,null);Y=c.filter}else{g(J,c,l)}Y.applyFilters(false,true)}else{if(r=="#subscribed-tab"){if(!L){L=j(O,G,true,true,q,a,null);W=L.filter}else{g(O,L,l)}W.applyFilters(false,false)}else{if(r=="#topic-tab"){if(!H){H=j(e,G,true,true,q,null,function(){vBulletin.markreadcheck()});U=H.filter}else{g(e,H,l)}U.applyFilters(false,true)}else{if(r=="#media-tab"){if(!b){b=A(".conversation-toolbar-wrapper.scrolltofixed-floating",K);D=new vBulletin.scrollToFixed({element:b,limit:Q(b)});var n=new vBulletin.history.instance(E);if(n.isEnabled()){var p=n.getState();if(!p||A.isEmptyObject(p.data)){var m={from:"filter",page:1,tab:r,filters:vBulletin.getSelectedFilters(A("form.toolbar-filter-overlay",l))};n.setDefaultState(m,document.title,location.href)}n.setStateChange(function(v,w,t){var u=n.getState();if(u.data.from=="filter"){n.log(u.data,u.title,u.url);if(r!=u.data.tab){vBulletin.selectTabByIndex.call(A(o).closest(".ui-tabs-nav"),o.index())}else{var s=A('.media-filter-overlay input[name="filter_time"][value="{0}"]'.format(u.data.filters.filter_time),l).prop("checked",true);if(s.hasClass("js-default-checked")&&s.prop("defaultChecked")){A(".filtered-by .x",l).trigger("click")}else{s.trigger("change",[true])}}}},"filter")}if(k==r){R=false}}else{R=true}if(R&&A("#profileMediaDetailContainer .js-album-detail",l).length==0){if(!F){F=vBulletin.media.calculatePhotosPerPage(vBulletin.media.TARGET_PHOTOS_PERPAGE)}vBulletin.media.loadGalleryById({nodeid:-2,channelid:pageData.channelid,pageno:1,dateFilter:A(".filter-options input[name=filter_time]:checked",l).val()||"time_lastweek",perpage:F},true,0,{complete:function(){A(".profile-toolbar .media-toolbar-filter",K).removeClass("h-hide");D.updateLimit(Q(b))}})}}}}}};vBulletin.tabify.call(G,{tabHistory:I,getTabIndexByHash:i,allowHistory:E,tabParamAsQueryString:true,hash:G.find(".js-module-top-anchor").attr("id"),tabOptions:{active:S,beforeActivate:function(n,o){if(Y){Y.hideFilterOverlay()}if(U){U.hideFilterOverlay()}if(W){W.hideFilterOverlay()}var m=G.find(".widget-tabs-panel .ui-tabs-panel:visible");var l=m.find(".list-item-body-wrapper.edit-post .edit-conversation-container");if(l.length>0){openAlertDialog({title:vBulletin.phrase.get("edit_conversation"),message:vBulletin.phrase.get("you_have_a_pending_edit_unsaved"),iconType:"warning",onAfterClose:function(){vBulletin.animateScrollTop(l.closest(".list-item").offset().top,{duration:"slow"})}});return false}},create:function(l,m){d(m.tab,m.panel,m.panel.selector)},activate:function(l,m){d(m.newTab,m.newPanel,m.newPanel.selector)}}});X.off("click",".list-item-poll .view-more-ctrl").on("click",".view-more-ctrl",function(m){var l=A(this).closest("form.poll");var n=l.find("ul.poll");A(this).addClass("h-hide");n.css("max-height","none").find("li.h-hide").slideDown(100,function(){l.find(".js-button-group").removeClass("h-hide").next(".view-less-ctrl").removeClass("h-hide");vBulletin.animateScrollTop(l.offset().top,{duration:"fast"})});return false});X.off("click",".list-item-poll .view-less-ctrl").on("click",".view-less-ctrl",function(m){var l=A(this).closest("form.poll");vBulletin.conversation.limitVisiblePollOptionsInAPost(l,3);l.find("ul.poll").css("max-height","").find("li.h-hide").slideUp(100);return false});X.off("click",".js-post__history").on("click",".js-post__history",vBulletin.conversation.showPostHistory);X.off("click",".js-post-control__ip-address").on("click",".js-post-control__ip-address",vBulletin.conversation.showIp);X.off("click",".js-post-control__edit").on("click",".js-post-control__edit",function(l){vBulletin.conversation.editPost.apply(this,[l,Y])});X.off("click",".js-post-control__vote").on("click",".js-post-control__vote",function(l){if(A(l.target).closest(".js-bubble-flyout").length==1){vBulletin.conversation.showWhoVoted.apply(l.target,[l])}else{vBulletin.conversation.votePost.apply(this,[l])}return false});X.off("click",".js-post-control__flag").on("click",".js-post-control__flag",vBulletin.conversation.flagPost);X.off("click",".js-post-control__comment").on("click",".js-post-control__comment",vBulletin.conversation.toggleCommentBox);X.off("click",".js-comment-entry__post").on("click",".js-comment-entry__post",function(l){vBulletin.conversation.postComment.apply(this,[l,function(){Y.updatePageNumber(1).applyFilters(false,true)}])});vBulletin.conversation.bindEditFormEventHandlers("all");A(document).off("dblclick",".js-cell-topic").on("dblclick",".js-cell-topic",vBulletin.conversation.editTopicTitle);A(document).off("dblclick",".js-open-close-topic").on("dblclick",".js-open-close-topic",vBulletin.conversation.openOrCloseTopic)})})(jQuery);;

// ***************************
// js.compressed/link.js
// ***************************
/*=======================================================================*\
|| ###################################################################### ||
|| # vBulletin 5.6.1 Patch Level 1
|| # ------------------------------------------------------------------ # ||
|| # Copyright 2000-2020 MH Sub I, LLC dba vBulletin. All Rights Reserved.  # ||
|| # This file may not be redistributed in whole or significant part.   # ||
|| # ----------------- VBULLETIN IS NOT FREE SOFTWARE ----------------- # ||
|| # http://www.vbulletin.com | http://www.vbulletin.com/license.html   # ||
|| ###################################################################### ||
\*========================================================================*/
window.vBulletin=window.vBulletin||{};window.vBulletin.phrase=window.vBulletin.phrase||{};window.vBulletin.phrase.precache=window.vBulletin.phrase.precache||[];window.vBulletin.phrase.precache=$.merge(window.vBulletin.phrase.precache,["attach_link","please_enter_link_url"]);(function(A){A(document).ready(function(){vBulletin.conversation.bindEditFormEventHandlers("link");A(".b-content-entry .b-content-entry-panel__content--link").each(function(){A("body").trigger("link_editform_onload",[A(this)])})})})(jQuery);;

// ***************************
// js.compressed/media.js
// ***************************
/*=======================================================================*\
|| ###################################################################### ||
|| # vBulletin 5.6.1 Patch Level 1
|| # ------------------------------------------------------------------ # ||
|| # Copyright 2000-2020 MH Sub I, LLC dba vBulletin. All Rights Reserved.  # ||
|| # This file may not be redistributed in whole or significant part.   # ||
|| # ----------------- VBULLETIN IS NOT FREE SOFTWARE ----------------- # ||
|| # http://www.vbulletin.com | http://www.vbulletin.com/license.html   # ||
|| ###################################################################### ||
\*========================================================================*/
window.vBulletin=window.vBulletin||{};window.vBulletin.phrase=window.vBulletin.phrase||{};window.vBulletin.phrase.precache=window.vBulletin.phrase.precache||[];window.vBulletin.phrase.precache=$.merge(window.vBulletin.phrase.precache,["saving"]);window.vBulletin.options=window.vBulletin.options||{};window.vBulletin.options.precache=window.vBulletin.options.precache||[];window.vBulletin.options.precache=$.merge(window.vBulletin.options.precache,["commentminchars"]);window.vBulletin.media=window.vBulletin.media||{};(function(H){var N=["#media-tab",".album-widget"];if(!vBulletin.pageHasSelectors(N)){return false}var S={mediaTypeFilter:false,currentMediaPage:Number(H("#mediaCurrentPage").val())||1,currentGalleryPage:1,currentNodeId:0,currentUserId:0,profileMediaDetailContainer:false,currentDateFilter:"time_lastmonth"};var P=H("#media-tab"),B,L,E;window.vBulletin.media.calculatePhotosPerPage=function(X){X=X||50;var W=H("#profileMediaDetailContainer").is(":visible");if(!W){H("#profileMediaDetailContainer").removeClass("h-hide")}var Y=Math.floor(H("#profileMediaDetailContainer").width()/128);if(!W){H("#profileMediaDetailContainer").addClass("h-hide")}return(X%Y==0||X<=Y)?X:X-(X%Y)};function O(W){H(".profMediaFilterRow").removeClass("filterSelected");H(W.target).addClass("filterSelected");if(H(W.target).hasClass("profMediaFilterAllTypes")){S.mediaTypeFilter=false}else{if(H(W.target).hasClass("profMediaFilterGallery")){S.mediaTypeFilter="gallery"}else{if(H(W.target).hasClass("profMediaFilterVideo")){S.mediaTypeFilter="video"}}}D(1)}function D(W){H("body").css("cursor","wait");var X=H(".js-profile-media-container",P);vBulletin.AJAX({call:"/ajax/render/profile_media_content",data:({userid:X.data("user-id"),pageno:W,perpage:X.data("perpage"),isAjaxTemplateRenderWithData:true,}),success:function(Y){H("#mediacontent").html(Y.template);H("#profileMediaDetailContainer").empty();H("#mediacontent").removeClass("h-hide");J(false);S.currentMediaPage=W;G(H("#mediaList"),S.currentMediaPage);if(!vBulletin.isScrolledIntoView(H("#profileTabs .profile-tabs-nav"))){H("html,body").animate({scrollTop:H("#profileTabs .profile-tabs-nav").offset().top},"slow")}},complete:function(){H("body").css("cursor","auto")},title_phrase:"profile_media",})}function V(Y){var X=this.id;if(H("#profileMediaDetailContainer").is(":visible")){M(Y);return false}if(X=="mediaCurrentPage"){var Z=parseInt(H("#mediaCurrentPage").val());if(Z>0&&Z<=parseInt(H("#mediaPageCount").html())){D(Z);T(Z)}else{H("#mediaCurrentPage").val(S.currentMediaPage)}}else{if(X=="mediaPreviousPage"){if(S.currentMediaPage>1){var W=S.currentMediaPage-1;D(W);T(W)}else{H("#mediaPreviousPage").addClass("h-disabled")}}else{if(X=="mediaNextPage"){if(S.currentMediaPage<parseInt(H("#mediaPageCount").html())){var W=S.currentMediaPage+1;D(W);T(W)}else{H("#mediaNextPage").addClass("h-disabled")}}}}return false}function T(W){var Y=vBulletin.makePaginatedUrl(location.href,W);if(L.isEnabled()){var X={from:"media_filter",page:W||1,tab:P.data("url-path")?P.data("url-path"):"#"+P.attr("id")};L.pushState(X,document.title,Y)}else{if(B){location.href=Y}}}vBulletin.media.setHistoryStateChange=function(){B=P.find(".conversation-toolbar-wrapper").data("allow-history")=="1";L=new vBulletin.history.instance(B);if(L.isEnabled()){L.setStateChange(function(a){var Z=L.getState();if(Z.data.from=="media_filter"){L.log(Z.data,Z.title,Z.url);var W=P.closest(".ui-tabs"),X=W.find(".ui-tabs-nav > li").filter('li:has(a[href*="#{0}"])'.format(P.attr("id")));if(X.hasClass("ui-tabs-active")){D(Z.data.page)}else{var Y=X.index();vBulletin.selectTabByIndex.call(W,Y)}}},"media_filter")}};function M(Y){if(!S.currentNodeId&&!S.currentUserId){return false}var W=Y.target.id;if(W=="mediaCurrentPage"){targetPage=parseInt(H("#mediaCurrentPage").val());if(targetPage>0&&targetPage<=parseInt(H("#mediaPageCount").html())){var X={nodeid:S.currentNodeId,userid:S.currentUserId,pageno:targetPage,perpage:vBulletin.media.calculatePhotosPerPage(vBulletin.media.TARGET_PHOTOS_PERPAGE),datefilter:S.currentDateFilter};F(X)}else{H("#mediaCurrentPage").val(S.currentGalleryPage)}}else{if(W=="mediaPreviousPage"){if(S.currentGalleryPage>1){var X={nodeid:S.currentNodeId,userid:S.currentUserId,pageno:S.currentGalleryPage-1,perpage:vBulletin.media.calculatePhotosPerPage(vBulletin.media.TARGET_PHOTOS_PERPAGE),datefilter:S.currentDateFilter};F(X)}else{H("#mediaPreviousPage ").addClass("h-disabled")}}else{if(W=="mediaNextPage"){if(S.currentGalleryPage<parseInt(H("#mediaPageCount").html())){var X={nodeid:S.currentNodeId,userid:S.currentUserId,pageno:S.currentGalleryPage+1,perpage:vBulletin.media.calculatePhotosPerPage(vBulletin.media.TARGET_PHOTOS_PERPAGE),datefilter:S.currentDateFilter};F(X)}else{H("#mediaNextPage").addClass("h-disabled")}}}}return false}function J(W){H("#profileMediaDetailContainer").toggleClass("h-hide",!W);H("#profileMediaContainer").toggleClass("h-hide",W);H(".media-tab .profile-toolbar .toolset-left > li").toggleClass("h-hide-imp",!W).has(".profile-media-upload, .profile-media-createvideo").toggleClass("h-hide-imp",W);H("#mediaPreviousPage").closest("pagenav-controls").toggleClass("h-hide",W)}function G(X,Y){var W=Number(X.data("totalpages")),Z=H(".media-tab .pagenav-controls-container").toggleClass("h-hide",(W<=1));if(Z.is(":visible")){H("#mediaPreviousPage").toggleClass("h-disabled",(Y<=1));H("#mediaNextPage").toggleClass("h-disabled",(Y>=W));H("#mediaCurrentPage").val(Y);H("#mediaPageCount").text(W)}}function F(a,c,d,b){var Y=H("#profileMediaDetailContainer"),X={nodeid:S.currentNodeId,userid:S.currentUserId,channelid:0,pageno:1,dateFilter:S.currentDateFilter,albumid:0};a=H.extend({},X,a);if(!isNaN(a.nodeid)){H("body").css("cursor","wait");var Z;if(a.nodeid==-1){Z="profile_media_videolist"}else{Z="profile_textphotodetail"}if(Y.closest(".media-tab").length==0){H(".media-tab").append(S.profileMediaDetailContainer)}H("#profileMediaContainer").closest(".tab").find("li.list-item-gallery").remove();var W={nodeid:a.nodeid,userid:a.userid,channelid:a.channelid,pageno:a.pageno,albumid:a.albumid,viewMore:d,isAjaxTemplateRenderWithData:true,};if(a.dateFilter){W.dateFilter=a.dateFilter}if(a.perpage){W.perpage=a.perpage}vBulletin.AJAX({call:"/ajax/render/"+Z,data:W,success:function(e){S.currentNodeId=a.nodeid;S.currentUserId=a.userid;S.currentGalleryPage=a.pageno;if(d){H(".js-album-detail .js-photo-preview").append(e.template);H(".more-gallery",Y).toggleClass("h-hide-imp",(S.currentGalleryPage>=H(".js-album-detail").data("totalpages")))}else{Y.html(e.template);Y.addClass("list-item").attr("data-nodeid",a.nodeid);H(".profile-media-uploadphotos",Y).click(I);J(true);if(a.perpage){H(".media-tab").data("perpage",a.perpage).data("callbacks",b)}}vBulletin.initFlexGridFixLastRowAll();if(a.nodeid==-1){G(H(".media-video-list",Y),S.currentGalleryPage)}H(".profile-toolbar .media-toolbar-filter").removeClass("h-hide");if(b&&typeof b.success=="function"){b.success()}},after_error:function(){if(b&&typeof b.error=="function"){b.error()}},complete:function(){H("body").css("cursor","auto");if(b&&typeof b.complete=="function"){b.complete()}},title_phrase:"profile_media",})}}function I(Y){H(document).data("gallery-container",H(this).closest(".js-album-detail"));var W=vBulletin.upload.getUploadedPhotosDlg(false);var X=W.data("nodeid");if(!X||isNaN(parseInt(X))){return }vBulletin.AJAX({call:"/ajax/render/media_addphotos",data:{nodeid:X,isAjaxTemplateRenderWithData:true,},success:function(Z){W.html(Z.template);vBulletin.upload.initializePhotoUpload(W.parent());var a=W.find(".js-save-button");a.off("click").on("click",A);W.find(".js-cancel-button").off("click").on("click",function(b){W.dialog("close")});vBulletin.upload.relocateLastInRowClass(W.find(".photo-item-wrapper"));if(H(".photo-display .photo-item-wrapper:not(.h-hide)",W).length>0){vBulletin.upload.changeButtonText(H(".b-button--upload .js-upload-label",W),vBulletin.phrase.get("upload_more"));a.show()}else{a.hide()}W.dialog("open");vBulletin.upload.adjustPhotoDialogForScrollbar(W)},after_error:function(){W.dialog("close")},title_phrase:"profile_media",})}function K(X){var W=U(H(this));W.pageno=1;W.perpage=vBulletin.media.calculatePhotosPerPage(vBulletin.media.TARGET_PHOTOS_PERPAGE);S.currentDateFilter=H(this).closest(".js-profile-media-container").find(".toolbar-filter-overlay input[name=filter_time]:checked").val();S.currentFilter=W;F(W)}function C(Z){var Y=H(".media-tab").data("perpage");var X=H(".media-tab").data("callbacks");var W=U(H(this));W.pageno=S.currentGalleryPage+1;if(Y){W.perpage=Y}F(W,false,1,X)}function A(Z){var Y=H(Z.target).closest(".profile-media-photoupload-dialog"),W=H(Z.target).closest("form");if(W.length>0){H(Z.target).closest(".photo-display-container").find(".photo-item-wrapper:not(.h-hide)").each(function(a,c){var b=parseInt(H(c).find(".filedataid").val());if(!isNaN(b)){W.append('<input type="hidden" name="filedataid[]" value="'+b+'"/>');H('<input type="hidden" name="title_'+b+'" />').val(H(c).find("textarea").val()).appendTo(W)}});var X=H("button",W).prop("disabled",true);vBulletin.AJAX({url:W.attr("action"),data:W.serializeArray(),success:function(){Y.dialog("close");D(S.currentMediaPage)},complete:function(){X.prop("disabled",false)},title_phrase:"profile_media",})}else{Y.dialog("close")}}function U(W){var Y;if(H("#profileMediaContainer").is(":visible")){Y=H("#profileMediaContainer")}else{if(H("#profileMediaDetailContainer").is(":visible")){Y=H("#profileMediaDetailContainer")}}var X={nodeid:parseInt(W.data("nodeid"),10)||parseInt(Y.attr("data-nodeid"),10),userid:parseInt(Y.data("userid"),10),channelid:parseInt(Y.data("channelid"),10),dateFilter:S.currentDateFilter,albumid:parseInt(W.data("albumid"),10)};if(isNaN(X.channelid)){X.channelid=0}if(isNaN(X.nodeid)){X.nodeid=0}if(X.nodeid>0){X.userid=0}else{if(isNaN(X.userid)){X.userid=0}}if(isNaN(X.albumid)){X.albumid=0}return X}function Q(){H(document).off("click","#mediaList .albumLink").on("click","#mediaList .albumLink",K);var W=false;P.off("click",".profile-media-createvideo, .profile-media-upload").on("click",".profile-media-createvideo, .profile-media-upload",function(Z){var Y=H(this).hasClass("profile-media-upload")?"gallery":"video";if(!W){W=H(Z.target).closest(".ui-widget-content").find(".profileMediaEditContainer").dialog({modal:true,autoOpen:false,width:800,title:vBulletin.phrase.get("profile_media"),resizable:false,closeOnEscape:false,showCloseButton:false,dialogClass:"dialog-container dialog-box edit-media-upload-dialog js-profile-media",close:function(){H(document).data("gallery-container",null)}});vBulletin.ckeditor.initEditor(W.find(".js-ckeditor-init-on-focus"));vBulletin.upload.initializePhotoUpload(W)}W.off("dialogopen").on("dialogopen",function(a,b){W.find('.b-toolbar__item[data-panel="b-content-entry-panel__content--{0}"]:not(.b-toolbar__item--active)'.format(Y)).trigger("click");vBulletin.ckeditor.initEditorComponents(W);H(document).data("gallery-container",H(this).find(".b-content-entry-panel__content--"+Y))}).dialog("open")});P.off("click","#profileMediaDetailContainer .more-gallery").on("click","#profileMediaDetailContainer .more-gallery",C);P.off("click",".profile-media-backbtn").on("click",".profile-media-backbtn",function(Y){S.currentDateFilter=H(this).closest(".conversation-toolbar-wrapper").find(".toolbar-filter-overlay input[name=filter_time]:checked").val();H(".profile-toolbar .media-toolbar-filter").addClass("h-hide");J(false);H(this).closest(".conversation-toolbar-wrapper").find(".filtered-by").addClass("h-hide").find(".filter-text-wrapper").empty();G(H("#mediaList"),S.currentMediaPage)});P.off("change","#mediaCurrentPage").on("change","#mediaCurrentPage",V);P.off("click","#mediaPreviousPage, #mediaNextPage").on("click","#mediaPreviousPage, #mediaNextPage",V);S.profileMediaDetailContainer=H("#profileMediaDetailContainer").clone();var X=".js-album-detail .js-post__content-wrapper .js-content-entry form";H(document).off("afterSave",X).on("afterSave",X,function(Z,Y){F(S.currentFilter);return false});H(document).off("afterCancel",X).on("afterCancel",X,function(Y){H(Y.currentTarget).closest(".js-album-detail").find(".conversation-body, .profile-media-uploadphotos, .js-photo-preview").removeClass("h-hide-imp");return true});H(document).off("afterSave",".js-profile-media .js-content-entry form").on("afterSave",".js-profile-media  .js-content-entry form",function(b,a){var d=H(".b-toolbar__item--active",this).data("panel");if(d=="b-content-entry-panel__content--gallery"){var Y=H("#mediaList"),c=Number(Y.data("totalpages")),f=Number(Y.data("totalcount")),Z=(f%vBulletin.media.ALBUMS_PERPAGE)==0?c+1:c;if(a.alert){vBulletin.alert("media",a.alert,"alert")}D(Z)}else{D(1)}return false});if(P.length){vBulletin.media.setHistoryStateChange();E=P.closest(".canvas-widget").find(".js-module-top-anchor").attr("id");P.off("click",".media-toolbar-filter").on("click",".media-toolbar-filter",function(Y){H(".filter-wrapper",this).toggleClass("selected");H(".arrow .vb-icon",this).toggleClass("vb-icon-triangle-down-wide vb-icon-triangle-up-wide");H(Y.target).closest(".conversation-toolbar-wrapper").find(".toolbar-filter-overlay").slideToggle("slow",function(){var Z="media_filter";if(H(this).is(":visible")){H("body").off("click."+Z).on("click."+Z,function(c){if(H(c.target).closest(".toolbar-filter-overlay").length==0&&H(c.target).closest(".toolbar-filter").length==0){H("body").off("click."+Z);H(".media-toolbar-filter").trigger("click")}});var b={};var a=vBulletin.isScrolledIntoView(this,b);if(!a){H("html,body").animate({scrollTop:"+="+Math.abs(b.bottom)},"fast")}}else{H("body").off("click."+Z)}})});H("form.media-filter-overlay",P).trigger("reset");P.off("change",".media-filter-overlay input[type=radio]").on("change",".media-filter-overlay input[type=radio]",function(g,d){var Z;if(!L.isEnabled()&&B){Z=vBulletin.makePaginatedUrl(location.href,1);location.href=vBulletin.makeFilterUrl(Z,this.name,this.value,c,E);return true}S.currentDateFilter=this.value;var a=U(H(g.target));var c=H(".media-tab");if(c.data("perpage")){a.perpage=c.data("perpage")}F(a,true,0,c.data("callbacks"));if(!H(this).data("bypass-filter-display")){vBulletin.conversation.displaySelectedFilterText(this,this.value)}if(L.isEnabled()&&!d){var f=vBulletin.getSelectedFilters(H("form.toolbar-filter-overlay",c)),j=this.name,Y=this.value,i=H(".conversation-toolbar-wrapper .filtered-by",c),b=c.data("url-path")?c.data("url-path"):"#"+c.attr("id"),h={from:"filter",page:1,tab:b,filters:f,filtervalue:Y,filtername:j};if(!i.data("reset")){Z=vBulletin.makePaginatedUrl(location.href,1);Z=vBulletin.makeFilterUrl(Z,j,Y,c)}else{Z=location.pathname.replace(/\/page[0-9]+/,"")}L.pushState(h,document.title,Z);i.data("reset",null)}});P.off("click",".filtered-by .x").on("click",".filtered-by .x",function(a){var Y=H(this).closest(".filtered-by"),c=H(this).closest(".filter-text"),Z=c.data("filter-name");if(!L.isEnabled()&&B){location.href=vBulletin.makeFilterUrl(location.href,Z,c.data("filter-value"),P,E);return false}$defaultSelectedFilter=H(".toolbar-filter-overlay .filter-options input[name={0}]".format(Z),P).prop("checked",false).filter(".js-default-checked");c.remove();var b=Y.find(".filter-text").length;if(b==0){Y.addClass("h-hide");Y.data("reset",true)}else{if(b==1){Y.find(".clear-all").addClass("h-hide")}}if($defaultSelectedFilter.length==1){$defaultSelectedFilter.data("bypass-filter-display",true);$defaultSelectedFilter.trigger("click");$defaultSelectedFilter.data("bypass-filter-display",null)}})}vBulletin.initFlexGridFixLastRowAll()}function R(){H(document).ready(Q);vBulletin.media.loadGalleryById=F}R()})(jQuery);;

// ***************************
// js.compressed/sb_activity.js
// ***************************
/*=======================================================================*\
|| ###################################################################### ||
|| # vBulletin 5.6.1 Patch Level 1
|| # ------------------------------------------------------------------ # ||
|| # Copyright 2000-2020 MH Sub I, LLC dba vBulletin. All Rights Reserved.  # ||
|| # This file may not be redistributed in whole or significant part.   # ||
|| # ----------------- VBULLETIN IS NOT FREE SOFTWARE ----------------- # ||
|| # http://www.vbulletin.com | http://www.vbulletin.com/license.html   # ||
|| ###################################################################### ||
\*========================================================================*/
window.vBulletin=window.vBulletin||{};window.vBulletin.phrase=window.vBulletin.phrase||{};window.vBulletin.phrase.precache=window.vBulletin.phrase.precache||[];window.vBulletin.phrase.precache=$.merge(window.vBulletin.phrase.precache,["blog_memberblogLabel","edit_conversation","forum","you_have_a_pending_edit_unsaved"]);(function(A){var B=[".forum-activity-stream-widget",".bloghome-widget",".search-widget"];if(!vBulletin.pageHasSelectors(B)){return false}A(document).ready(function(){vBulletin.conversation=vBulletin.conversation||{};var o=vBulletin.conversation.$activityStreamWidget=A(".activity-stream-widget"),h=vBulletin.conversation.$activityStreamTab=A("#activity-stream-tab");if(h.length==0){h=vBulletin.conversation.$activityStreamTab=A("#article-tab")}var b=vBulletin.conversation.$subscribedTab=A("#subscribed-tab"),U=vBulletin.conversation.$activityStreamList=A(".conversation-list",h),d=vBulletin.conversation.$subscribedList=A(".conversation-list",b),W,G,T,C,k,f=A(".conversation-list",o),n,j;if(o.hasClass("forum-activity-stream-widget")||o.hasClass("bloghome-widget")){var R=o.find(".widget-tabs-nav .ui-tabs-nav > li"),m=R.filter(".ui-tabs-active"),S=m.index(),V,F={},L=R.parent().data("allow-history")=="1",Q=new vBulletin.history.instance(L),I=o.find(".js-module-top-anchor").attr("id"),P=false,Y=null,N=null;if(S==-1){S=0;m=R.first()}V=m.find("> a").attr("href");var a=function(p){var q=(o.offset().top+(o.outerHeight()-parseFloat(o.css("border-bottom-width")))-p.height());return q};var X=function(p){p=p||V;return R.filter('li:has(a[href*="'+p+'"])').first().index()};var K=function(w,t,v,u,y,p){var r=A(".conversation-toolbar-wrapper.scrolltofixed-floating",w),s=new vBulletin.scrollToFixed({element:r,limit:a(r)}),q=null,x;if(u){x=new vBulletin.pagination({context:w,allowHistory:v,onPageChanged:function(z,AA){q.updatePageNumber(z);if(!AA){q.applyFilters(false,true,false,true)}}})}q=new vBulletin.conversation.filter({context:w,autoCheck:y?A(".toolbar-filter-overlay input[type=radio][value=conversations_on]",w).is(":checked"):undefined,scrollToTop:t,pagination:x,allowHistory:v,onContentLoad:p});return{"$bar":r,"$floating":s,pagination:x,filter:q}};var i=function(p){vBulletin.truncatePostContent(p);vBulletin.conversation.processPostContent(p)};var E=function(s,r,p){var q=r.filter;if(r.pagination){r.pagination.setOption("context",s)}q.setOption("context",s);if(typeof q.lastFilters!="undefined"&&A(".conversation-empty:not(.h-hide)",p).length>0){delete q.lastFilters}};var e=function(v,s,u,t,x,q,r,y){var w=K(v,s,u,t,x,function(){w.$floating.updateLimit(a(w.$bar));if(r){i(r)}if(y){y()}});var p=w.filter;if(q){if(r){i(r)}p.lastFilters={filters:p.getSelectedFilters(A(".toolbar-filter-overlay",v))}}return w};var D=function(q,p){vBulletin.conversation.filter({context:p,autoCheck:false,scrollToTop:q,pagination:false,allowHistory:false,tabParamAsQueryString:true,beforeApplyFilters:function(){g();return false},afterResetFilters:function(){g()},})};var O=function(q){var p=A(".toolbar-pagenav",q);if(p.length>0){var r=q.id||q.prop("id");new vBulletin.pagination({context:q,allowHistory:F[r],onPageChanged:function(v,u){if(!u){var w=A(".js-button-filter-my.js-checked",q).data("filter-value"),t=A(".js-button-filter-display-blogs.js-checked",q).data("filter-value"),s=p.closest(".activity-stream-widget");H(s,q,v,w,false,true,t)}}})}};var Z=function(q,p){if(p){q.removeClass("h-disabled").attr("href",p.replace(/&amp;/g,"&"))}else{q.addClass("h-disabled").removeAttr("href")}};var c=function(p,q){vBulletin.memberChannel.updateToolbarPagination(p);vBulletin.memberChannel.updateToolbarButtonPressState(p);if(q){D(A(".bloghome-widget"),A("#memberblog-tab"))}var r=p.find(".js-button-filter-display-blogs.js-checked").data("filter-value")||"display_grid";p.find(".js-flexgrid").toggleClass("b-groupgrid b-flexgrid",(r=="display_grid"));vBulletin.initFlexGridFixLastRowAll(true);vBulletin.initFrameImagesWithColor()};var g=function(){var s=A("#memberblog-tab .js-pagenum").val()||1,t=A(".js-button-filter-my.js-checked").data("filter-value"),q=false,r=false,p=A(".js-button-filter-display-blogs.js-checked").data("filter-value");H(Y,N,s,t,q,r,p)};var H=function(v,q,AB,AA,p,AD,AC){AB=AB||1;AA=AA||"show_all";AC=AC||"display_grid";var s=vBulletin.makePaginatedUrl(location.href,AB);if(!p){var u=q.id||q.prop("id");if(k.isEnabled()){s=vBulletin.makeFilterUrl(s,"filter_blogs",AA,q);var r=k.getState(),z={from:"filter_blogs",page:AB,filters:{filter_blogs:AA}};k[(r&&r.data&&r.data.from&&r.data.from!="filter_blogs")?"setDefaultState":"pushState"](z,document.title,s)}else{if(F[u]){s=vBulletin.makeFilterUrl(s,"filter_blogs",AA,q,I);location.href=s;return false}}}var w={tab:q.selector.replace("#",""),filter_blogs:AA=="show_all"?undefined:AA,display_blogs:AC=="display_grid"?undefined:AC};var y=A(".toolbar-filter-overlay",q),x=y.find('input[name="filter_sort"]:checked').val(),t=y.find('input[name="filter_order"]:checked').val();vBulletin.AJAX({call:"/ajax/render/blogmember_tab",data:{from:AB,my:AA,display_blogs:AC,noToolbar:AD,page:w,blogChannelId:v.data("blog-channel-id"),sort_field:x,sort_order:t,},error_phrase:"unable_to_contact_server_please_try_again",success:function(AF){var AE=A(AF);if(AE.filter(".conversation-toolbar-wrapper").length){A(q).html(AF);O(q);if(typeof vBulletin.Responsive.ChannelContent.cloneAndMoveToolbarButtons=="function"){vBulletin.Responsive.ChannelContent.cloneAndMoveToolbarButtons()}}else{A(".blogmember-list",q).hide().replaceWith(AE).show();A(".conversation-toolbar-wrapper",q).removeClass("h-hide")}c(v,!P);P=true}})};var M=function(w,r,p,u){Y=w;N=p;var u=p.selector,t=p.id,s=(V==u);if(typeof F[t]=="undefined"){F[t]=A(".conversation-toolbar-wrapper",p).data("allow-history")=="1"}if(C&&u!="#activity-stream-tab"&&u!="#article-tab"){C.toggleNewConversations(false)}if(G&&u=="#subscribed-tab"){G.toggleNewConversations(false)}if(u=="#memberblog-tab"){A(p).off("click",".js-button-filter").on("click",".js-button-filter",function(AD,z){var AC=A(this),AB=A(".js-button-filter-my.js-checked").data("filter-value"),AA=A(".js-button-filter-display-blogs.js-checked").data("filter-value");if(AC.is(".js-button-filter-my")){AB=AC.data("filter-value");A(".js-button-filter-my").removeClass("js-checked")}else{AA=AC.data("filter-value");A(".js-button-filter-display-blogs").removeClass("js-checked")}AC.addClass("js-checked");H(w,p,1,AB,z,true,AA)});D(A(".bloghome-widget"),A("#memberblog-tab"));if(!k){k=vBulletin.history.instance(F[p.id]);if(k.isEnabled()){var q=k.getState();if(!q||A.isEmptyObject(q.data)){var x={from:"filter_blogs",page:Number(A(".pagenav-form .defaultpage",p).val())||1,tab:u,filters:{filter_my_blogs:A(".js-button-filter-my.js-checked",p).data("filter-value"),filter_display_blogs:A(".js-button-filter-display-blogs.js-checked",p).data("filter-value")}};k.setDefaultState(x,document.title,location.href)}k.setStateChange(function(AD){var AC=k.getState();if(AC.data.from=="filter_blogs"||AC.data.from=="display_blogs"){k.log(AC.data,AC.title,AC.url);var z=w.tabs("option","selected"),AA=w.find(".ui-tabs-nav > li").eq(z).find("a").attr("href");if(AA!=AC.data.tab){var AB=X(AC.data.tab);vBulletin.selectTabByIndex.call(w,AB)}else{H(w,p,AC.data.page,AC.data.filters.filter_blogs,true,true,AC.data.filters.display_blogs)}}},"filter")}}if(V==u){O(p)}c(w,false);var v=A(".conversation-list",p);if(!v.hasClass("dataLoaded")){if(V==u&&!j){j=true;return false}A(".conversation-empty",p).addClass("h-hide");H(w,p)}return }else{if(u=="#activity-stream-tab"||u=="#article-tab"){if(!C){T=e(h,o,F[t],true,true,s,U,null);C=T.filter}else{E(h,T,p)}C.applyFilters(false,true)}else{if(u=="#subscribed-tab"){if(!G){W=e(b,o,F[t],true,true,s,d,null);G=W.filter}else{E(b,W,p)}G.applyFilters(false,true)}else{if(u=="#forum-tab"){var y=A(p);if(y.hasClass("dataLoaded")){if(V==u){vBulletin.markreadcheck()}return false}else{if(V==u&&!n){n=true;return false}}A(".conversation-empty",p).addClass("h-hide");A.post(vBulletin.getAjaxBaseurl()+"/ajax/render/display_Forums_tab",function(z){y.html(z).addClass(function(){var AA=A(".conversation-empty",this);if(AA.length==0){return"dataLoaded"}else{AA.removeClass("h-hide");return""}})},"json").error(function(AB,AA,z){console.log("/ajax/render/display_Forums_tab failed. Error: "+z);openAlertDialog({title:vBulletin.phrase.get("forum"),message:vBulletin.phrase.get("unable_to_contact_server_please_try_again"),iconType:"error"})}).complete(function(){vBulletin.markreadcheck()})}}}}};R.removeClass("ui-state-disabled");vBulletin.tabify.call(o,{tabHistory:Q,getTabIndexByHash:X,allowHistory:L,tabParamAsQueryString:true,hash:I,tabOptions:{active:S,beforeActivate:function(r,s){if(C){C.hideFilterOverlay()}if(G){G.hideFilterOverlay()}var q=o.find(".widget-tabs-panel .ui-tabs-panel:visible");var p=q.find(".list-item-body-wrapper.edit-post .edit-conversation-container");if(p.length>0){openAlertDialog({title:vBulletin.phrase.get("edit_conversation"),message:vBulletin.phrase.get("you_have_a_pending_edit_unsaved"),iconType:"warning",onAfterClose:function(){vBulletin.animateScrollTop(p.closest(".list-item").offset().top,{duration:"slow"})}});return false}},create:function(p,q){M(A(this),q.tab,q.panel,q.panel.selector)},activate:function(p,q){M(A(this),q.newTab,q.newPanel,q.newPanel.selector)}}});var J=0;o.find(".ui-tabs-nav li").each(function(){J+=A(this).width()});var l=o.find(".ui-tabs-nav").width();if(J>l){o.find(".widget-tabs-nav, .module-title").height(o.find(".ui-tabs-nav").height())}}vBulletin.truncatePostContent(".search-widget");o.off("click",".list-item-poll .view-more-ctrl").on("click",".list-item-poll .view-more-ctrl",function(q){var p=A(this).closest("form.poll");var r=p.find("ul.poll");A(this).addClass("h-hide");r.css("max-height","none").find("li.h-hide").slideDown(100,function(){p.find(".js-button-group").removeClass("h-hide").next(".view-less-ctrl").removeClass("h-hide");vBulletin.animateScrollTop(p.offset().top,{duration:"fast"})});return false});o.off("click",".list-item-poll .view-less-ctrl").on("click",".list-item-poll .view-less-ctrl",function(q){var p=A(this).closest("form.poll");vBulletin.conversation.limitVisiblePollOptionsInAPost(p,3);p.find("ul.poll").css("max-height","").find("li.h-hide").slideUp(100);return false});f.off("click",".js-post-control__edit").on("click",".js-post-control__edit",function(p){vBulletin.conversation.editPost.apply(this,[p,C])});f.off("click",".js-post__history").on("click",".js-post__history",vBulletin.conversation.showPostHistory);f.off("click",".js-post-control__ip-address").on("click",".js-post-control__ip-address",vBulletin.conversation.showIp);f.off("click",".js-post-control__vote").on("click",".js-post-control__vote",function(p){if(A(p.target).closest(".js-bubble-flyout").length==1){vBulletin.conversation.showWhoVoted.apply(p.target,[p])}else{vBulletin.conversation.votePost.apply(this,[p])}return false});f.off("click",".js-post-control__flag").on("click",".js-post-control__flag",vBulletin.conversation.flagPost);f.off("click",".js-post-control__comment").on("click",".js-post-control__comment",vBulletin.conversation.toggleCommentBox);f.off("click",".js-comment-entry__post").on("click",".js-comment-entry__post",function(p){vBulletin.conversation.postComment.apply(this,[p,function(){C.updatePageNumber(1).applyFilters(false,true)}])});vBulletin.conversation.bindEditFormEventHandlers("all")})})(jQuery);;

// ***************************
// js.compressed/hv.js
// ***************************
/*=======================================================================*\
|| ###################################################################### ||
|| # vBulletin 5.6.1 Patch Level 1
|| # ------------------------------------------------------------------ # ||
|| # Copyright 2000-2020 MH Sub I, LLC dba vBulletin. All Rights Reserved.  # ||
|| # This file may not be redistributed in whole or significant part.   # ||
|| # ----------------- VBULLETIN IS NOT FREE SOFTWARE ----------------- # ||
|| # http://www.vbulletin.com | http://www.vbulletin.com/license.html   # ||
|| ###################################################################### ||
\*========================================================================*/
(function(A){window.vBulletin=window.vBulletin||{};vBulletin.hv=vBulletin.hv||{};vBulletin.hv.resetOnError=function(B){if(vBulletin.ajaxtools.hasError(B,/humanverify_.*_wronganswer/)){vBulletin.hv.reset()}return true};vBulletin.hv.reset=function(B){var C;if($(".humanverify.humanverify_image").length>0){$(".humanverify.humanverify_image .refresh_imagereg").click();C=$(".humanverify.humanverify_image .imageregt")}else{if($(".js-humanverify-recaptcha2").length>0&&typeof grecaptcha!="undefined"&&typeof grecaptcha.reset=="function"){grecaptcha.reset()}else{if($(".humanverify.humanverify_question").length>0){vBulletin.AJAX({call:"/ajax/render/humanverify",data:{action:"register"},success:function(D){$(".humanverify.humanverify_question").replaceWith(D);if(B){$(".humanverify.humanverify_question .answer").focus()}}});C=$(".humanverify.humanverify_question .answer")}}}if(B&&C&&C.length>0){C.focus()}};vBulletin.hv.imagereg=vBulletin.hv.imagereg||{};vBulletin.hv.imagereg.init=function(B){if(typeof B=="undefined"||B.length==0){B=$(document)}$(".humanverify_image",B).each(function(){var E=$(this),D=$(".refresh_imagereg",E),C=vBulletin.hv.imagereg.fetch_image;D.off("click").on("click",E,C);$(".imagereg",E).off("click").on("click",E,C);D.removeClass("h-hide")})};vBulletin.hv.imagereg.fetch_image=function(C){var B=C.data;$(".progress_imagereg",B).removeClass("h-hide");vBulletin.AJAX({call:"/ajax/api/hv/generateToken",success:function(D){var E=D.hash;$("input.hash",B).val(E);$(".imagereg",B).attr("src",pageData.baseurl+"/hv/image?hash="+E);$(".imageregt",B).val("")},api_error:function(){},complete:function(){$(".progress_imagereg",B).addClass("h-hide")}});return false};vBulletin.hv.show=function(C){var B=C.find(".imagereg");C.removeClass("h-hide");if(B.height()!=B.attr("height")){C.find(".refresh_imagereg").click()}};vBulletin.hv.init=function(B){vBulletin.hv.imagereg.init(B)};window.recaptcha2callback=function(B){$(".js-humanverify-recaptcha2").closest("form").find(".js-humanverify-recaptcha2-response").val(B)};$(document).ready(function(){vBulletin.hv.imagereg.init()})})(jQuery);;

// ***************************
// js.compressed/css_b_comp_menu_horizontal.js
// ***************************
/*=======================================================================*\
|| ###################################################################### ||
|| # vBulletin 5.6.1 Patch Level 1
|| # ------------------------------------------------------------------ # ||
|| # Copyright 2000-2020 MH Sub I, LLC dba vBulletin. All Rights Reserved.  # ||
|| # This file may not be redistributed in whole or significant part.   # ||
|| # ----------------- VBULLETIN IS NOT FREE SOFTWARE ----------------- # ||
|| # http://www.vbulletin.com | http://www.vbulletin.com/license.html   # ||
|| ###################################################################### ||
\*========================================================================*/
window.vBulletin=window.vBulletin||{};window.vBulletin.phrase=window.vBulletin.phrase||{};window.vBulletin.phrase.precache=window.vBulletin.phrase.precache||[];window.vBulletin.phrase.precache=$.merge(window.vBulletin.phrase.precache,["more_options","advanced_search","search","more"]);window.vBulletin.CompMenuHorizontal=window.vBulletin.CompMenuHorizontal||{};window.vBulletin.jsexec=window.vBulletin.jsexec||{};window.vBulletin.jsexec.css_b_comp_menu_horizontal=window.vBulletin.jsexec.css_b_comp_menu_horizontal||{exec:0,init:0};window.vBulletin.jsexec.css_b_comp_menu_horizontal.exec++;(function(F){var N=[];function A(V,T,U){function X(Y,Z){if(Y.is("."+Z)){Y.removeClass(Z);var a=Y.data("removed-classes")||[];if(F.inArray(Z,a)==-1){a.push(Z)}Y.data("removed-classes",a)}}function W(Y,a){if(!Y.is("."+a)){Y.addClass(a);var Z=Y.data("added-classes")||[];if(F.inArray(a,Z)==-1){Z.push(a)}Y.data("added-classes",Z)}}V.each(function(){var Y=F(this);F.each(T,function(Z,a){X(Y,a)});F.each(U,function(Z,a){W(Y,a)})})}function L(T){T.each(function(){var U=F(this),W=U.data("added-classes")||[],V=U.data("removed-classes")||[];if(W.length){U.removeClass(W.join(" "))}if(V.length){U.addClass(V.join(" "))}})}function G(T){N.push(T)}function C(T,U,V){F.each(N,function(W,X){X(T,U,V)})}function J(V,W,X){if(!V.is(".js-comp-menu-dropdown__content--main-menu")){return }if(X=="dropdown"){var U=V.find(".current").addClass("b-comp-menu-dropdown__content-item--current");W.addClass("b-comp-menu-dropdown--main-menu").find(".js-comp-menu-dropdown__trigger").addClass("b-comp-menu-dropdown__trigger--icon-trigger").html('<span class="b-icon b-icon__hamburger b-comp-menu-dropdown__trigger-icon"></span>');V.find("li").first().addClass("b-comp-menu-dropdown__content-item--divider");var T='<li class="js-search-item b-comp-menu-dropdown__content-item--no-hover js-comp-menu-dropdown__content-maintain-menu"><form action="'+F("#searchForm").attr("action")+'"><input type="text" autocomplete="off" class="b-form-input__input search-term" placeholder="'+vBulletin.phrase.get("search")+'..." name="q"><button title="'+vBulletin.phrase.get("search")+'" class="search-btn" type="submit"><span class="b-icon b-icon__search b-icon--show-on-xsmall"></span></button></form></li><li class="js-search-item"><a href="'+pageData.baseurl+'/search">'+vBulletin.phrase.get("advanced_search")+"</a></li>";F(T).prependTo(V);F(".js-channel-subtabbar-list li").addClass("js-subtabbar-item b-comp-menu-dropdown__content-item--indent1").insertAfter(U);F(".js-channel-subtabbar").addClass("h-hide")}else{V.find("li").removeClass("b-comp-menu-dropdown__content-item--divider b-comp-menu-dropdown__content-item--current b-comp-menu-dropdown__content-item--indent1");V.find(".js-search-item").remove();V.find(".js-subtabbar-item").appendTo(F(".js-channel-subtabbar-list"));F(".js-channel-subtabbar").removeClass("h-hide")}}function D(T,U,V){if(!T.is(".js-footer-nav-list")){return }if(V=="dropdown"){A(T,["h-right"],[]);A(U,[],["js-select-on-xsmall"]);var W=F("<li></li>").append(U).appendTo(".js-footer-chooser-list");T.data("vb-remove-li",W)}else{T.insertAfter(".js-footer-chooser-list");T.data("vb-remove-li").remove()}}function I(U,W,X){if(X=="dropdown"){var Y=U.find(".js-comp-menu--exclude-from-dropdown");if(Y.length>0){var T=F("<ul />").addClass(U.get(0).className).removeClass("js-comp-menu-horizontal js-comp-menu--dropdown-on-xsmall js-comp-menu--dropdown-on-small b-comp-menu-dropdown--inactive").insertAfter(W);U.data("vb-exclude-item-container",T);Y.each(function(Z,a){var b=F(this);F("<li />").addClass("js-excluded-item-marker h-hide-imp").data("vb-excluded-item",b).insertAfter(b)});Y.appendTo(T)}}else{var T=U.data("vb-exclude-item-container"),V=U.find(".js-excluded-item-marker");if(T&&T.length&&T.length>0&&V.length>0){V.each(function(Z,b){var a=F(this);a.data("vb-excluded-item").insertAfter(a)});V.remove();U.data("vb-exclude-item-container",false);T.remove()}}}function B(T,c,b){if(!T.is(".js-module-tab-menu")){return }var Y=T.closest(".widget-tabs-nav, .js-widget-tabs-nav"),W=Y.find(".module-title, .js-module-title"),U=T.find("li"),V=U.filter(".ui-state-active"),d=T.find("a");Y.addClass("js-widget-tabs-nav");W.addClass("js-module-title");function Z(g){var f=F(this),h=f.closest("li");U.removeClass("b-comp-menu-dropdown__content-item--current ui-tabs-active ui-state-active ui-state-hover ui-state-default");h.addClass("b-comp-menu-dropdown__content-item--current")}if(b=="dropdown"){if(T.is(".js-profile-tabs-nav")||T.is(".js-subscribe-tabs-nav")){var a=F("<div />").addClass("js-profile-menu-wrapper widget-tabs-nav").insertAfter(T).append(c).append(T)}A(T,["ui-tabs-nav","ui-helper-reset","ui-helper-clearfix","ui-widget-header","ui-corner-all"],[]);A(c,[],["js-select-when-dropdown"]);A(Y,["widget-tabs-nav"],["widget-tabs-nav-background"]);A(W,["module-title"],[]);A(U,["ui-helper-reset","ui-helper-clearfix","ui-widget-header","ui-corner-all","ui-corner-bottom","ui-corner-top","ui-corner-right","ui-corner-left","ui-corner-br","ui-corner-bl","ui-corner-tr","ui-corner-tl"],[]);A(d,["ui-tabs-anchor","h-block"],[]);if(V.length){V.addClass("b-comp-menu-dropdown__content-item--current")}else{setTimeout(function(){var g=U.filter(".ui-state-active");g.addClass("b-comp-menu-dropdown__content-item--current");var e=T.next(".vb-select-el"),f=0;if(e&&e.length){U.each(function(i,j){f=i;if(F(j).is(".ui-state-active")){return false}});var h=e.is(".selectBox");if(h){e.selectBox("destroy")}e.find(".js-noop-label").remove();e.get(0).selectedIndex=f;if(h){e.selectBox()}}},0)}U.removeClass("ui-state-default ui-tabs-active ui-state-active ui-state-hover");d.off("click.vbmoduletabs").on("click.vbmoduletabs",Z);c.data("add-classes-to-select-el","h-margin-vert-m h-margin-horiz-xl")}else{U.filter(function(){return(F(this).attr("aria-selected")=="true")}).removeClass("b-comp-menu-dropdown__content-item--current").addClass("ui-tabs-active ui-state-active");d.off("click.vbmoduletabs");L(Y);L(W);var X=T.parent();if(X.is(".js-profile-menu-wrapper")){T.insertAfter(X);c.insertAfter(X);X.remove()}}}function Q(U,Y,a){if(!U.is(".js-tabbed-pane__tabs")){return }var T=U.find("li"),Z=T.filter(".b-tabbed-pane__tab--selected"),V=U.find("a");if(a=="dropdown"){var W=F("<div />").addClass("js-tabbed-pane__tabs-wrapper b-tabbed-pane_tabs b-tabbed-pane__tabs--standard").insertAfter(U).append(Y).append(U);A(U.parent(),[],["js-comp-menu-dropdown__content"]);A(Y,[],["js-select-when-dropdown"]);A(T,[],["b-comp-menu-dropdown__content-item"]);Z.addClass("b-comp-menu-dropdown__content-item--current");Y.data("add-classes-to-select-el","h-margin-horiz-xl h-margin-vert-m")}else{T.removeClass("b-comp-menu-dropdown__content-item--current");var X=U.parent();if(X.is(".js-tabbed-pane__tabs-wrapper")){U.insertAfter(X);Y.insertAfter(X);X.remove()}}}function E(U,W,Y){if(!U.is(".js-groupblog-admin-menu")){return }var V=U.closest(".js-blog-admin-left"),T=U.find("li"),X=T.filter(".sgAdminActive, .blogAdminActive");if(Y=="dropdown"){A(W,[],["js-select-on-xsmall"]);X.addClass("b-comp-menu-dropdown__content-item--current")}else{}}function R(V,W,X){if(!V.is(".js-sharing-menu")){return }var U=V.find("li");if(X=="dropdown"){var T=V.prevAll(".userinfo");if(T.length==1){W.appendTo(T);V.data("vb-moved-to-userinfo","1")}A(V,["b-sharing-menu--horizontal"],[]);A(W,[],["h-align-bottom"]);A(U,[],["b-comp-menu-dropdown__content-item--no-hover","js-comp-menu-dropdown__content-maintain-menu"])}else{if(V.data("vb-moved-to-userinfo")=="1"){var T=W.parent(".userinfo");V.insertAfter(T).data("vb-moved-to-userinfo","0")}L(U)}}function P(T,X){if(X=="dropdown"){var b=T.data("dropdown-icon-classes")||"",g=b?" b-comp-menu-dropdown__trigger--icon-trigger":"",Y=(T.data("dropdown-trigger-classes")||"")+g,f=T.data("dropdown-trigger-phrase")||"more_options",Z=T.data("dropdown-menu-classes")||"",a=F('<div class="b-comp-menu-dropdown js-comp-menu-dropdown '+Z+'"> <div class="b-comp-menu-dropdown__trigger js-comp-menu-dropdown__trigger js-button '+Y+'" tabindex="0"> <span class="'+b+' b-comp-menu-dropdown__trigger-icon"> '+vBulletin.phrase.get(f)+" </span>  </div> </div>");a.insertAfter(T);C(T,a,X);var U=T.find("li"),d=T.find("a");var W=["h-right","h-left"];F.each(W,function(h,i){if(T.is("."+i)){a.addClass(i)}});var e=T.data("dropdown-content-classes"),c=["b-comp-menu-dropdown__content","js-comp-menu-dropdown__content"];if(e){e=e.split(" ")}else{e=[]}F.each(e,function(h,i){c.push(i)});A(T,["h-margin-top-s","h-right","b-comp-menu-horizontal","channel-tabbar-list","h-hide-on-small","nav-list"],c);A(U,["h-margin-top-xs","b-post-control","b-post-control--responsive"],["b-comp-menu-dropdown__content-item"]);A(d,["h-left"],["h-block"]);T.appendTo(a);vBulletin.CompMenuDropdown.init()}else{vBulletin.CompMenuDropdown.updateMenuAsSelectElement();var U=T.find("li"),d=T.find("a");L(T);L(U);L(d);var a=T.closest(".js-comp-menu-dropdown");vBulletin.CompMenuDropdown.setMenuColumnCount(a,T,1);T.removeClass("b-comp-menu-dropdown__content--left b-comp-menu-dropdown__content--right");T.insertAfter(a);C(T,a,X);var V=T.next(".vb-select-el");if(V&&V.length){V.selectBox("destroy").remove()}a.remove()}}function S(V){if(V.$children.length<1||V.$parent.length!=1){return }V.needsShrink=V.needsShrink||function(){return(vBulletin.Responsive.Debounce.checkElementShrinkRequirement(V.$parent)=="need_shrink")};V.copyChild=V.copyChild||function(a){var Y=a.find("> a"),Z=F('<a href="#"></a>');Z.html(Y.html());Z.attr("href",Y.attr("href"));Z.on("click",function(){Y.trigger("click");return false});return Z};var U=V.$children.filter(function(){return(F(this).text()!="")});if(U.length<1){return }var X=V.$parent.find(".js-progressive-dropdown-menu");if(X.length<1){X=F('<li class="b-top-menu__item js-shrink-event-child js-progressive-dropdown-menu h-hide-imp"> 	<div class="b-comp-menu-dropdown b-comp-menu-dropdown--sitebuilder js-comp-menu-dropdown">		<div class="b-comp-menu-dropdown__trigger js-comp-menu-dropdown__trigger js-button" tabindex="0"> 			<span class="b-icon b-icon__ellipsis b-comp-menu-dropdown__trigger-icon">'+vBulletin.phrase.get("more")+'</span> 		</div> 		<ul class="b-comp-menu-dropdown__content js-comp-menu-dropdown__content"> 		</ul> 	</div> </li>');X.insertAfter(U.last());var T=X.find(".js-comp-menu-dropdown__content");U.each(function(Y,a){var c=F(this),b=V.copyChild(c),Z=F('<li class="b-comp-menu-dropdown__content-item h-hide-imp"></li>');Z.append(b).appendTo(T).data("vb-progressive-item-num",Y);c.data("vb-progressive-item-num",Y)});vBulletin.CompMenuDropdown.init()}var W=X.find(".b-comp-menu-dropdown__content-item");if(V.removeMenu||!V.needsShrink()){U.removeClass("h-hide-imp");X.addClass("h-hide-imp");W.addClass("h-hide-imp")}if(!V.removeMenu&&V.needsShrink()){U.reverse().each(function(){var a=F(this),Z=a.data("vb-progressive-item-num"),Y=W.filter(function(){return(F(this).data("vb-progressive-item-num")==Z)});Y.removeClass("h-hide-imp b-comp-menu-dropdown__content-item--first");a.addClass("h-hide-imp");X.removeClass("h-hide-imp");if(!V.needsShrink()){Y.addClass("b-comp-menu-dropdown__content-item--first");return false}})}}function K(U,T){M()}function H(U){var T=[U,U.parent()],W=false;F.each(T,function(X,Y){if(Y.is(".js-shrink-event-parent")){var Z=vBulletin.Responsive.Debounce.checkElementShrinkRequirement(Y);if(Z=="need_shrink"){W=true;return false}}});if(U.is(".js-comp-menu-dropdown__content--main-menu")&&!W){var V=vBulletin.Responsive.Debounce.checkElementShrinkRequirement(F(".js-channel-subtabbar-list"));if(V=="need_shrink"){W=true}}return W}function M(){var U=F(".js-comp-menu-horizontal");if(U.length){var W=F("body"),V=W.is(".l-small"),T=W.is(".l-xsmall");U.each(function(X){var b=F(this),a=b.find("li").not(".b-post-control--disabled").length,d=true,c=false;if(b.data("is-dropdown-menu")){var Z=b.closest(".js-comp-menu-dropdown");if(Z.is(".b-comp-menu-dropdown--open")){d=false}}if(d){if(b.data("is-dropdown-menu")){P(b,"horizontal");b.data("is-dropdown-menu","")}c=H(b)}var Y=((V&&b.is(".js-comp-menu--dropdown-on-small"))||(T&&b.is(".js-comp-menu--dropdown-on-xsmall"))||c);if(Y&&a>0){if(!b.data("is-dropdown-menu")){P(b,"dropdown");b.data("is-dropdown-menu","1")}}else{if(b.data("is-dropdown-menu")){P(b,"horizontal");b.data("is-dropdown-menu","")}}})}}function O(){vBulletin.phrase.register(F("[data-dropdown-trigger-phrase]").map(function(T,U){return F(U).data("dropdown-trigger-phrase")}).get());G(J);G(D);G(I);G(B);G(Q);G(E);G(R);M();if(window.vBulletin.jsexec.css_b_comp_menu_horizontal.init<1){vBulletin.Responsive.Debounce.registerCallback(M);F(document).on("vb-loadnewposts",K);F(document).on("vb-filterposts",K)}window.vBulletin.jsexec.css_b_comp_menu_horizontal.init++}vBulletin.CompMenuHorizontal.registerMenuChangeFilter=G;vBulletin.CompMenuHorizontal.checkHorizontalMenuState=M;vBulletin.CompMenuHorizontal.convertDropdownProgressive=S;F(O)})(jQuery);;

// ***************************
// js.compressed/css_b_comp_menu_dropdown.js
// ***************************
/*=======================================================================*\
|| ###################################################################### ||
|| # vBulletin 5.6.1 Patch Level 1
|| # ------------------------------------------------------------------ # ||
|| # Copyright 2000-2020 MH Sub I, LLC dba vBulletin. All Rights Reserved.  # ||
|| # This file may not be redistributed in whole or significant part.   # ||
|| # ----------------- VBULLETIN IS NOT FREE SOFTWARE ----------------- # ||
|| # http://www.vbulletin.com | http://www.vbulletin.com/license.html   # ||
|| ###################################################################### ||
\*========================================================================*/
window.vBulletin=window.vBulletin||{};window.vBulletin.phrase=window.vBulletin.phrase||{};window.vBulletin.phrase.precache=window.vBulletin.phrase.precache||[];window.vBulletin.phrase.precache=$.merge(window.vBulletin.phrase.precache,[]);window.vBulletin.CompMenuDropdown=window.vBulletin.CompMenuDropdown||{};window.vBulletin.jsexec=window.vBulletin.jsexec||{};window.vBulletin.jsexec.css_b_comp_menu_dropdown=window.vBulletin.jsexec.css_b_comp_menu_dropdown||{exec:0,init:0};window.vBulletin.jsexec.css_b_comp_menu_dropdown.exec++;(function(F){var K=4;function M(T){var R=F(T.target),S=R.closest(".js-comp-menu-dropdown");if(!S.length){C(F(".js-comp-menu-dropdown"))}}function A(){var V=false,Y,W,U,T;function R(Z){V=new Date();Y=Z.originalEvent.touches[0].pageX;W=Z.originalEvent.touches[0].pageY;U=0;T=0}function X(Z){U=Y-Z.originalEvent.touches[0].pageX;T=W-Z.originalEvent.touches[0].pageY}function S(a){var Z=(new Date())-V;if(Z<=400&&!U&&!T){M.call(this,a)}}F(document).off("touchstart",R).on("touchstart",R).off("touchmove",X).on("touchmove",X).off("touchend",S).on("touchend",S)}function H(T){var S=F(T.target).closest(".js-comp-menu-dropdown");if(S.is(".b-comp-menu-dropdown--open")){C(S)}else{G(S)}var R=F(".js-comp-menu-dropdown").filter(function(){return(F(this).get(0)!=S.get(0))});C(R);return false}function B(S){var R=F(S.target).closest(".js-comp-menu-dropdown");if(R.length&&R.is(".b-comp-menu-dropdown--open")){C(R)}}function D(S){var R=F(S.target);R.closest(".js-comp-menu-dropdown").find(".js-comp-menu-dropdown__trigger-text").text(R.text())}function P(R,S,X){var W=S.find(".b-comp-menu-dropdown__content-item");X=Math.min(X,K);if(X>1){S.addClass("b-comp-menu-dropdown__content--"+X+"-column");var Z=!R.is(".b-comp-menu-dropdown--open"),T="",V="";W.removeClass("b-comp-menu-dropdown__content-item--column-first b-comp-menu-dropdown__content-item--column-trailing");if(Z){R.addClass("b-comp-menu-dropdown--open")}W.each(function(){var b=F(this),a=b.position(),c=parseInt(a.top,10);if(T===""){T=c}if(V===""){V=c}T=Math.min(T,c);V=Math.max(V,c)});W.each(function(){var b=F(this),a=b.position(),c=parseInt(a.top,10);if(c<=T){b.addClass("b-comp-menu-dropdown__content-item--column-first")}});var U=W.last();if(U.position().top<V){U.addClass("b-comp-menu-dropdown__content-item--column-trailing")}if(Z){R.removeClass("b-comp-menu-dropdown--open")}}else{var Y=K;while(Y>1){S.removeClass("b-comp-menu-dropdown__content--"+Y+"-column");--Y}W.removeClass("b-comp-menu-dropdown__content-item--column-first b-comp-menu-dropdown__content-item--column-trailing")}}function J(U,S){if(U.is(".b-comp-menu-dropdown--open")){var T=S.outerHeight(),R=S.outerWidth()}else{U.addClass("b-comp-menu-dropdown--open");var T=S.outerHeight(),R=S.outerWidth();U.removeClass("b-comp-menu-dropdown--open")}return{width:R,height:T}}function L(V){var W=F(window),R=W.width(),T=W.height(),U=W.scrollLeft(),S=F(document).height();V.each(function(s,f){var e=F(f),AA=e.offset(),u=e.find(".js-comp-menu-dropdown__trigger").outerHeight(),Z=e.find(".js-comp-menu-dropdown__trigger").outerWidth(),k=e.find(".js-comp-menu-dropdown__content"),i=k.find(".b-comp-menu-dropdown__content-item");k.css("width","auto");P(e,k,1);var AE=J(e,k),z=AE.height,v=AE.width;var AD=Math.max(Math.min(Math.floor(i.length/15),K),1);var a=100,AC=Math.ceil(z/(T-a));var c=Math.floor((R-0)/v);c=Math.max(c,1);var t=Math.max(AD,AC);t=Math.min(t,K);t=Math.min(t,c);P(e,k,t);AE=J(e,k);z=AE.height;v=AE.width;var j=k.css("margin-top"),l=parseInt(j,10),y=u+z+l,w=AA.top,m=S-w,AF=w>=z,q=m>=y,o=AA.left,x=o-U+Z,h=R-x+Z,d=x>=v,p=h>=v,b=[];if(AF&&!q){e.addClass("b-comp-menu-dropdown--direction-up");b.push("Forced up")}else{if(q&&!AF){e.removeClass("b-comp-menu-dropdown--direction-up");b.push("Forced down")}}var AB="",Y="",r=0,n=0,X=0;if(d&&!p){k.removeClass("b-comp-menu-dropdown__content--left").addClass("b-comp-menu-dropdown__content--right");AB="right";Y="left";b.push("Forced right alignment (opens left)")}else{if(p&&!d){k.removeClass("b-comp-menu-dropdown__content--right").addClass("b-comp-menu-dropdown__content--left");AB="left";Y="right";b.push("Forced left alignment (opens right)")}else{if(!p&&!d){if(x>=h){k.removeClass("b-comp-menu-dropdown__content--left").addClass("b-comp-menu-dropdown__content--right");AB="right";Y="left";n=v-x;X=h-Z;r=Math.min(n,X);b.push("Forced right alignment (opens left) (More space on left)")}else{k.removeClass("b-comp-menu-dropdown__content--right").addClass("b-comp-menu-dropdown__content--left");AB="left";Y="right";n=v-h;X=x-Z;r=Math.min(n,X);b.push("Forced left alignment (opens right) (More space on right)")}}}}if(AB&&Y){if(r>0){k.css(AB,"-"+r+"px");k.css(Y,"auto")}else{k.css(AB,"0");k.css(Y,"auto")}}var g=(X<n);if(g){k.css("width",R).find(".b-comp-menu-dropdown__content-item").addClass("ellipsis").find("> a").addClass("ellipsis")}})}function E(){var R=F(".js-comp-menu-dropdown").filter(function(){return(F(this).is(".b-comp-menu-dropdown--open"))});L(R)}function O(){var S=F(".js-select-on-xsmall, .js-select-on-small, .js-select-when-dropdown"),T=F("body").is(".l-small"),R=F("body").is(".l-xsmall");S.each(function(){var W=F(this),U=(W.next(".vb-select-el").length>0),V=(W.is(".js-select-when-dropdown")||(W.is(".js-select-on-xsmall")&&R)||(W.is(".js-select-on-small")&&T));if(V&&!U){I(W).removeClass("h-hide-imp").selectBox();W.addClass("h-hide-imp")}else{if(!V&&U){I(W).selectBox("destroy").addClass("h-hide-imp");W.removeClass("h-hide-imp")}}})}function I(T){var R=T.next(".vb-select-el");if(!R.length){R=F('<select class="vb-select-el"></select>');var U=(T.find(".b-comp-menu-dropdown__content-item.b-comp-menu-dropdown__content-item--current").length==1);if(!U){F("<option></option>").addClass("js-noop-label").text(T.find(".js-comp-menu-dropdown__trigger").text()).appendTo(R)}T.find(".js-comp-menu-dropdown__content .b-comp-menu-dropdown__content-item").each(function(V,Z){var a=F(this),W=a.is(".b-comp-menu-dropdown__content-item--current"),X=a.find("> a"),Y=X.html()||a.html();F("<option></option>").html(Y).data("vb-option-link",X).appendTo(R);if(W){R.get(0).selectedIndex=V}});R.addClass("b-comp-menu-dropdown__select").on("change",function(W){var V=W.target;idx=V.selectedIndex,opt=V.options[idx],$link=F(opt).data("vb-option-link"),linkHref=$link?$link.attr("href"):null;if(linkHref&&linkHref.substr(0,1)!="#"){window.location.href=linkHref}else{$link.one("click",function(X){var Y=$link.data("href");if(Y){window.location.href=Y;X.preventDefault()}});$link.click()}}).insertAfter(T);var S=T.data("add-classes-to-select-el");if(S){R.addClass(S)}}return R}function N(){var R=F(".js-select-on-xsmall, .js-select-on-small");R.each(function(){var T=F(this),S=T.data("vb-select-el");if(S){var U=S.nextAll(".selectBox");U=U.not(U.first());U.remove()}})}function G(R){R.each(function(S,U){var T=F(this).closest(".conversation-toolbar");if(T.length==1){T.height(T.height())}});R.addClass("b-comp-menu-dropdown--open");L(R);R.find(".js-comp-menu-dropdown__trigger-arrow").removeClass("b-icon--disabled")}function C(R){R.removeClass("b-comp-menu-dropdown--open");R.find(".js-comp-menu-dropdown__trigger-arrow").addClass("b-icon--disabled")}function Q(){var T=F(".js-comp-menu-dropdown__trigger").filter(function(){return(F(this).data("comp-menu-dropdown-initialized")!="1")});T.off("click",H).on("click",H).attr("tabindex","0").addClass("js-button").data("comp-menu-dropdown-initialized","1");F(document).off("click",M).on("click",M);A();var S=F();T.each(function(W,Y){var V=F(Y);if(V.is(".b-comp-menu-dropdown__trigger--arrow")){var X=V.find(".js-comp-menu-dropdown__trigger-arrow");if(X.length<1){F('<span class="vb-icon b-icon__arrow-down-s b-icon--disabled js-comp-menu-dropdown__trigger-arrow h-align-middle"></span>').appendTo(V)}}var U=V.parents(".js-shrink-event-parent");if(U.length){S=S.add(U)}});if(S.length){vBulletin.Responsive.Debounce.checkShrinkEvent(S)}F(".js-comp-menu-dropdown").removeClass("b-comp-menu-dropdown--open-on-hover");O();F(document).off("vb-filterposts",N).on("vb-filterposts",N);var R=F(".b-comp-menu-dropdown__content-item:not(.js-comp-menu-dropdown__content-maintain-menu)").filter(function(){return(F(this).data("comp-menu-dropdown__content-close-menu-initialized")!="1")});R.off("click",B).on("click",B).attr("data-comp-menu-dropdown__content-close-menu-initialized","1");F(".js-comp-menu-dropdown--display-current").off("click",".b-comp-menu-dropdown__content-item",D).on("click",".b-comp-menu-dropdown__content-item",D);if(window.vBulletin.jsexec.css_b_comp_menu_dropdown.init<1){vBulletin.Responsive.Debounce.registerCallback(E);vBulletin.Responsive.Debounce.registerCallback(O)}window.vBulletin.jsexec.css_b_comp_menu_dropdown.init++}vBulletin.CompMenuDropdown.init=Q;vBulletin.CompMenuDropdown.updateMenuFormat=E;vBulletin.CompMenuDropdown.updateMenuAsSelectElement=O;vBulletin.CompMenuDropdown.setMenuColumnCount=P;F(Q)})(jQuery);;

// ***************************
// js.compressed/pmchat.js
// ***************************
/*=======================================================================*\
|| ###################################################################### ||
|| # vBulletin 5.6.1 Patch Level 1
|| # ------------------------------------------------------------------ # ||
|| # Copyright 2000-2020 MH Sub I, LLC dba vBulletin. All Rights Reserved.  # ||
|| # This file may not be redistributed in whole or significant part.   # ||
|| # ----------------- VBULLETIN IS NOT FREE SOFTWARE ----------------- # ||
|| # http://www.vbulletin.com | http://www.vbulletin.com/license.html   # ||
|| ###################################################################### ||
\*========================================================================*/
window.vBulletin=window.vBulletin||{};window.vBulletin.phrase=window.vBulletin.phrase||{};window.vBulletin.phrase.precache=window.vBulletin.phrase.precache||[];window.vBulletin.phrase.precache=$.merge(window.vBulletin.phrase.precache,["error","pmchat_close_button_label","pmchat_idle_disconnected_message","pmchat_idle_disconnected_title","pmchat_reconnect_button_label"]);window.vBulletin.options=window.vBulletin.options||{};window.vBulletin.options.precache=window.vBulletin.options.precache||[];window.vBulletin.options.precache=$.merge(window.vBulletin.options.precache,["pmchat_enabled","pmchat_header_polling_interval","pmchat_chat_polling_idle_timeout","pmchat_chat_polling_min_interval","pmchat_chat_polling_max_interval"]);(function(F){var A=pageData.baseurl_pmchat;function E(H){var I="";if(H.hasOwnProperty("messageid")){I="?messageid="+encodeURIComponent(H.messageid)}else{I="?aboutNodeid="+encodeURIComponent(H.aboutNodeid)+"&toUserid="+encodeURIComponent(H.toUserid)}if(I==""){return"#"}return A+I}function C(K){var H,I="width=600,height=700,resizable=yes,scrollbars=yes,status=yes",J;if(K.hasOwnProperty("url")){H=K.url}else{H=E(K)}if(H=="#"){return }J=window.open(H,"_blank",I);if(!J||J.closed||typeof J.closed=="undefined"){window.open(H+queryString)}}function B(){var L=F(".js-pmchat__dropdown");var l=L.find(".js-pmchat__messages-count");var k=F(".notifications-count").not(".js-pmchat__messages-count").not("[data-folderid]");var Y=F(".notifications-count[data-folderid]").not(".js-pmchat__messages-count");var g=".js-pmchat__dropdown-submenu";var f=L.find(g);var T=f.find(".js-pmchat__dropdown__single-pm-template").removeClass("js-pmchat__dropdown__single-pm-template");var m=f.find(".js-pmchat__insert-marker");var S=".js-pmchat__submenu__ephemeral";var j=F(g).find(".js-pmchat__submenu__loading-icon");var Q=L.find(".js-pmchat__header-data");var i=vBulletin.options.get("pmchat_header_polling_interval")||30;var P;var J=0;var e=60;var c=vBulletin.options.get("pmchat_chat_polling_idle_timeout")||5*60;var h=0;var U={};var X=0;var O=false;var W=null;var N=F.debounce(100,function(){if(typeof vBulletin.CompMenuDropdown.updateMenuFormat=="function"){vBulletin.CompMenuDropdown.updateMenuFormat()}});function R(){var o={},n=F(this).attr("href");if(n!="#"){o.url=n}else{o.messageid=F(this).data("starter")}C(o);F(this).parent().removeClass("b-comp-menu-dropdown__content-item--unread");return false}function I(s){var p=s[Object.keys(s)[0]],r=p&&p.orderListForJs||[],v=r.length,t=false,y=false,q={};if(v>0){f.find(S).remove()}else{return false}for(var u=0;u<v;u++){var o=r[u];if(s.hasOwnProperty(o)){var z=s[o],n=T.clone(true),w=n.find(".js-pmchat__submenu__link"),x="js-pmchat__messagefinder__"+o;n.removeClass("h-hide-imp");w.attr("data-starter",o).prop("title",z.previewtext).attr("href",E({messageid:o}));n.find(".js-pmchat__submenu__title").html(z.title);if(z.msgread==0){n.addClass("b-comp-menu-dropdown__content-item--unread")}n.addClass(x);n.insertBefore(m);y=(X>0&&(!U.hasOwnProperty(o)||U[o]["publishdate"]!=z.publishdate||U[o]["userid"]!=z.userid)&&z.msgread==0&&z.userid!=pageData.userid);if(y){t=true}q[o]={publishdate:z.publishdate,userid:z.userid,title:z.title,previewtext:z.previewtext,findmehelper:x,isNew:y}}}U=q;X=h;if(m.prev(".b-comp-menu-dropdown__content-item").length>0){m.next(".b-comp-menu-dropdown__content-item").addClass("b-comp-menu-dropdown__content-item--divider").removeClass("b-comp-menu-dropdown__content-item--first")}else{m.next(".b-comp-menu-dropdown__content-item").removeClass("b-comp-menu-dropdown__content-item--divider").addClass("b-comp-menu-dropdown__content-item--first")}if(t){a()}}function a(){console.log("New Messages found in polling! Notifying user");var u=L.find(".js-comp-menu-dropdown").hasClass("b-comp-menu-dropdown--open");if(u){var s,p=[];for(s in U){if(U.hasOwnProperty(s)&&U[s]["isNew"]){p.push("."+U[s]["findmehelper"])}}if(p.length>0){var t=p.join(", "),r=F(t),q=setInterval(function(){r.toggleClass("b-comp-menu-dropdown__content-item--unread-alert")},100),o=function(){clearInterval(q);r.removeClass("b-comp-menu-dropdown__content-item--unread-alert")},n=3;setTimeout(o,n*1000)}}else{L.find(".js-comp-menu-dropdown").addClass("b-comp-menu-dropdown--alert")}}function d(n){L.find(".js-comp-menu-dropdown").removeClass("b-comp-menu-dropdown--alert");J=0;if((Date.now()-h)<i*1000){console.log("PM Load aborted: less than "+i+" seconds since last load.");return }Z();K(N)}function H(){console.log("Idle detection enabled");var n=setInterval(b,e*1000);F(document).on("click keypress scroll",function(o){J=0})}function b(){J+=e;if(J>=c){Z()}}function Z(){clearTimeout(P);if(J>=c){console.log("Header polling stopped due to idle timeout. (idle time: "+J+"s)");return }P=setTimeout(M,i*1000)}function M(){Z();console.log("Polled for header data!"+Date.now());K()}function V(p,q,o){if(!p.length){return }var n=p.text();if(n!=q){p.text(q);p.toggleClass("h-hide-imp",q<=0)}if(o){p.parents().eq(1).toggleClass("h-hide-imp",q<=0)}}function K(n){if(O){if(typeof n=="function"&&W){W.always(n)}return }O=true;j.removeClass("h-hide-imp");vBulletin.loadingIndicator.suppressNextAjaxIndicator();W=vBulletin.AJAX({call:"/chat/loadheaderdata",success:function(o){var p=o.headerCounts;V(l,p.messages);V(k,p.totalcount);Y.each(function(){var r=F(this),s=r.data("folderid")||0,q=p.details&&p.details[s]&&p.details[s]["count"]||0;V(r,q,true)});if(!(F.isEmptyObject(o.messages))){I(o.messages)}},api_error:vBulletin.ajaxtools.logApiError,error:vBulletin.ajaxtools.logAjaxError,complete:[function(){O=false;j.addClass("h-hide-imp");h=Date.now()},n,]})}f.off("click").on("click",".js-pmchat__submenu__link",R);F(".js-pmchat-reload-header").on("click",d);H();P=setTimeout(M,i*1000)}function D(){var P=F(".js-pmchat__container");var K=F(".js-pmchat__participants");var AF=P.find(".js-pmchat__thread-container");var y=P.find("form");var L=P.find(".js-pmchat__data");var f=parseInt(L.data("pmchannelid"),10);var r=parseInt(L.data("parentid"),10);var e=parseInt(L.data("pm_messageid"),10);var T=parseInt(L.data("to_userid"),10);var u=L.data("pm_title");var d=0;var g=F(".js-pmchat__insert-marker");var h=AF.find(".js-pmchat__thread-placeholder");var j;var V=false;if(f==r||!(e>0)){V=true}var X=0;var AK;var J=Date.now();var v;var w;var AG=1;var c=vBulletin.options.get("pmchat_chat_polling_min_interval")||1;var k=vBulletin.options.get("pmchat_chat_polling_max_interval")||30;if(k<c){var R=k;k=c;c=R}w=(c*10+k*1)/11;v=w;var a=vBulletin.options.get("pmchat_chat_polling_idle_timeout")||5*60;var t=0;var I=10;var Q=I-1;var n=[];var AE;for(AE=0;AE<I;++AE){n[AE]=0}var S={messagesLoading:false,queued:false};var o=false;var p=F(".js-participants-collapser-ui");var s=F(".js-participants-collapsible");var AB=s.find(".js-vbscroller-wrapper");var AA=F(".js-participants-show-add-recipients-ui");var AI=F(".js-participants-add-recipients-wrapper");var m=y.find(".js-wrapper-contententry_title");var O=y.find(".js-wrapper-contententry__msgRecipients");function AH(){var AN=F(".js-pmchat__insert-marker"),AM=AN.offset().top,AL=F(".js-pm-content-entry-container"),AO=AL.outerHeight(),AQ=(AL.css("position")=="fixed"),AP=F(window).outerHeight(),i=(AM>(AP-AO));if(!AQ||i){vBulletin.animateScrollTop(AM)}}function l(AL){if(V){console.log("Nothing to load, awaiting first message.");return }if(S.messagesLoading){console.log("loadNewMessages() rejected: Still awaiting messages from a previous call.");return }console.log("loadNewMessages() executing.");var i=[];AF.find(".js-pmchat__post-wrapper").each(function(AP,AO){var AN=F(AO).data("publishdate");if(AN&&AN>d){d=AN}var AM=F(AO).data("nodeid");if(AM&&AM>0){i.push(AM)}if(AN&&d>AN){F(AO).removeClass("js-pmchat__post-wrapper")}});S.messagesLoading=true;vBulletin.loadingIndicator.suppressNextAjaxIndicator();vBulletin.AJAX({call:"/chat/loadnewmessages",data:{parentid:r,newreplyid:AL,lastpublishdate:d,loadednodes:i,},success:function(AM){Q=(Q+1)%I;if(AM.html&&AM.html!==""){n[Q]=1;t=Date.now();console.log("loadNewMessages(): Inserting new messages.");F(AM.html).insertBefore(g);AH()}else{n[Q]=-1;console.log("loadNewMessages(): No new messages.")}},error:function(AM){console.log("loadNewMessages(): Error loading new PMs. Ajax result:");console.log(AM)},complete:function(AM){window.vBulletin.loadingIndicator.hide();S.messagesLoading=false;if(S.queued){S.queued=false;window.vBulletin.loadingIndicator.show();setTimeout(l,0)}U()}})}function U(){clearTimeout(AK);var AO=Date.now(),AM=(AO-t),i=(AO-X),AN=(n[Q]>0),AP=n.reduce(function(AR,AQ){return AR+AQ})/I;if(t>0){if(AN){if(v>w){v=w}v-=AG;if(t>J){J=t}}else{v-=(AP*AG)}}else{v+=AG}if(v<c){v=c}else{if(v>k){v=k}}X=AO;if(o){o=false;J=AO}var AL=(AO-J)/1000;console.log("Idle time: "+AL+"s. (timeout: "+a+"s)");if(AL>=a){console.log("Polling for messages stopped due to idle timeout. Idle start time: "+J+" time now: "+AO);AD();J=AO;return }AK=setTimeout(N,v*1000);console.log("Polling for messages complete. Next poll in "+v+"seconds. Time since last poll: "+(i/1000)+"s, since last hit: "+(AM/1000)+"s.")}function N(){U();l()}function AD(){if(j==null){var AL=function(){J=Date.now();v=w;N()};var i={title:vBulletin.phrase.get("pmchat_idle_disconnected_title"),message:vBulletin.phrase.get("pmchat_idle_disconnected_message"),width:"50%",buttonLabel:{yesLabel:vBulletin.phrase.get("pmchat_reconnect_button_label"),noLabel:vBulletin.phrase.get("pmchat_close_button_label")},onClickYes:AL,onClickNo:function(){window.close()}};j=openConfirmDialog(i)}else{j.dialog("open")}}function q(){var i=y.attr("ck-editorid")||F(".js-editor",y).attr("id"),AL=F("#"+i);AL.on("afterInit",function(){var AN=vBulletin.ckeditor.getEditor(i);if(!AN){console.log("Editor not found, cannot set predefined starter PM text");return }console.log("Setting predefined starter PM text: "+L.data("pm_textprefill"));var AM=L.data("pm_textprefill");if(AM){AM+="&nbsp;"}AN.setData(AM,function(){vBulletin.ckeditor.fixTableFunctionality.call(vBulletin.ckeditor,{},AN);var AP=O.find(".autocompleteHelper");if(AP.length>0){AP.focus()}else{AN.focus()}if(AM){var AO=AN.createRange();AO.moveToPosition(AO.root,CKEDITOR.POSITION_BEFORE_END);AN.getSelection().selectRanges([AO])}AH()})})}function AC(AO){var AN=F(this);AN.prop("disabled",true);J=Date.now();if(V){var AL=y.find('input[name="msgRecipients"]');if(AL.length==0&&T){console.log({msg:"sentto input added with prefill:",to_userid:T,});F("<input>").attr({type:"hidden",name:"sentto[]",value:T}).appendTo(y)}else{console.log({msg:'User editable input[name="msgRecipients"] was found. Prefilled sentto skipped.',})}var AM=y.find('input[name="title"]');if(AM.length==0){console.log({msg:"title input added with prefill:",pm_title:u,});F("<input>").attr({type:"hidden",name:"title",value:u}).appendTo(y)}else{console.log({msg:'User editable input[name="title"] was found. Prefilled title skipped.',})}}else{var AP=y.find('input[name="respondto"]');if(AP.length>0){AP.val(e)}else{F("<input>").attr({type:"hidden",name:"respondto",value:e}).appendTo(y)}var i=y.find('input[name="msgtype"]');if(i.length==0){F("<input>").attr({type:"hidden",name:"msgtype",value:"message"}).appendTo(y)}}if(V){h.addClass("h-hide")}window.vBulletin.loadingIndicator.show();vBulletin.AJAX({url:y.attr("action"),data:y.serialize(),success:function(AQ){if(AQ&&AQ.nodeId){var AR=parseInt(AQ.nodeId,10);if(V){y.find('input[name="parentid"]').val(AR);L.data("parentid",AR);L.data("pm_messageid",AR);L.attr("data-parentid",AR);L.attr("data-pm_messageid",AR);e=AR;r=AR;V=false;AJ(AR)}console.log("==================NEW MESSAGE POSTED, LOADING NEW MESSAGES!");if(S.messagesLoading){S.queued=true}else{l(AR)}vBulletin.contentEntryBox.resetForm(y,false,function(){var AT=y.attr("ck-editorid")||F(".js-editor",y).attr("id"),AS=vBulletin.ckeditor.getEditor(AT);vBulletin.hv.reset();AS.focus()})}},api_error:function(AQ){vBulletin.hv.resetOnError();window.vBulletin.loadingIndicator.hide();return true},complete:function(AQ){AN.prop("disabled",false)}});return false}function AJ(i){if(!i){console.log("Missing nodeid for loadParticipants()");return }m.remove();O.remove();y.attr("data-message-type","pm-reply");var AL=pageData.baseurl_pmchat+"?messageid="+i;History.replaceState({},u,AL);H(i)}function H(i,AL){vBulletin.AJAX({call:"/chat/loadparticipants",data:{nodeid:i},success:function(AM){var AN=F(".js-pmchat__participants-insert-marker");if(AM.participants_html&&AM.participants_html!=""&&AN.length){AN.html(AM.participants_html);AB.trigger("event-js-content-change")}if(K.hasClass("h-hide")){K.removeClass("h-hide");p.click();s.removeClass("h-hide")}if(AM.phrase&&AM.phrase!=""){F(".js-participants-count-phrase").text(AM.phrase)}if(AM.title&&AM.title!=""){F(document).find("title").html(AM.title)}if(AL&&AL.success&&typeof AL.success=="function"){return AL.success.apply(this,[AM])}},complete:function(AN,AO,AM){if(AL&&AL.complete&&typeof AL.complete=="function"){return AL.complete.apply(this,[AN,AO,AM])}},error:function(AM,AO,AN){console.log("/ajax/chat/loadparticipants failed!");console.log("----------------");console.log("jqXHR:");console.dir(AM);console.log("text status:");console.dir(AO);console.log("error thrown:");console.dir(AN);console.log("----------------")}})}function W(AM){AM.preventDefault();var i=F(this).attr("href"),AL;AL=window.open(i,"_blank");if(!AL||AL.closed||typeof AL.closed=="undefined"){window.open(i)}}function b(AM){var AL={height:"toggle"},i={duration:"fast",start:function(){AB.trigger("event-js-element-resize-start")},progress:function(AP,AN,AO){AB.trigger("event-js-element-resize")},complete:function(){AB.trigger("event-js-element-resize")},};s.animate(AL,i);AM.preventDefault()}function M(){var AO=function(AT){var AS=(AB.height()>0);if(AT.data&&AT.data.command){switch(AT.data.command){case"open":AI.removeClass("h-hide");break;case"close":AI.addClass("h-hide");break;default:if(AS){AI.toggleClass("h-hide")}else{AI.removeClass("h-hide")}break}}else{AI.toggleClass("h-hide")}if(!AS){b(AT)}else{AB.trigger("event-js-element-resize")}AT.preventDefault()},AN={},AL=function(AS,AU,AT){if(typeof AT!="undefined"&&typeof AT.id!="undefined"&&AT.id){AN[AU]=AT.id}},AR={apiClass:"user",afterAdd:AL,delimiter:";",},i=F(".js-participants-add-recipients-input"),AM=new vBulletin_Autocomplete(F(".js-participants-add-recipients-input"),AR),AQ=function(AS){AM.clearElements();if(AS.data){AS.data.command="close"}else{AS.data={command:"close"}}AO(AS)},AP=function(AT){var AS=AM.getInputField(),AV=AS.val();if(AV){AS.val("");AM.addElement(AV,AV)}var AU=AM.getValues();vBulletin.AJAX({call:"/ajax/api/content_privatemessage/addPMRecipientsByUsernames",data:{pmid:r,usernames:AU,usernamesToIds:AN,},success:function(AW){var AX=function(){AQ(AT);if(S.messagesLoading){S.queued=true}else{l()}},AY=function(){window.vBulletin.loadingIndicator.hide()},AZ={success:AX,complete:AY};H(r,AZ)},})};console.log({addRecipientsAutoComplete:AM,});AA.off("click").on("click",{command:"toggle"},AO);AI.find(".js-add-recipients-cancel").off("click").on("click",{command:"close"},AQ);AI.find(".js-add-recipients-submit").off("click").on("click",AP)}function Z(){F(document).on("click keypress scroll",function(AM){o=true});var i=y.attr("ck-editorid")||F(".js-editor",y).attr("id"),AL=F("#"+i);AL.on("afterInit",function(){var AM=vBulletin.ckeditor.getEditor(i);AM.on("contentDom",function(){var AO=AM.editable();if(AO==null){return }function AN(){o=true}AO.attachListener(AO,"keypress",AN);AO.attachListener(AO,"click",AN);AO.attachListener(AO,"focus",AN)})})}function x(AL){var AM=AL+"-replacement",i=F("."+AL),AO=F("."+AM);if(AO.length==0){AO=F("<div />").addClass(AM).insertAfter(i)}function AN(){if(i.css("position")=="fixed"){AO.removeClass("h-hide");var AP=i.outerHeight()-30;AO.css("height",AP+"px")}else{AO.addClass("h-hide")}}F(AN);F(document).off("click",AN).on("click",AN);vBulletin.Responsive.Debounce.registerCallback(AN);CKEDITOR.on("instanceReady",function(AP){AN();AP.editor.on("focus",function(){setTimeout(function(){AN()},0)})});i.on("event-js-element-resize",AN)}function Y(){var AL=F("#debug-information-wrapper");if(AL.length==1){function i(){if(F("body").is(".l-xsmall")){AL.appendTo("body");AL.find("#debug-information").css("margin-top",20)}else{AL.insertBefore(".js-pm-content-entry-container");AL.find("#debug-information").css("margin-top",0)}}i();vBulletin.Responsive.Debounce.registerCallback(i)}}var z=new vBulletin_Autocomplete(F(".privatemessage_author"),{apiClass:"user"});F(".js-pm-content-entry-container .js-pmchat-submit").off("click").on("click",AC);AF.on("click","a:not('.js-pmchat-ignoreanchor')",W);K.on("click","a:not('.js-pmchat-ignoreanchor')",W);F("body").on("click","a.js-pmchat-ignoreanchor",function(i){i.preventDefault()});p.off("click").on("click",b);if(AA.length>0&&AI.length>0){M()}F(".js-pm-content-entry-container .js-button").enable();AH();N();Z();window.setTimeout(q,0);x("js-pm-content-entry-container");x("js-pmchat__header");Y()}function G(){F(function(){F("body").off("click",".js-pmchat-link").on("click",".js-pmchat-link",function(K){K.preventDefault();var J={url:F(this).attr("href")};C(J);return false});var I=F(".js-pmchat__dropdown");if(I.length>0){if(!I.attr("data-initialized")){console.log("Initializing PM Dropdown!");I.attr("data-initialized",true);B()}else{console.log("PM Dropdown already initialized. Skipping re-init.")}}else{console.log("PM Dropdown not detected, skipping init.")}var H=F(".js-pmchat__container");if(H.length>0){if(!H.attr("data-initialized")){console.log("Initializing PM Chat window!");H.attr("data-initialized",true);D()}else{console.log("PM Chat window already initialized. Skipping re-init.")}}else{console.log("PM Chat window not detected, skipping init.")}})}G()})(jQuery);;

// ***************************
// js.compressed/module-search2.js
// ***************************
/*=======================================================================*\
|| ###################################################################### ||
|| # vBulletin 5.6.1 Patch Level 1
|| # ------------------------------------------------------------------ # ||
|| # Copyright 2000-2020 MH Sub I, LLC dba vBulletin. All Rights Reserved.  # ||
|| # This file may not be redistributed in whole or significant part.   # ||
|| # ----------------- VBULLETIN IS NOT FREE SOFTWARE ----------------- # ||
|| # http://www.vbulletin.com | http://www.vbulletin.com/license.html   # ||
|| ###################################################################### ||
\*========================================================================*/
window.vBulletin=window.vBulletin||{};window.vBulletin.phrase=window.vBulletin.phrase||{};window.vBulletin.phrase.precache=window.vBulletin.phrase.precache||[];window.vBulletin.phrase.precache=$.merge(window.vBulletin.phrase.precache,[]);window.vBulletin.options=window.vBulletin.options||{};window.vBulletin.options.precache=window.vBulletin.options.precache||[];window.vBulletin.options.precache=$.merge(window.vBulletin.options.precache,[]);(function(G,J,L){var B=false;function K(P){var S=P.find(".js-widget-search2-nodelist-item"),O=0,R=P.find(".js-fixed-event-year-header"),Q=P.find(".js-year-header");if(R.length==0){R=G("<li />").addClass("js-fixed-event-year-header b-event__listyear b-event__listyear--fixed h-hide").prependTo(P)}G.each(Q,function(T,V){var U=G(V),W=U.next();if(!W.hasClass("js-widget-search2-nodelist-item")){U.remove()}});G.each(S,function(T,X){var V=G(X),U=parseInt(V.data("start-year"),10),W=V.prev(".js-year-header");if(U>O){if(!W.length){G("<li />").addClass("js-year-header b-event__listyear").text(U).data("start-year",U).insertBefore(V)}O=U}})}function F(R){var U=R.find(".js-widget-search2-nodelist-item"),Q=R.data("search-max-page")||false,O=R.data("loaded-pages")||{};U.removeClass("b-event--lastchild h-hide");K(R);R.find(".js-loading").appendTo(R);R.find(".js-no-more-items").appendTo(R);if(Q&&O.hasOwnProperty(Q)){R.find(".js-no-more-items").removeClass("h-hide")}var S=R.height(),T=R.scrollTop();R.height("auto");var P=R.height();R.height(S);R.scrollTop(T);R.data("full-height",P)}function M(P){if(P.data("search-has-more")||P.find(".js-widget-search2-nodelist-item.h-hide").length){K(P);var O=P.parents(".js-show-on-tabs-create.h-hide");if(O.length){O.removeClass("h-hide")}P.css({height:P.height(),overflowY:"scroll",});if(O.length){O.addClass("h-hide")}}}function C(O,S){var R=S["$anchorItem"]&&S["$anchorItem"].offset().top||0,Q=S.anchorItemPreviousTop-R,P=O.scrollTop();O.scrollTop(O.scrollTop()-Q)}function I(V){var U=V.find(".js-widget-search2-nodelist-item"),Z={},R=V.offset().top,W=R+V.height(),O=false,Q=false,a,T=Number.POSITIVE_INFINITY,Y,S=0,P,X=0;G.each(U,function(b,f){var e=G(f),h=e.hasClass("h-hide"),d=e.offset().top,c=d+e.height(),g=e.data("nodeid");Z["nodeid"+g]=true;O=(!h&&!(c<=R||W<=d));Q=(R<=d);if(typeof a=="undefined"&&O&&Q){a=e;T=a.data("page")}if(O){Y=e;S=Y.data("page")}});return{"$items":U,haveNodeids:Z,"$firstVisibleItem":a,firstVisiblePage:T,"$lastVisibleItem":Y,lastVisiblePage:S,"$anchorItem":Y,anchorItemPreviousTop:(Y&&Y.offset().top||0),}}function H(X){var Y=G(X.target),Q=Y.scrollTop(),P=Y.data("full-height"),U=5,R=Y.position().top,a=Y.height(),W=Y.find(".js-widget-search2-nodelist-item"),O=W.slice(-U).first(),d=O.position().top-R,T=d<a,Z=W.slice(0,U).last(),c=Z.position().top-R+Z.height(),b=c>R,S=Y.find(".js-fixed-event-year-header");if(Q>0){var V=0;G.each(W,function(f,j){var i=G(j),h=i.position().top-R,g=i.height(),e=h+g;if(e>0){V=i.data("start-year");return false}});S.css({top:R,width:W.first().width(),}).text(V).removeClass("h-hide")}else{S.addClass("h-hide")}if(T){D(Y,"bottom")}else{if(b){D(Y,"top")}}}function E(){G(".js-widget-search2").each(function(O,Q){var R=G(Q),S=R.find(".js-fixed-event-year-header"),P=R.find(".js-widget-search2-nodelist-item").first();S.css("width",P.width())})}function D(V,S){if(B){return }B=true;var O=V.closest(".js-widget-search2"),U=O.data("widget-id"),Y=O.data("widget-instance-id"),P=V.data("search-max-page")||Number.POSITIVE_INFINITY,Z=V.data("loaded-pages")||{};if(G.isEmptyObject(Z)){var W=O.data("current-page");Z={};Z[W]=W;V.data("loaded-pages",Z)}var X=function(d,c){return(parseInt(d,10)-parseInt(c,10))};var Q=Object.keys(Z).sort(X),R;if(S=="bottom"){R=Z[Q[Q.length-1]]+1;if(P<R){B=false;return }}else{if(S=="top"){R=Z[Q[0]]-1;if(R<1){B=false;return }}else{B=false;return }}V.find(".js-loading").removeClass("h-hide");var T={widgetinstanceid:Y,widgetid:U,currentPage:R,};vBulletin.AJAX({call:"/ajax/render/widget_search2",data:T,success:function(d){var l=G(d).filter(".js-widget-search2"),a=l.find(".js-widget-search2-nodelist"),j=a.find(".js-widget-search2-nodelist-item"),k=I(V),h=k["$items"],e=h.first(),n=h.length,m=k.haveNodeids,g=a.data("search-has-more");var i=l.data("current-page");Z[i]=i;V.data("loaded-pages",Z);if(!g){V.data("search-max-page",i)}G.each(j,function(o,q){var p=G(q),r=p.data("nodeid");if(typeof m["nodeid"+r]=="undefined"){if(S=="bottom"){V.append(p)}else{if(S=="top"){e.before(p)}}n++}});if(n>200){var f,b,c=V.find(".js-widget-search2-nodelist-item");if(S=="bottom"){f=Z[Q[0]]}else{if(S=="top"){f=Z[Q[Q.length-1]]}}b=c.filter("[data-page='"+f+"']");if(f<=k.firstVisiblePage||f>=k.lastVisiblePage){b.remove();delete Z[f];V.data("loaded-pages",Z)}}F(V);C(V,k)},complete:function(){V.find(".js-loading").addClass("h-hide");B=false}})}function A(P){if(P.data("vb-continuous-scroll-initialized")=="1"){return }var O=P.find(".js-widget-search2-nodelist");M(O);F(O);O.off("scroll",H).on("scroll",H);G(J).off("resize",E).on("resize",E);P.attr("vb-continuous-scroll-initialized","1")}function N(){G(function(){var O=G(".js-widget-search2");if(!O.length){return }G.each(O,function(P,Q){A(G(Q))})})}N()})(jQuery,window,window.document);;

// ***************************
// js.compressed/module-tabbedcontainer.js
// ***************************
/*=======================================================================*\
|| ###################################################################### ||
|| # vBulletin 5.6.1 Patch Level 1
|| # ------------------------------------------------------------------ # ||
|| # Copyright 2000-2020 MH Sub I, LLC dba vBulletin. All Rights Reserved.  # ||
|| # This file may not be redistributed in whole or significant part.   # ||
|| # ----------------- VBULLETIN IS NOT FREE SOFTWARE ----------------- # ||
|| # http://www.vbulletin.com | http://www.vbulletin.com/license.html   # ||
|| ###################################################################### ||
\*========================================================================*/
window.vBulletin=window.vBulletin||{};window.vBulletin.phrase=window.vBulletin.phrase||{};window.vBulletin.phrase.precache=window.vBulletin.phrase.precache||[];window.vBulletin.phrase.precache=$.merge(window.vBulletin.phrase.precache,[]);window.vBulletin.options=window.vBulletin.options||{};window.vBulletin.options.precache=window.vBulletin.options.precache||[];window.vBulletin.options.precache=$.merge(window.vBulletin.options.precache,[]);(function(C,B,A){function D(G){if(G.data("vb-tabbedcontainer-tabs-initialized")=="1"){return }var F=G.data("default-tab")||0;G.tabs({create:function(H,I){G.find(".js-tabs-loading-placeholder").remove();G.find(".js-show-on-tabs-create").removeClass("h-hide");G.tabs("option","active",F)},activate:function(H,I){I.newPanel.find(".js-parent-tab-render-listener").trigger("parent-tab-render")},});G.attr("data-vb-tabbedcontainer-tabs-initialized","1")}function E(){C(function(){var F=C(".js-tabbedcontainer-widget-tab-wrapper");if(!F.length){return }C.each(F,function(G,H){D(C(H))})})}E()})(jQuery,window,window.document);;

// ***************************
// js.compressed/jquery/jquery.qtip.min.js
// ***************************
/*

 qTip2 - Pretty powerful tooltips - v3.0.3
 http://qtip2.com

 Copyright (c) 2016
 Released under the MIT licenses
 http://jquery.org/license

 Date: Wed May 11 2016 10:31 GMT+0100+0100
 Plugins: tips modal viewport svg imagemap ie6
 Styles: core basic css3
*/
(function(z,w,I){(function(e){"function"===typeof define&&define.amd?define(["jquery"],e):jQuery&&!jQuery.fn.qtip&&e(jQuery)})(function(e){function T(a,b,c,d){this.id=c;this.target=a;this.tooltip=null;this.elements={target:a};this._id="qtip-"+c;this.timers={img:{}};this.options=b;this.plugins={};this.cache={event:{},target:e(),disabled:!1,attr:d,onTooltip:!1,lastClass:""};this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=!1}
function A(a){return null===a||"object"!==e.type(a)}function X(a){return!(e.isFunction(a)||a&&a.attr||a.length||"object"===e.type(a)&&(a.jquery||a.then))}function O(a){var b;if(A(a))return!1;A(a.metadata)&&(a.metadata={type:a.metadata});if("content"in a){var c=a.content;if(A(c)||c.jquery||c.done){var d=X(c)?!1:c;c=a.content={text:d}}else d=c.text;if("ajax"in c){var h=(b=c.ajax)&&!1!==b.once;delete c.ajax;c.text=function(a,c){a=d||e(this).attr(c.options.content.attr)||"Loading...";var f=e.ajax(e.extend({},
b,{context:c})).then(b.success,null,b.error).then(function(a){a&&h&&c.set("content.text",a);return a},function(a,b,d){c.destroyed||0===a.status||c.set("content.text",b+": "+d)});return h?a:(c.set("content.text",a),f)}}"title"in c&&(e.isPlainObject(c.title)&&(c.button=c.title.button,c.title=c.title.text),X(c.title||!1)&&(c.title=!1))}"position"in a&&A(a.position)&&(a.position={my:a.position,at:a.position});"show"in a&&A(a.show)&&(a.show=a.show.jquery?{target:a.show}:!0===a.show?{ready:!0}:{event:a.show});
"hide"in a&&A(a.hide)&&(a.hide=a.hide.jquery?{target:a.hide}:{event:a.hide});"style"in a&&A(a.style)&&(a.style={classes:a.style});e.each(u,function(){this.sanitize&&this.sanitize(a)});return a}function Y(a,b){var c=0,d,e=a;for(b=b.split(".");e=e[b[c++]];)c<b.length&&(d=e);return[d||a,b.pop()]}function ia(a,b){var c,d,e;for(c in this.checks)if(this.checks.hasOwnProperty(c))for(d in this.checks[c])this.checks[c].hasOwnProperty(d)&&(e=(new RegExp(d,"i")).exec(a))&&(b.push(e),("builtin"===c||this.plugins[c])&&
this.checks[c][d].apply(this.plugins[c]||this,b))}function P(a){return ja.concat("").join(a?"-"+a+" ":" ")}function Q(a,b){if(0<b)return setTimeout(e.proxy(a,this),b);a.call(this)}function ka(a){this.tooltip.hasClass(x)||(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this.timers.show=Q.call(this,function(){this.toggle(!0,a)},this.options.show.delay))}function la(a){if(!this.tooltip.hasClass(x)&&!this.destroyed){var b=e(a.relatedTarget),c=b.closest(".qtip")[0]===this.tooltip[0],d=b[0]===
this.options.show.target[0];clearTimeout(this.timers.show);clearTimeout(this.timers.hide);if(this!==b[0]&&"mouse"===this.options.position.target&&c||this.options.hide.fixed&&/mouse(out|leave|move)/.test(a.type)&&(c||d))try{a.preventDefault(),a.stopImmediatePropagation()}catch(h){}else this.timers.hide=Q.call(this,function(){this.toggle(!1,a)},this.options.hide.delay,this)}}function U(a){!this.tooltip.hasClass(x)&&this.options.hide.inactive&&(clearTimeout(this.timers.inactive),this.timers.inactive=
Q.call(this,function(){this.hide(a)},this.options.hide.inactive))}function Z(a){this.rendered&&0<this.tooltip[0].offsetWidth&&this.reposition(a)}function aa(a,b,c){e(w.body).delegate(a,(b.split?b:b.join(".qtip "))+".qtip",function(){var a=t.api[e.attr(this,"data-qtip-id")];a&&!a.disabled&&c.apply(a,arguments)})}function ma(a,b,c){var d,h=e(w.body),f=a[0]===w?h:a;var g=a.metadata?a.metadata(c.metadata):null;var k="html5"===c.metadata.type&&g?g[c.metadata.name]:null,m=a.data(c.metadata.name||"qtipopts");
try{m="string"===typeof m?e.parseJSON(m):m}catch(v){}g=e.extend(!0,{},t.defaults,c,"object"===typeof m?O(m):null,O(k||g));c=g.position;g.id=b;if("boolean"===typeof g.content.text){var n=a.attr(g.content.attr);if(!1!==g.content.attr&&n)g.content.text=n;else return!1}c.container.length||(c.container=h);!1===c.target&&(c.target=f);!1===g.show.target&&(g.show.target=f);!0===g.show.solo&&(g.show.solo=c.container.closest("body"));!1===g.hide.target&&(g.hide.target=f);!0===g.position.viewport&&(g.position.viewport=
c.container);c.container=c.container.eq(0);c.at=new B(c.at,!0);c.my=new B(c.my);if(a.data("qtip"))if(g.overwrite)a.qtip("destroy",!0);else if(!1===g.overwrite)return!1;a.attr("data-hasqtip",b);g.suppress&&(d=a.attr("title"))&&a.removeAttr("title").attr("oldtitle",d).attr("title","");b=new T(a,g,b,!!n);a.data("qtip",b);return b}function N(a){return a.charAt(0).toUpperCase()+a.slice(1)}function na(a,b){var c=b.charAt(0).toUpperCase()+b.slice(1);c=(b+" "+oa.join(c+" ")+c).split(" ");var d,e,f=0;if(V[b])return a.css(V[b]);
for(;d=c[f++];)if((e=a.css(d))!==I)return V[b]=d,e}function J(a,b){return Math.ceil(parseFloat(na(a,b)))}function ba(a,b){this._ns="tip";this.options=b;this.offset=b.offset;this.size=[b.width,b.height];this.qtip=a;this.init(a)}function ca(a,b){this.options=b;this._ns="-modal";this.qtip=a;this.init(a)}function da(a){this._ns="ie6";this.qtip=a;this.init(a)}var B,u={},ja=["ui-widget","ui-tooltip"],ea="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),x="qtip-disabled",R,F=
function(){var a;var b=4;for(a=w.createElement("div");(a.innerHTML="\x3c!--[if gt IE "+b+"]><i></i><![endif]--\x3e")&&a.getElementsByTagName("i")[0];b+=1);return 4<b?b:NaN}(),D=parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||!1;var l=T.prototype;l._when=function(a){return e.when.apply(e,a)};l.render=function(a){if(this.rendered||this.destroyed)return this;var b=this,c=this.options,
d=this.cache,h=this.elements,f=c.content.text,g=c.content.title,k=c.content.button,m=c.position,n=[];e.attr(this.target[0],"aria-describedby",this._id);d.posClass=this._createPosClass((this.position={my:m.my,at:m.at}).my);this.tooltip=h.tooltip=e("<div/>",{id:this._id,"class":["qtip qtip-default",c.style.classes,d.posClass].join(" "),width:c.style.width||"",height:c.style.height||"",tracking:"mouse"===m.target&&m.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":!1,"aria-describedby":this._id+
"-content","aria-hidden":!0}).toggleClass(x,this.disabled).attr("data-qtip-id",this.id).data("qtip",this).appendTo(m.container).append(h.content=e("<div />",{"class":"qtip-content",id:this._id+"-content","aria-atomic":!0}));this.rendered=-1;this.positioning=!0;g&&(this._createTitle(),e.isFunction(g)||n.push(this._updateTitle(g,!1)));k&&this._createButton();e.isFunction(f)||n.push(this._updateContent(f,!1));this.rendered=!0;this._setWidget();e.each(u,function(a){var c;"render"===this.initialize&&(c=
this(b))&&(b.plugins[a]=c)});this._unassignEvents();this._assignEvents();this._when(n).then(function(){b._trigger("render");b.positioning=!1;b.hiddenDuringWait||!c.show.ready&&!a||b.toggle(!0,d.event,!1);b.hiddenDuringWait=!1});t.api[this.id]=this;return this};l.destroy=function(a){function b(){if(!this.destroyed){this.destroyed=!0;var a=this.target,b=a.attr("oldtitle"),h;this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove();e.each(this.plugins,function(){this.destroy&&this.destroy()});
for(h in this.timers)this.timers.hasOwnProperty(h)&&clearTimeout(this.timers[h]);a.removeData("qtip").removeAttr("data-qtip-id").removeAttr("data-hasqtip").removeAttr("aria-describedby");this.options.suppress&&b&&a.attr("title",b).removeAttr("oldtitle");this._unassignEvents();this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=null;delete t.api[this.id]}}if(this.destroyed)return this.target;!0===a&&"hide"!==this.triggering||!this.rendered?b.call(this):(this.tooltip.one("tooltiphidden",
e.proxy(b,this)),!this.triggering&&this.hide());return this.target};var W=l.checks={builtin:{"^id$":function(a,b,c,d){c=!0===c?t.nextid:c;var h="qtip-"+c;!1!==c&&0<c.length&&!e("#"+h).length?(this._id=h,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):a[b]=d},"^prerender":function(a,b,c){c&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(a,b,c){this._updateContent(c)},"^content.attr$":function(a,
b,c,d){this.options.content.text===this.target.attr(d)&&this._updateContent(this.target.attr(c))},"^content.title$":function(a,b,c){if(!c)return this._removeTitle();c&&!this.elements.title&&this._createTitle();this._updateTitle(c)},"^content.button$":function(a,b,c){this._updateButton(c)},"^content.title.(text|button)$":function(a,b,c){this.set("content."+b,c)},"^position.(my|at)$":function(a,b,c){"string"===typeof c&&(this.position[b]=a[b]=new B(c,"at"===b))},"^position.container$":function(a,b,
c){this.rendered&&this.tooltip.appendTo(c)},"^show.ready$":function(a,b,c){c&&(!this.rendered&&this.render(!0)||this.toggle(!0))},"^style.classes$":function(a,b,c,d){this.rendered&&this.tooltip.removeClass(d).addClass(c)},"^style.(width|height)":function(a,b,c){this.rendered&&this.tooltip.css(b,c)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(a,b,c){this.rendered&&this.tooltip.toggleClass("qtip-default",!!c)},"^events.(render|show|move|hide|focus|blur)$":function(a,
b,c){this.rendered&&this.tooltip[(e.isFunction(c)?"":"un")+"bind"]("tooltip"+b,c)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var a=this.options.position;this.tooltip.attr("tracking","mouse"===a.target&&a.adjust.mouse);this._unassignEvents();this._assignEvents()}}}};l.get=function(a){if(this.destroyed)return this;a=Y(this.options,a.toLowerCase());a=a[0][a[1]];return a.precedance?a.string():a};var pa=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,
qa=/^prerender|show\.ready/i;l.set=function(a,b){if(this.destroyed)return this;var c=this.rendered,d=!1,h=this.options;if("string"===typeof a){var f=a;a={};a[f]=b}else a=e.extend({},a);e.each(a,function(b,f){if(c&&qa.test(b))delete a[b];else{var m=Y(h,b.toLowerCase());var g=m[0][m[1]];m[0][m[1]]=f&&f.nodeType?e(f):f;d=pa.test(b)||d;a[b]=[m[0],m[1],f,g]}});O(h);this.positioning=!0;e.each(a,e.proxy(ia,this));this.positioning=!1;this.rendered&&0<this.tooltip[0].offsetWidth&&d&&this.reposition("mouse"===
h.position.target?null:this.cache.event);return this};l._update=function(a,b){var c=this,d=this.cache;if(!this.rendered||!a)return!1;e.isFunction(a)&&(a=a.call(this.elements.target,d.event,this)||"");if(e.isFunction(a.then))return d.waiting=!0,a.then(function(a){d.waiting=!1;return c._update(a,b)},null,function(a){return c._update(a,b)});if(!1===a||!a&&""!==a)return!1;a.jquery&&0<a.length?b.empty().append(a.css({display:"block",visibility:"visible"})):b.html(a);return this._waitForContent(b).then(function(a){c.rendered&&
0<c.tooltip[0].offsetWidth&&c.reposition(d.event,!a.length)})};l._waitForContent=function(a){var b=this.cache;b.waiting=!0;return(e.fn.imagesLoaded?a.imagesLoaded():(new e.Deferred).resolve([])).done(function(){b.waiting=!1}).promise()};l._updateContent=function(a,b){this._update(a,this.elements.content,b)};l._updateTitle=function(a,b){!1===this._update(a,this.elements.title,b)&&this._removeTitle(!1)};l._createTitle=function(){var a=this.elements,b=this._id+"-title";a.titlebar&&this._removeTitle();
a.titlebar=e("<div />",{"class":"qtip-titlebar "+(this.options.style.widget?P("header"):"")}).append(a.title=e("<div />",{id:b,"class":"qtip-title","aria-atomic":!0})).insertBefore(a.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(a){e(this).toggleClass("ui-state-active ui-state-focus","down"===a.type.substr(-4))}).delegate(".qtip-close","mouseover mouseout",function(a){e(this).toggleClass("ui-state-hover","mouseover"===a.type)});this.options.content.button&&this._createButton()};
l._removeTitle=function(a){var b=this.elements;b.title&&(b.titlebar.remove(),b.titlebar=b.title=b.button=null,!1!==a&&this.reposition())};l._createPosClass=function(a){return"qtip-pos-"+(a||this.options.position.my).abbrev()};l.reposition=function(a,b){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=!0;var c=this.cache,d=this.tooltip,h=this.options.position,f=h.target,g=h.my,k=h.at,m=h.viewport,n=h.container,v=h.adjust,p=v.method.split(" "),q=d.outerWidth(!1),H=d.outerHeight(!1),
l=0,K=0,t=d.css("position"),r={left:0,top:0},x=0<d[0].offsetWidth,B=a&&"scroll"===a.type,y=e(z),A=n[0].ownerDocument,E=this.mouse,C;if(e.isArray(f)&&2===f.length)k={x:"left",y:"top"},r={left:f[0],top:f[1]};else if("mouse"===f)k={x:"left",y:"top"},(!v.mouse||this.options.hide.distance)&&c.origin&&c.origin.pageX?a=c.origin:!a||a&&("resize"===a.type||"scroll"===a.type)?a=c.event:E&&E.pageX&&(a=E),"static"!==t&&(r=n.offset()),A.body.offsetWidth!==(z.innerWidth||A.documentElement.clientWidth)&&(C=e(w.body).offset()),
r={left:a.pageX-r.left+(C&&C.left||0),top:a.pageY-r.top+(C&&C.top||0)},v.mouse&&B&&E&&(r.left-=(E.scrollX||0)-y.scrollLeft(),r.top-=(E.scrollY||0)-y.scrollTop());else{"event"===f?a&&a.target&&"scroll"!==a.type&&"resize"!==a.type?c.target=e(a.target):a.target||(c.target=this.elements.target):"event"!==f&&(c.target=e(f.jquery?f:this.elements.target));f=c.target;f=e(f).eq(0);if(0===f.length)return this;if(f[0]===w||f[0]===z)l=D?z.innerWidth:f.width(),K=D?z.innerHeight:f.height(),f[0]===z&&(r={top:(m||
f).scrollTop(),left:(m||f).scrollLeft()});else if(u.imagemap&&f.is("area"))var G=u.imagemap(this,f,k,u.viewport?p:!1);else u.svg&&f&&f[0].ownerSVGElement?G=u.svg(this,f,k,u.viewport?p:!1):(l=f.outerWidth(!1),K=f.outerHeight(!1),r=f.offset());G&&(l=G.width,K=G.height,C=G.offset,r=G.position);r=this.reposition.offset(f,r,n);if(3.1<D&&4.1>D||4.3<=D&&4.33>D||!D&&"fixed"===t)r.left-=y.scrollLeft(),r.top-=y.scrollTop();if(!G||G&&!1!==G.adjustable)r.left+="right"===k.x?l:"center"===k.x?l/2:0,r.top+="bottom"===
k.y?K:"center"===k.y?K/2:0}r.left+=v.x+("right"===g.x?-q:"center"===g.x?-q/2:0);r.top+=v.y+("bottom"===g.y?-H:"center"===g.y?-H/2:0);u.viewport?(g=r.adjusted=u.viewport(this,r,h,l,K,q,H),C&&g.left&&(r.left+=C.left),C&&g.top&&(r.top+=C.top),g.my&&(this.position.my=g.my)):r.adjusted={left:0,top:0};c.posClass!==(C=this._createPosClass(this.position.my))&&(c.posClass=C,d.removeClass(c.posClass).addClass(C));if(!this._trigger("move",[r,m.elem||m],a))return this;delete r.adjusted;!1===b||!x||isNaN(r.left)||
isNaN(r.top)||"mouse"===f||!e.isFunction(h.effect)?d.css(r):e.isFunction(h.effect)&&(h.effect.call(d,this,e.extend({},r)),d.queue(function(a){e(this).css({opacity:"",height:""});F&&this.style.removeAttribute("filter");a()}));this.positioning=!1;return this};l.reposition.offset=function(a,b,c){if(!c[0])return b;a=e(a[0].ownerDocument);var d=!!F&&"CSS1Compat"!==w.compatMode;c=c[0];var h,f,g;do if("static"!==(f=e.css(c,"position"))){if("fixed"===f){f=c.getBoundingClientRect();var k=a;b.left+=-1*k.scrollLeft();
b.top+=-1*k.scrollTop()}else f=e(c).position(),f.left+=parseFloat(e.css(c,"borderLeftWidth"))||0,f.top+=parseFloat(e.css(c,"borderTopWidth"))||0;b.left-=f.left+(parseFloat(e.css(c,"marginLeft"))||0);b.top-=f.top+(parseFloat(e.css(c,"marginTop"))||0);h||"hidden"===(g=e.css(c,"overflow"))||"visible"===g||(h=e(c))}while(c=c.offsetParent);h&&(h[0]!==a[0]||d)&&(b.left+=1*h.scrollLeft(),b.top+=1*h.scrollTop());return b};var L=(B=l.reposition.Corner=function(a,b){a=(""+a).replace(/([A-Z])/," $1").replace(/middle/gi,
"center").toLowerCase();this.x=(a.match(/left|right/i)||a.match(/center/)||["inherit"])[0].toLowerCase();this.y=(a.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();this.forceY=!!b;a=a.charAt(0);this.precedance="t"===a||"b"===a?"y":"x"}).prototype;L.invert=function(a,b){this[a]="left"===this[a]?"right":"right"===this[a]?"left":b||this[a]};L.string=function(a){var b=this.x,c=this.y;b=b!==c?"center"===b||"center"!==c&&("y"===this.precedance||this.forceY)?[c,b]:[b,c]:[b];return!1!==a?b.join(" "):
b};L.abbrev=function(){var a=this.string(!1);return a[0].charAt(0)+(a[1]&&a[1].charAt(0)||"")};L.clone=function(){return new B(this.string(),this.forceY)};l.toggle=function(a,b,c){var d=this.cache,h=this.options,f=this.tooltip;if(b){if(/over|enter/.test(b.type)&&d.event&&/out|leave/.test(d.event.type)&&h.show.target.add(b.target).length===h.show.target.length&&f.has(b.relatedTarget).length)return this;d.event=e.event.fix(b)}this.waiting&&!a&&(this.hiddenDuringWait=!0);if(!this.rendered)return a?this.render(1):
this;if(this.destroyed||this.disabled)return this;h=a?"show":"hide";var g=this.options[h],k=this.options.position,m=this.options.content,n=this.tooltip.css("width"),v=this.tooltip.is(":visible"),p=a||1===g.target.length,q=!b||2>g.target.length||d.target[0]===b.target;(typeof a).search("boolean|number")&&(a=!v);q=(v=!f.is(":animated")&&v===a&&q)?null:!!this._trigger(h,[90]);if(this.destroyed)return this;!1!==q&&a&&this.focus(b);if(!q||v)return this;e.attr(f[0],"aria-hidden",!a);a?(this.mouse&&(d.origin=
e.event.fix(this.mouse)),e.isFunction(m.text)&&this._updateContent(m.text,!1),e.isFunction(m.title)&&this._updateTitle(m.title,!1),!R&&"mouse"===k.target&&k.adjust.mouse&&(e(w).bind("mousemove.qtip",this._storeMouse),R=!0),n||f.css("width",f.outerWidth(!1)),this.reposition(b,c),n||f.css("width",""),g.solo&&("string"===typeof g.solo?e(g.solo):e(".qtip",g.solo)).not(f).not(g.target).qtip("hide",new e.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete d.origin,R&&!e('.qtip[tracking="true"]:visible',
g.solo).not(f).length&&(e(w).unbind("mousemove.qtip"),R=!1),this.blur(b));var H=e.proxy(function(){a?(F&&f[0].style.removeAttribute("filter"),f.css("overflow",""),"string"===typeof g.autofocus&&e(this.options.show.autofocus,f).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):f.css({display:"",visibility:"",opacity:"",left:"",top:""});this._trigger(a?"visible":"hidden")},this);!1===g.effect||!1===p?(f[h](),H()):e.isFunction(g.effect)?(f.stop(1,1),g.effect.call(f,this),f.queue("fx",
function(a){H();a()})):f.fadeTo(90,a?1:0,H);a&&g.target.trigger("qtip-"+this.id+"-inactive");return this};l.show=function(a){return this.toggle(!0,a)};l.hide=function(a){return this.toggle(!1,a)};l.focus=function(a){if(!this.rendered||this.destroyed)return this;var b=e(".qtip"),c=this.tooltip,d=parseInt(c[0].style.zIndex,10),h=t.zindex+b.length;!c.hasClass("qtip-focus")&&this._trigger("focus",[h],a)&&(d!==h&&(b.each(function(){this.style.zIndex>d&&--this.style.zIndex}),b.filter(".qtip-focus").qtip("blur",
a)),c.addClass("qtip-focus")[0].style.zIndex=h);return this};l.blur=function(a){if(!this.rendered||this.destroyed)return this;this.tooltip.removeClass("qtip-focus");this._trigger("blur",[this.tooltip.css("zIndex")],a);return this};l.disable=function(a){if(this.destroyed)return this;"toggle"===a?a=!(this.rendered?this.tooltip.hasClass(x):this.disabled):"boolean"!==typeof a&&(a=!0);this.rendered&&this.tooltip.toggleClass(x,a).attr("aria-disabled",a);this.disabled=!!a;return this};l.enable=function(){return this.disable(!1)};
l._createButton=function(){var a=this,b=this.elements,c=b.tooltip,d=this.options.content.button,h="string"===typeof d?d:"Close tooltip";b.button&&b.button.remove();b.button=d.jquery?d:e("<a />",{"class":"qtip-close "+(this.options.style.widget?"":"qtip-icon"),title:h,"aria-label":h}).prepend(e("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"}));b.button.appendTo(b.titlebar||c).attr("role","button").click(function(b){c.hasClass(x)||a.hide(b);return!1})};l._updateButton=function(a){if(!this.rendered)return!1;
var b=this.elements.button;a?this._createButton():b.remove()};l._setWidget=function(){var a=this.options.style.widget,b=this.elements,c=b.tooltip,d=c.hasClass(x);c.removeClass(x);x=a?"ui-state-disabled":"qtip-disabled";c.toggleClass(x,d);c.toggleClass("ui-helper-reset "+P(),a).toggleClass("qtip-default",this.options.style.def&&!a);b.content&&b.content.toggleClass(P("content"),a);b.titlebar&&b.titlebar.toggleClass(P("header"),a);b.button&&b.button.toggleClass("qtip-icon",!a)};l._storeMouse=function(a){(this.mouse=
e.event.fix(a)).type="mousemove";return this};l._bind=function(a,b,c,d,h){if(a&&c&&b.length)return d="."+this._id+(d?"-"+d:""),e(a).bind((b.split?b:b.join(d+" "))+d,e.proxy(c,h||this)),this};l._unbind=function(a,b){a&&e(a).unbind("."+this._id+(b?"-"+b:""));return this};l._trigger=function(a,b,c){var d=new e.Event("tooltip"+a);d.originalEvent=c&&e.extend({},c)||this.cache.event||null;this.triggering=a;this.tooltip.trigger(d,[this].concat(b||[]));this.triggering=!1;return!d.isDefaultPrevented()};l._bindEvents=
function(a,b,c,d,h,f){var g=c.filter(d).add(d.filter(c)),k=[];g.length&&(e.each(b,function(b,c){b=e.inArray(c,a);-1<b&&k.push(a.splice(b,1)[0])}),k.length&&(this._bind(g,k,function(a){(this.rendered&&0<this.tooltip[0].offsetWidth?f:h).call(this,a)}),c=c.not(g),d=d.not(g)));this._bind(c,a,h);this._bind(d,b,f)};l._assignInitialEvents=function(a){function b(a){if(this.disabled||this.destroyed)return!1;this.cache.event=a&&e.event.fix(a);this.cache.target=a&&e(a.target);clearTimeout(this.timers.show);
this.timers.show=Q.call(this,function(){this.render("object"===typeof a||c.show.ready)},c.prerender?0:c.show.delay)}var c=this.options,d=c.show.target,h=c.hide.target,f=c.show.event?e.trim(""+c.show.event).split(" "):[],g=c.hide.event?e.trim(""+c.hide.event).split(" "):[];this._bind(this.elements.target,["remove","removeqtip"],function(){this.destroy(!0)},"destroy");/mouse(over|enter)/i.test(c.show.event)&&!/mouse(out|leave)/i.test(c.hide.event)&&g.push("mouseleave");this._bind(d,"mousemove",function(a){this._storeMouse(a);
this.cache.onTarget=!0});this._bindEvents(f,g,d,h,b,function(){if(!this.timers)return!1;clearTimeout(this.timers.show)});(c.show.ready||c.prerender)&&b.call(this,a)};l._assignEvents=function(){var a=this,b=this.options,c=b.position,d=this.tooltip,h=b.show.target,f=b.hide.target,g=c.container,k=c.viewport,m=e(w),n=e(z),v=b.show.event?e.trim(""+b.show.event).split(" "):[],p=b.hide.event?e.trim(""+b.hide.event).split(" "):[];e.each(b.events,function(b,c){a._bind(d,"toggle"===b?["tooltipshow","tooltiphide"]:
["tooltip"+b],c,null,d)});/mouse(out|leave)/i.test(b.hide.event)&&"window"===b.hide.leave&&this._bind(m,["mouseout","blur"],function(a){/select|option/.test(a.target.nodeName)||a.relatedTarget||this.hide(a)});b.hide.fixed?f=f.add(d.addClass("qtip-fixed")):/mouse(over|enter)/i.test(b.show.event)&&this._bind(f,"mouseleave",function(){clearTimeout(this.timers.show)});-1<(""+b.hide.event).indexOf("unfocus")&&this._bind(g.closest("html"),["mousedown","touchstart"],function(a){var b=e(a.target),c=this.rendered&&
!this.tooltip.hasClass(x)&&0<this.tooltip[0].offsetWidth,d=0<b.parents(".qtip").filter(this.tooltip[0]).length;b[0]===this.target[0]||b[0]===this.tooltip[0]||d||this.target.has(b[0]).length||!c||this.hide(a)});"number"===typeof b.hide.inactive&&(this._bind(h,"qtip-"+this.id+"-inactive",U,"inactive"),this._bind(f.add(d),t.inactiveEvents,U));this._bindEvents(v,p,h,f,ka,la);this._bind(h.add(d),"mousemove",function(a){if("number"===typeof b.hide.distance){var c=this.cache.origin||{},d=this.options.hide.distance,
f=Math.abs;(f(a.pageX-c.pageX)>=d||f(a.pageY-c.pageY)>=d)&&this.hide(a)}this._storeMouse(a)});"mouse"===c.target&&c.adjust.mouse&&(b.hide.event&&this._bind(h,["mouseenter","mouseleave"],function(a){if(!this.cache)return!1;this.cache.onTarget="mouseenter"===a.type}),this._bind(m,"mousemove",function(a){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(x)&&0<this.tooltip[0].offsetWidth&&this.reposition(a)}));(c.adjust.resize||k.length)&&this._bind(e.event.special.resize?k:n,"resize",Z);c.adjust.scroll&&
this._bind(n.add(c.container),"scroll",Z)};l._unassignEvents=function(){var a=this.options,b=a.show.target,c=a.hide.target;a=e.grep([this.elements.target[0],this.rendered&&this.tooltip[0],a.position.container[0],a.position.viewport[0],a.position.container.closest("html")[0],z,w],function(a){return"object"===typeof a});b&&b.toArray&&(a=a.concat(b.toArray()));c&&c.toArray&&(a=a.concat(c.toArray()));this._unbind(a)._unbind(a,"destroy")._unbind(a,"inactive")};e(function(){aa(".qtip",["mouseenter","mouseleave"],
function(a){var b="mouseenter"===a.type,c=e(a.currentTarget),d=e(a.relatedTarget||a.target),h=this.options;b?(this.focus(a),c.hasClass("qtip-fixed")&&!c.hasClass(x)&&clearTimeout(this.timers.hide)):"mouse"===h.position.target&&h.position.adjust.mouse&&h.hide.event&&h.show.target&&!d.closest(h.show.target[0]).length&&this.hide(a);c.toggleClass("qtip-hover",b)});aa("[data-qtip-id]",ea,U)});var t=e.fn.qtip=function(a,b,c){var d=(""+a).toLowerCase(),h=null,f=e.makeArray(arguments).slice(1),g=f[f.length-
1],k=this[0]?e.data(this[0],"qtip"):null;if(!arguments.length&&k||"api"===d)return k;if("string"===typeof a)return this.each(function(){var a=e.data(this,"qtip");if(!a)return!0;g&&g.timeStamp&&(a.cache.event=g);if(!b||"option"!==d&&"options"!==d)a[d]&&a[d].apply(a,f);else if(c!==I||e.isPlainObject(b))a.set(b,c);else return h=a.get(b),!1}),null!==h?h:this;if("object"===typeof a||!arguments.length)return k=O(e.extend(!0,{},a)),this.each(function(a){a=e.isArray(k.id)?k.id[a]:k.id;a=!a||!1===a||1>a.length||
t.api[a]?t.nextid++:a;var b=ma(e(this),a,k);if(!1===b)return!0;t.api[a]=b;e.each(u,function(){"initialize"===this.initialize&&this(b)});b._assignInitialEvents(g)})};e.qtip=T;t.api={};e.each({attr:function(a,b){if(this.length){var c=this[0],d=e.data(c,"qtip");if("title"===a&&d&&d.options&&"object"===typeof d&&"object"===typeof d.options&&d.options.suppress){if(2>arguments.length)return e.attr(c,"oldtitle");d&&"title"===d.options.content.attr&&d.cache.attr&&d.set("content.text",b);return this.attr("oldtitle",
b)}}return e.fn.attr_replacedByqTip.apply(this,arguments)},clone:function(a){var b=e.fn.clone_replacedByqTip.apply(this,arguments);a||b.filter("[oldtitle]").attr("title",function(){return e.attr(this,"oldtitle")}).removeAttr("oldtitle");return b}},function(a,b){if(!b||e.fn[a+"_replacedByqTip"])return!0;var c=e.fn[a+"_replacedByqTip"]=e.fn[a];e.fn[a]=function(){return b.apply(this,arguments)||c.apply(this,arguments)}});e.ui||(e.cleanData_replacedByqTip=e.cleanData,e.cleanData=function(a){for(var b=
0,c;(c=e(a[b])).length;b++)if(c.attr("data-hasqtip"))try{c.triggerHandler("removeqtip")}catch(d){}e.cleanData_replacedByqTip.apply(this,arguments)});t.version="3.0.3";t.nextid=0;t.inactiveEvents=ea;t.zindex=15E3;t.defaults={prerender:!1,id:!1,overwrite:!0,suppress:!0,content:{text:!0,attr:"title",title:!1,button:!1},position:{my:"top left",at:"bottom right",target:!1,container:!1,viewport:!1,adjust:{x:0,y:0,mouse:!0,scroll:!0,resize:!0,method:"flipinvert flipinvert"},effect:function(a,b){e(this).animate(b,
{duration:200,queue:!1})}},show:{target:!1,event:"mouseenter",effect:!0,delay:90,solo:!1,ready:!1,autofocus:!1},hide:{target:!1,event:"mouseleave",effect:!0,delay:0,fixed:!1,inactive:!1,leave:"window",distance:!1},style:{classes:"",widget:!1,width:!1,height:!1,def:!0},events:{render:null,move:null,show:null,hide:null,toggle:null,visible:null,hidden:null,focus:null,blur:null}};var S=!!w.createElement("canvas").getContext,fa=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,V={},oa=["Webkit","O","Moz",
"ms"];if(S){l=z.devicePixelRatio||1;L=function(){var a=w.createElement("canvas").getContext("2d");return a.backingStorePixelRatio||a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||1}();var M=l/L}else var ha=function(a,b,c){return"<qtipvml:"+a+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(b||"")+' style="behavior: url(#default#VML); '+(c||"")+'" />'};e.extend(ba.prototype,{init:function(a){var b=this.element=a.elements.tip=
e("<div />",{"class":"qtip-tip"}).prependTo(a.tooltip);if(S){var c=e("<canvas />").appendTo(this.element)[0].getContext("2d");c.lineJoin="miter";c.miterLimit=1E5;c.save()}else c=ha("shape",'coordorigin="0,0"',"position:absolute;"),this.element.html(c+c),a._bind(e("*",b).add(b),["click","mousedown"],function(a){a.stopPropagation()},this._ns);a._bind(a.tooltip,"tooltipmove",this.reposition,this._ns,this);this.create()},_swapDimensions:function(){this.size[0]=this.options.height;this.size[1]=this.options.width},
_resetDimensions:function(){this.size[0]=this.options.width;this.size[1]=this.options.height},_useTitle:function(a){var b=this.qtip.elements.titlebar;return b&&("top"===a.y||"center"===a.y&&this.element.position().top+this.size[1]/2+this.options.offset<b.outerHeight(!0))},_parseCorner:function(a){var b=this.qtip.options.position.my;!1===a||!1===b?a=!1:!0===a?a=new B(b.string()):a.string||(a=new B(a),a.fixed=!0);return a},_parseWidth:function(a,b,c){var d=this.qtip.elements;b="border"+N(b)+"Width";
return(c?J(c,b):J(d.content,b)||J(this._useTitle(a)&&d.titlebar||d.content,b)||J(d.tooltip,b))||0},_parseRadius:function(a){var b=this.qtip.elements,c="border"+N(a.y)+N(a.x)+"Radius";return 9>F?0:J(this._useTitle(a)&&b.titlebar||b.content,c)||J(b.tooltip,c)||0},_invalidColour:function(a,b,c){b=a.css(b);return!b||c&&b===a.css(c)||fa.test(b)?!1:b},_parseColours:function(a){var b=this.qtip.elements,c=this.element.css("cssText",""),d="border"+N(a[a.precedance])+N("color");a=this._useTitle(a)&&b.titlebar||
b.content;var h=this._invalidColour,f=[];f[0]=h(c,"background-color")||h(a,"background-color")||h(b.content,"background-color")||h(b.tooltip,"background-color")||c.css("background-color");f[1]=h(c,d,"color")||h(a,d,"color")||h(b.content,d,"color")||h(b.tooltip,d,"color")||b.tooltip.css(d);e("*",c).add(c).css("cssText","background-color:transparent !important;border:0 !important;");return f},_calculateSize:function(a){var b="y"===a.precedance,c=this.options.width,d=this.options.height,e="c"===a.abbrev(),
f=(b?c:d)*(e?.5:1),g=Math.pow;a=Math.round;var k=Math.sqrt(g(f,2)+g(d,2));f=[this.border/f*k,this.border/d*k];f[2]=Math.sqrt(g(f[0],2)-g(this.border,2));f[3]=Math.sqrt(g(f[1],2)-g(this.border,2));e=(k+f[2]+f[3]+(e?0:f[0]))/k;c=[a(e*c),a(e*d)];return b?c:c.reverse()},_calculateTip:function(a,b,c){c=c||1;b=b||this.size;var d=b[0]*c;b=b[1]*c;c=Math.ceil(d/2);var e=Math.ceil(b/2);d={br:[0,0,d,b,d,0],bl:[0,0,d,0,0,b],tr:[0,b,d,0,d,b],tl:[0,0,0,b,d,b],tc:[0,b,c,0,d,b],bc:[0,0,d,0,c,b],rc:[0,0,d,e,0,b],
lc:[d,0,d,b,0,e]};d.lt=d.br;d.rt=d.bl;d.lb=d.tr;d.rb=d.tl;return d[a.abbrev()]},_drawCoords:function(a,b){a.beginPath();a.moveTo(b[0],b[1]);a.lineTo(b[2],b[3]);a.lineTo(b[4],b[5]);a.closePath()},create:function(){var a=this.corner=(S||F)&&this._parseCorner(this.options.corner);if(this.enabled=!!this.corner&&"c"!==this.corner.abbrev())this.qtip.cache.corner=a.clone(),this.update();this.element.toggle(this.enabled);return this.corner},update:function(a,b){if(!this.enabled)return this;var c=this.qtip.elements,
d=this.element,h=d.children(),f=this.options,g=this.size,k=f.mimic,m=Math.round;a||(a=this.qtip.cache.corner||this.corner);!1===k?k=a:(k=new B(k),k.precedance=a.precedance,"inherit"===k.x?k.x=a.x:"inherit"===k.y?k.y=a.y:k.x===k.y&&(k[a.precedance]=a[a.precedance]));var n=k.precedance;"x"===a.precedance?this._swapDimensions():this._resetDimensions();var v=this.color=this._parseColours(a);if("transparent"!==v[1]){var p=this.border=this._parseWidth(a,a[a.precedance]);f.border&&1>p&&!fa.test(v[1])&&(v[0]=
v[1]);this.border=p=!0!==f.border?f.border:p}else this.border=p=0;var q=this.size=this._calculateSize(a);d.css({width:q[0],height:q[1],lineHeight:q[1]+"px"});d="y"===a.precedance?[m("left"===k.x?p:"right"===k.x?q[0]-g[0]-p:(q[0]-g[0])/2),m("top"===k.y?q[1]-g[1]:0)]:[m("left"===k.x?q[0]-g[0]:0),m("top"===k.y?p:"bottom"===k.y?q[1]-g[1]-p:(q[1]-g[1])/2)];if(S){n=h[0].getContext("2d");n.restore();n.save();n.clearRect(0,0,6E3,6E3);var l=this._calculateTip(k,g,M);g=this._calculateTip(k,this.size,M);h.attr("width",
q[0]*M).attr("height",q[1]*M);h.css("width",q[0]).css("height",q[1]);this._drawCoords(n,g);n.fillStyle=v[1];n.fill();n.translate(d[0]*M,d[1]*M);this._drawCoords(n,l);n.fillStyle=v[0];n.fill()}else l=this._calculateTip(k),l="m"+l[0]+","+l[1]+" l"+l[2]+","+l[3]+" "+l[4]+","+l[5]+" xe",d[2]=p&&/^(r|b)/i.test(a.string())?8===F?2:1:0,h.css({coordsize:q[0]+p+" "+q[1]+p,antialias:""+(-1<k.string().indexOf("center")),left:d[0]-d[2]*Number("x"===n),top:d[1]-d[2]*Number("y"===n),width:q[0]+p,height:q[1]+p}).each(function(a){var b=
e(this);b[b.prop?"prop":"attr"]({coordsize:q[0]+p+" "+q[1]+p,path:l,fillcolor:v[0],filled:!!a,stroked:!a}).toggle(!(!p&&!a));!a&&b.html(ha("stroke",'weight="'+2*p+'px" color="'+v[1]+'" miterlimit="1000" joinstyle="miter"'))});z.opera&&setTimeout(function(){c.tip.css({display:"inline-block",visibility:"visible"})},1);!1!==b&&this.calculate(a,q)},calculate:function(a,b){if(!this.enabled)return!1;var c=this,d=this.qtip.elements,h=this.element,f=this.options.offset,g={};a=a||this.corner;var k=a.precedance;
b=b||this._calculateSize(a);var m=[a.x,a.y];"x"===k&&m.reverse();e.each(m,function(e,h){if("center"===h){var m="y"===k?"left":"top";g[m]="50%";g["margin-"+m]=-Math.round(b["y"===k?0:1]/2)+f}else{m=c._parseWidth(a,h,d.tooltip);var n=c._parseWidth(a,h,d.content);var l=c._parseRadius(a);g[h]=Math.max(-c.border,e?n:f+(l>m?l:-m))}});g[a[k]]-=b["x"===k?0:1];h.css({margin:"",top:"",bottom:"",left:"",right:""}).css(g);return g},reposition:function(a,b,c){function d(a,b,c,d,e){"shift"===a&&f.precedance===
b&&g[d]&&"center"!==f[c]?f.precedance="x"===f.precedance?"y":"x":"shift"!==a&&g[d]&&(f[b]="center"===f[b]?0<g[d]?d:e:f[b]===d?e:d)}function e(a,b,d){"center"===f[a]?n["margin-"+b]=m[a]=p["margin-"+b]-g[b]:(l=p[d]!==I?[g[b],-p[b]]:[-g[b],p[b]],(m[a]=Math.max(l[0],l[1]))>l[0]&&(c[b]-=g[b],m[b]=!1),n[p[d]!==I?d:b]=m[a])}if(this.enabled){a=b.cache;var f=this.corner.clone(),g=c.adjusted,k=b.options.position.adjust.method.split(" ");b=k[0];k=k[1]||k[0];var m={left:!1,top:!1,x:0,y:0},n={},l;!0!==this.corner.fixed&&
(d(b,"x","y","left","right"),d(k,"y","x","top","bottom"),f.string()===a.corner.string()&&a.cornerTop===g.top&&a.cornerLeft===g.left||this.update(f,!1));var p=this.calculate(f);p.right!==I&&(p.left=-p.right);p.bottom!==I&&(p.top=-p.bottom);p.user=this.offset;m.left="shift"===b&&!!g.left;m.left&&e("x","left","right");m.top="shift"===k&&!!g.top;m.top&&e("y","top","bottom");this.element.css(n).toggle(!(m.x&&m.y||"center"===f.x&&m.y||"center"===f.y&&m.x));c.left-=p.left.charAt?p.user:"shift"!==b||m.top||
!m.left&&!m.top?p.left+this.border:0;c.top-=p.top.charAt?p.user:"shift"!==k||m.left||!m.left&&!m.top?p.top+this.border:0;a.cornerLeft=g.left;a.cornerTop=g.top;a.corner=f.clone()}},destroy:function(){this.qtip._unbind(this.qtip.tooltip,this._ns);this.qtip.elements.tip&&this.qtip.elements.tip.find("*").remove().end().remove()}});l=u.tip=function(a){return new ba(a,a.options.style.tip)};l.initialize="render";l.sanitize=function(a){if(a.style&&"tip"in a.style){var b=a.style.tip;"object"!==typeof b&&(b=
a.style.tip={corner:b});/string|boolean/i.test(typeof b.corner)||(b.corner=!0)}};W.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){this.create();this.qtip.reposition()},"^style.tip.(height|width)$":function(a){this.size=[a.width,a.height];this.update();this.qtip.reposition()},"^content.title|style.(classes|widget)$":function(){this.update()}};e.extend(!0,t.defaults,{style:{tip:{corner:!0,mimic:!1,width:6,height:6,border:!0,offset:0}}});var y=function(){function a(a){if(e.expr[":"].focusable)return e.expr[":"].focusable;
var b=!isNaN(e.attr(a,"tabindex")),c=a.nodeName&&a.nodeName.toLowerCase();if("area"===c){b=a.parentNode;c=b.name;if(!a.href||!c||"map"!==b.nodeName.toLowerCase())return!1;a=e("img[usemap=#"+c+"]")[0];return!!a&&a.is(":visible")}return/input|select|textarea|button|object/.test(c)?!a.disabled:"a"===c?a.href||b:b}function b(a){1>h.length&&a.length?a.not("body").blur():h.first().focus()}function c(a){if(k.is(":visible")){a=e(a.target);var c=f.tooltip,d=a.closest(".qtip");(1>d.length?0:parseInt(d[0].style.zIndex,
10)>parseInt(c[0].style.zIndex,10))||a.closest(".qtip")[0]===c[0]||b(a)}}var d=this,h={},f,g,k;e.extend(d,{init:function(){k=d.elem=e("<div />",{id:"qtip-overlay",html:"<div></div>",mousedown:function(){return!1}}).hide();e(w.body).bind("focusin.qtip-modal",c);e(w).bind("keydown.qtip-modal",function(a){f&&f.options.show.modal.escape&&27===a.keyCode&&f.hide(a)});k.bind("click.qtip-modal",function(a){f&&f.options.show.modal.blur&&f.hide(a)});return d},update:function(b){f=b;h=!1!==b.options.show.modal.stealfocus?
b.tooltip.find("*").filter(function(){return a(this)}):[]},toggle:function(a,c,h){var m=a.tooltip,l=a.options.show.modal,n=l.effect,v=c?"show":"hide",u=k.is(":visible");m=e(".qtip-modal").filter(":visible:not(:animated)").not(m);d.update(a);c&&!1!==l.stealfocus&&b(e(":focus"));k.toggleClass("blurs",l.blur);c&&k.appendTo(w.body);if(k.is(":animated")&&u===c&&!1!==g||!c&&m.length)return d;k.stop(!0,!1);if(e.isFunction(n))n.call(k,c);else if(!1===n)k[v]();else k.fadeTo(parseInt(h,10)||90,c?1:0,function(){c||
k.hide()});c||k.queue(function(a){k.css({left:"",top:""});e(".qtip-modal").length||k.detach();a()});g=c;f.destroyed&&(f=null);return d}});d.init()};y=new y;e.extend(ca.prototype,{init:function(a){var b=a.tooltip;if(!this.options.on)return this;a.elements.overlay=y.elem;b.addClass("qtip-modal").css("z-index",t.modal_zindex+e(".qtip-modal").length);a._bind(b,["tooltipshow","tooltiphide"],function(a,d,h){d=a.originalEvent;if(a.target===b[0])if(d&&"tooltiphide"===a.type&&/mouse(leave|enter)/.test(d.type)&&
e(d.relatedTarget).closest(y.elem[0]).length)try{a.preventDefault()}catch(f){}else(!d||d&&"tooltipsolo"!==d.type)&&this.toggle(a,"tooltipshow"===a.type,h)},this._ns,this);a._bind(b,"tooltipfocus",function(a,d){if(!a.isDefaultPrevented()&&a.target===b[0]){var c=e(".qtip-modal"),f=t.modal_zindex+c.length,g=parseInt(b[0].style.zIndex,10);y.elem[0].style.zIndex=f-1;c.each(function(){this.style.zIndex>g&&--this.style.zIndex});c.filter(".qtip-focus").qtip("blur",a.originalEvent);b.addClass("qtip-focus")[0].style.zIndex=
f;y.update(d);try{a.preventDefault()}catch(k){}}},this._ns,this);a._bind(b,"tooltiphide",function(a){a.target===b[0]&&e(".qtip-modal").filter(":visible").not(b).last().qtip("focus",a)},this._ns,this)},toggle:function(a,b,c){if(a&&a.isDefaultPrevented())return this;y.toggle(this.qtip,!!b,c)},destroy:function(){this.qtip.tooltip.removeClass("qtip-modal");this.qtip._unbind(this.qtip.tooltip,this._ns);y.toggle(this.qtip,!1);delete this.qtip.elements.overlay}});l=u.modal=function(a){return new ca(a,a.options.show.modal)};
l.sanitize=function(a){a.show&&("object"!==typeof a.show.modal?a.show.modal={on:!!a.show.modal}:"undefined"===typeof a.show.modal.on&&(a.show.modal.on=!0))};t.modal_zindex=t.zindex-200;l.initialize="render";W.modal={"^show.modal.(on|blur)$":function(){this.destroy();this.init();this.qtip.elems.overlay.toggle(0<this.qtip.tooltip[0].offsetWidth)}};e.extend(!0,t.defaults,{show:{modal:{on:!1,effect:!0,blur:!0,stealfocus:!0,escape:!0}}});u.viewport=function(a,b,c,d,e,f,g){function h(a,c,d,e,f,h,g,k,m){var l=
b[f],n=v[a],q=p[a],t=n===f?m:n===h?-m:-m/2,u=F[f]+D[f]-(r?0:y[f]),w=u-l;m=l+m-("width"===g?A:B)-u;c=t-(v.precedance===a||n===v[c]?q===f?k:q===h?-k:-k/2:0)-("center"===q?k/2:0);"shift"===d?(c=(n===f?1:-1)*t,b[f]+=0<w?w:0<m?-m:0,b[f]=Math.max(-y[f]+D[f],l-c,Math.min(Math.max(-y[f]+D[f]+("width"===g?A:B),l+c),b[f],"center"===n?l-t:1E9))):(e*="flipinvert"===d?2:0,0<w&&(n!==f||0<m)?(b[f]-=c+e,E.invert(a,f)):0<m&&(n!==h||0<w)&&(b[f]-=("center"===n?-c:c)+e,E.invert(a,h)),b[f]<F[f]&&-b[f]>m&&(b[f]=l,E=v.clone()));
return b[f]-l}var m=c.target,l=a.elements.tooltip,v=c.my,p=c.at;a=c.adjust;var q=a.method.split(" "),u=q[0];q=q[1]||q[0];var t=c.viewport,x=c.container;c={left:0,top:0};if(!t.jquery||m[0]===z||m[0]===w.body||"none"===a.method)return c;var y=x.offset()||c;var r="static"===x.css("position");m="fixed"===l.css("position");var A=t[0]===z?t.width():t.outerWidth(!1);var B=t[0]===z?t.height():t.outerHeight(!1);var F={left:m?0:t.scrollLeft(),top:m?0:t.scrollTop()};var D=t.offset()||c;if("shift"!==u||"shift"!==
q)var E=v.clone();return c={left:"none"!==u?h("x","y",u,a.x,"left","right","width",d,f):0,top:"none"!==q?h("y","x",q,a.y,"top","bottom","height",e,g):0,my:E}};u.polys={polygon:function(a,b){var c={width:0,height:0,position:{top:1E10,right:0,bottom:0,left:1E10},adjustable:!1},d,e=[],f=1,g=1;for(d=a.length;d--;){var k=[parseInt(a[--d],10),parseInt(a[d+1],10)];k[0]>c.position.right&&(c.position.right=k[0]);k[0]<c.position.left&&(c.position.left=k[0]);k[1]>c.position.bottom&&(c.position.bottom=k[1]);
k[1]<c.position.top&&(c.position.top=k[1]);e.push(k)}var m=c.width=Math.abs(c.position.right-c.position.left);var l=c.height=Math.abs(c.position.bottom-c.position.top);if("c"===b.abbrev())c.position={left:c.position.left+c.width/2,top:c.position.top+c.height/2};else{for(;0<m&&0<l&&0<f&&0<g;)for(m=Math.floor(m/2),l=Math.floor(l/2),f="left"===b.x?m:"right"===b.x?c.width-m:f+Math.floor(m/2),g="top"===b.y?l:"bottom"===b.y?c.height-l:g+Math.floor(l/2),d=e.length;d--&&!(2>e.length);)a=e[d][0]-c.position.left,
k=e[d][1]-c.position.top,("left"===b.x&&a>=f||"right"===b.x&&a<=f||"center"===b.x&&(a<f||a>c.width-f)||"top"===b.y&&k>=g||"bottom"===b.y&&k<=g||"center"===b.y&&(k<g||k>c.height-g))&&e.splice(d,1);c.position={left:e[0][0],top:e[0][1]}}return c},rect:function(a,b,c,d){return{width:Math.abs(c-a),height:Math.abs(d-b),position:{left:Math.min(a,c),top:Math.min(b,d)}}},_angles:{tc:1.5,tr:1.75,tl:1.25,bc:.5,br:.25,bl:.75,rc:2,lc:1,c:0},ellipse:function(a,b,c,d,e){var f=u.polys._angles[e.abbrev()];e=0===f?
0:c*Math.cos(f*Math.PI);f=d*Math.sin(f*Math.PI);return{width:2*c-Math.abs(e),height:2*d-Math.abs(f),position:{left:a+e,top:b+f},adjustable:!1}},circle:function(a,b,c,d){return u.polys.ellipse(a,b,c,c,d)}};u.svg=function(a,b,c){var d=b[0],h=e(d.ownerSVGElement),f=d.ownerDocument;b=(parseInt(b.css("stroke-width"),10)||0)/2;for(var g,k,m,l;!d.getBBox;)d=d.parentNode;if(!d.getBBox||!d.parentNode)return!1;switch(d.nodeName){case "ellipse":case "circle":b=u.polys.ellipse(d.cx.baseVal.value,d.cy.baseVal.value,
(d.rx||d.r).baseVal.value+b,(d.ry||d.r).baseVal.value+b,c);break;case "line":case "polygon":case "polyline":l=d.points||[{x:d.x1.baseVal.value,y:d.y1.baseVal.value},{x:d.x2.baseVal.value,y:d.y2.baseVal.value}];b=[];m=-1;for(g=l.numberOfItems||l.length;++m<g;)k=l.getItem?l.getItem(m):l[m],b.push.apply(b,[k.x,k.y]);b=u.polys.polygon(b,c);break;default:b=d.getBBox(),b={width:b.width,height:b.height,position:{left:b.x,top:b.y}}}c=b.position;h=h[0];h.createSVGPoint&&(d=d.getScreenCTM(),l=h.createSVGPoint(),
l.x=c.left,l.y=c.top,h=l.matrixTransform(d),c.left=h.x,c.top=h.y);f!==w&&"mouse"!==a.position.target&&(a=e((f.defaultView||f.parentWindow).frameElement).offset())&&(c.left+=a.left,c.top+=a.top);f=e(f);c.left+=f.scrollLeft();c.top+=f.scrollTop();return b};u.imagemap=function(a,b,c){b.jquery||(b=e(b));var d=(b.attr("shape")||"rect").toLowerCase().replace("poly","polygon");a=e('img[usemap="#'+b.parent("map").attr("name")+'"]');b=e.trim(b.attr("coords")).replace(/,$/,"").split(",");var h;if(!a.length)return!1;
if("polygon"===d)d=u.polys.polygon(b,c);else if(u.polys[d]){var f=-1;var g=b.length;for(h=[];++f<g;)h.push(parseInt(b[f],10));d=u.polys[d].apply(this,h.concat(c))}else return!1;c=a.offset();c.left+=Math.ceil((a.outerWidth(!1)-a.width())/2);c.top+=Math.ceil((a.outerHeight(!1)-a.height())/2);d.position.left+=c.left;d.position.top+=c.top;return d};e.extend(da.prototype,{_scroll:function(){var a=this.qtip.elements.overlay;a&&(a[0].style.top=e(z).scrollTop()+"px")},init:function(a){var b=a.tooltip;1>e("select, object").length&&
(this.bgiframe=a.elements.bgiframe=e('<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>').appendTo(b),a._bind(b,"tooltipmove",this.adjustBGIFrame,this._ns,this));this.redrawContainer=e("<div/>",{id:"qtip-rcontainer"}).appendTo(w.body);a.elements.overlay&&a.elements.overlay.addClass("qtipmodal-ie6fix")&&(a._bind(z,
["scroll","resize"],this._scroll,this._ns,this),a._bind(b,["tooltipshow"],this._scroll,this._ns,this));this.redraw()},adjustBGIFrame:function(){var a=this.qtip.tooltip,b={height:a.outerHeight(!1),width:a.outerWidth(!1)},c=this.qtip.plugins.tip,d=this.qtip.elements.tip;a=parseInt(a.css("borderLeftWidth"),10)||0;a={left:-a,top:-a};c&&d&&(c="x"===c.corner.precedance?["width","left"]:["height","top"],a[c[1]]-=d[c[0]]());this.bgiframe.css(a).css(b)},redraw:function(){if(1>this.qtip.rendered||this.drawing)return this;
var a=this.qtip.tooltip,b=this.qtip.options.style,c=this.qtip.options.position.container;this.qtip.drawing=1;b.height&&a.css("height",b.height);if(b.width)a.css("width",b.width);else{a.css("width","").appendTo(this.redrawContainer);var d=a.width();1>d%2&&(d+=1);var e=a.css("maxWidth")||"";var f=a.css("minWidth")||"";b=-1<(e+f).indexOf("%")?c.width()/100:0;e=(-1<e.indexOf("%")?b:1*parseInt(e,10))||d;f=(-1<f.indexOf("%")?b:1*parseInt(f,10))||0;d=e+f?Math.min(Math.max(d,f),e):d;a.css("width",Math.round(d)).appendTo(c)}this.drawing=
0;return this},destroy:function(){this.bgiframe&&this.bgiframe.remove();this.qtip._unbind([z,this.qtip.tooltip],this._ns)}});(u.ie6=function(a){return 6===F?new da(a):!1}).initialize="render";W.ie6={"^content|style$":function(){this.redraw()}}})})(window,document);
;

// ***************************
// js.compressed/qtip.js
// ***************************
/*=======================================================================*\
|| ###################################################################### ||
|| # vBulletin 5.6.1 Patch Level 1
|| # ------------------------------------------------------------------ # ||
|| # Copyright 2000-2020 MH Sub I, LLC dba vBulletin. All Rights Reserved.  # ||
|| # This file may not be redistributed in whole or significant part.   # ||
|| # ----------------- VBULLETIN IS NOT FREE SOFTWARE ----------------- # ||
|| # http://www.vbulletin.com | http://www.vbulletin.com/license.html   # ||
|| ###################################################################### ||
\*========================================================================*/
window.vBulletin=window.vBulletin||{};window.vBulletin.phrase=window.vBulletin.phrase||{};window.vBulletin.phrase.precache=window.vBulletin.phrase.precache||[];window.vBulletin.phrase.precache=$.merge(window.vBulletin.phrase.precache,["no_preview_text_available","working_ellipsis"]);window.vBulletin.options=window.vBulletin.options||{};window.vBulletin.options.precache=window.vBulletin.options.precache||[];window.vBulletin.options.precache=$.merge(window.vBulletin.options.precache,["threadpreview"]);(function(){(function(){function E(I,H){var G=H.elements.tooltip;window.setTimeout(function(){var P=parseInt(G.css("left"),10),J=$(window).scrollLeft();if(P<J){G.css("left",J+1)}else{var O=G.outerWidth(),L=$(window).width(),M=P+O,K=J+L;if(M>K){var Q=M-K,N=P-Q;G.css("left",N-1)}}},0)}var F=$.fn.qtip;$.fn.qtip=function(){if(typeof arguments[0]=="object"){if(typeof arguments[0].events=="undefined"){arguments[0].events={}}if(typeof arguments[0].events.move=="function"){arguments[0].events.move=vBulletin.runBeforeCallback(arguments[0].events.move,E)}else{arguments[0].events.move=E}}return F.apply(this,arguments)}})();function D(G,E,H){var I=["left","right"];if(vBulletin.isRtl()){I.reverse()}var F={style:{classes:"qtip-shadow qtip-rounded "+E},position:{my:"top "+I[0],at:"bottom "+I[1],viewport:$(window)},};$.extend(F,H);G.qtip(F)}function A(E){D($(".js-tooltip[title]",E))}A($(document));$(document).on("vb-instrument",function(E){A($(E.target))});if(($(".channel-content-widget").length>0&&$(".channel-content-widget").eq(0).attr("data-canviewtopiccontent"))||$(".search-results-widget").length>0){var B=".topic-list-container .topic-title, .conversation-list .post-title, .conversation-list .b-post__title";var C=function(){if(!(vBulletin.options.get("threadpreview")>0)){$(document).off("mouseover",B);return }var E=$(this);if(E.data("vb-qtip-preview-initialized")=="1"){return }E.data("vb-qtip-preview-initialized","1");var G=parseInt(E.closest(".topic-item").attr("data-node-id")||E.closest(".js-post").attr("data-node-id")),F=vBulletin.isRtl();D(E,"qtip-topicpreview",{content:{text:function(J,I){var H=function(K){var L=K?K:vBulletin.phrase.get("no_preview_text_available");I.set("content.text",L);return K};if(G){vBulletin.AJAX({call:"/ajax/fetch-node-preview",data:{nodeid:G},success:function(K){H($.trim(K))},api_error:function(){H()},error:function(M,K,L){H(K+": "+L)}});return vBulletin.phrase.get("working_ellipsis")}else{return H()}}},show:{delay:500}});E.trigger("mouseover")};$(document).off("mouseover",B).on("mouseover",B,C)}vBulletin.qtip={apply:D,}})();;

